<module>
<baseinfo>
name=多说评论
team=多说网
time=2012-07-28
email=webmaster@duoshuo.com
url=http://www.duoshuo.com
hash=c5524b0adb8a556ede0e5663cd559980
indexname=
indexurl=
ismember=0
autosetup=1
autodel=1
lang=gb2312
moduletype=soft
</baseinfo>
<systemfile>
<menustring>
PG06dG9wIG5hbWU9J7bgy7UnIGM9JzEsJyBkaXNwbGF5PSdibG9jaycgcmFuaz0nMCc+DQo8bTppdGVtIG5hbWU9J8bAwtu53MDtJyBsaW5rPSdkdW9zaHVvLnBocD9hY3Rpb249bWFuYWdlQ29tbWVudHMnIHJhbms9JycgdGFyZ2V0PSdtYWluJyAvPg0KPG06aXRlbSBuYW1lPSexvrXYyejWwycgbGluaz0nZHVvc2h1by5waHA/YWN0aW9uPWxvY2FsQ29uZmlnJyByYW5rPScnIHRhcmdldD0nbWFpbicgLz4NCjxtOml0ZW0gbmFtZT0n08O7p7ncwO0nIGxpbms9J2R1b3NodW8ucGhwP2FjdGlvbj1hZG1pblVzZXJzJyByYW5rPScnIHRhcmdldD0nbWFpbicgLz4NCjxtOml0ZW0gbmFtZT0nxsDC27/yyejWwycgbGluaz0nZHVvc2h1by5waHA/YWN0aW9uPWFkbWluU2V0dGluZ3MnIHJhbms9JycgdGFyZ2V0PSdtYWluJyAvPg0KPG06aXRlbSBuYW1lPSew79b6zsS1tScgbGluaz0nZHVvc2h1by5waHA/YWN0aW9uPWhlbHBEb2N1bWVudCcgcmFuaz0nJyB0YXJnZXQ9J21haW4nIC8+DQo8L206dG9wPg==
</menustring>
<readme>
PHAgc3R5bGU9J2xpbmUtaGVpZ2h0OjE1MCUnPjxwPte3x/PX7rzR08O7p8zl0em1xMnnu+G7r8bAwtu/8qOszqrW0NChzfjVvszhuanQwsDLzqKyqaGiUVGhosjLyMuhor+q0MTN+KGitrmw6qGizfjS186isqmhosvRuvzOorKpoaKw2bbItci24NXKusW1x8K8sqLGwMLbuabE3KGjobC24Mu1obGw78TjtO69qLj8u+7UvqOsu6W2r9DUuPzHv7XExsDC28a9zKiho8v8u7nT0NbatuDKtdPDzNjQ1KOsuabE3Me/tPPH0tPAvsPD4rfRoaM8YnIgLz4NCjwvcD48YnIgLz4NCjxwPjxiciAvPg0KPHN0cm9uZz49ICDM2MmrID08L3N0cm9uZz48YnIgLz4NCjx1bD48YnIgLz4NCgk8bGk+IDxzdHJvbmc+ILbg1cu6xbXHwryjujwvc3Ryb25nPr/J08PQwsDLzqKyqaGiUVGhosjLyMuhor+q0MShora5sOqhos340tfOorKpoaLL0br8zqKyqaGisNm2yNXLusW1x8K8t6Kx7cbAwtujrLK7sdjK5Mjr08rP5KO71ebKtcntt921x8K8yMPGwMLb1d/Qzs/zuPzPyrvuo6zM4bjfxsDC29bKwb88L2xpPjxiciAvPg0KCTxsaT48c3Ryb25nPiDH4cvJsLLXsKO6PC9zdHJvbmc+sLLXsERlZGVDTVOy5bz+u/Ky5cjr0ru2zrT6wuujrLCy17C00860yOe0y7zytaU8L2xpPjxiciAvPg0KCTxsaT48c3Ryb25nPiDTxdbKtcTL2bbIus3OyLao0NSjujwvc3Ryb25nPrGj1qQzMDC6wcPru/K4/LbMvNPU2MqxvOSjrDk5Ljkl1f2zo7f+zvHKsbzkPC9saT48YnIgLz4NCgk8bGk+PHN0cm9uZz4gt9bP7cbAwtu78s7E1cKjujwvc3Ryb25nPsbAwtu1xM2syrG9q87E1cK31s/ttb2497Tzyee9u8341b6jrMjDxsDC29XftcS6w9PR0rLAtLLO0+vGwMLbo6y0+MC0u9i3w8H3wb88L2xpPjxiciAvPg0KPC91bD48YnIgLz4NCjwvcD48YnIgLz4NCjxwPjxiciAvPg0KPHN0cm9uZz49IMbAwtu/8tStwLS/ydLUyOe0y76rssogPTwvc3Ryb25nPjxiciAvPg0KPHVsPjxiciAvPg0KCTxsaT624NXLusW1x8K8o7rIw8341b61xNPDu6fH4cvJvNPI68TjtcTJ58f4ss7T68zWwtujrNans9bQwsDLzqKyqaGiUVGhosjLyMuhora5sOqhor+q0MTN+KGizfjS186isqmhosvRuvzOorKpoaKw2bbI1cu6xbrN08rP5LXHwryjrLj8tuC1x8K8t73KvcK90PjM7bzT1tChozwvbGk+PGJyIC8+DQoJPGxpPrvYuLTM4dDRo7rI57n7xsDC28rVtb272Li0o6zGwMLb1d/U2sjOus6wstewwcu24Mu1z7XNs7XEzfjSs7a8v8nS1MrVtb3M4cq+o6y72LfDxOO1xM341b48L2xpPjxiciAvPg0KCTxsaT7GwMLbseq8x8+yu7ajurnEwPjTw7unwfTPwtHU1q7T0M7vtcTGwMLbPC9saT48YnIgLz4NCgk8bGk+xsDC273nw+bX1Lao1sajusbAwtu/8s671sOjrMbAwtvFxcHQy7PQ8qOstuC8trvYuLShrbbgy7W1xNfUtqjWxtGhz+7Iw8bAwtu/8tfUyLvI2sjrxOO1xM341b48L2xpPjxiciAvPg0KPC91bD48YnIgLz4NCjwvcD48YnIgLz4NCjxwPjxiciAvPg0KPHN0cm9uZz49ILjf0KfHv7TztcS53MDtuvPMqLf+zvGw78Tjuf3Cy8Csu/jGwMLbID08L3N0cm9uZz48YnIgLz4NCjx1bD48YnIgLz4NCgk8bGk+yv2+3bG+tdixo7Tmo7rGwMLbyv2+3cq1yrGxo7Tmtb1Xb3JkUHJlc3OxvrXYt/7O8cb3o6yyor/Jy+bKsb2rtuDLtcbAwtu1vLP2o6yyu9PDtaPQxMr9vt22qsqnPC9saT48YnIgLz4NCgk8bGk+1sfE3Mq2sfCjusD708NBa2lzbWF0us3G5Mv7sLLXsMHLtuDLtcbAwtvPtc2zzfjVvrXEyv2+3b/io6zWx8Tcyrax8MCsu/jGwMLbPC9saT48YnIgLz4NCgk8bGk+0tfTw7XEudzA7brzzKijutK71b7KvbrzzKiw78Tjx+HLyaGiuN/Qp7XEtKbA7bqjwb/GwMLboaPE47/J0tTU2rrzzKi3vbHjtcS9q8bAwtu9+NDQt9bA4LrNyb6z/aOs1rvT0NX9s6PGwMLbssW74c/Uyr7U2s341b61xNKzw+bJz6GjPC9saT48YnIgLz4NCgk8bGk+tuDVy7rFudzA7aO6tuC49rncwO3Usb/JtcfCvbncwO3NrNK7uPbN+NW+tcTGwMLbo6yyor/Jyei2qLncwO3UsaGiseC8rbXIsrvNrLncwO3IqM/ePC9saT48YnIgLz4NCgk8bGk+08XWyrXEy9m2yLrNzsi2qNDUo7ozMDC6wcPru/K4/LbMvNPU2MqxvOSjrDk5Ljkl1f2zo7f+zvHKsbzko6y809TYxsDC28qxt8POyrbgy7W3/s7xxvejrL21tc3N+NW+19TJ7bf+zvHG99G5waY8L2xpPjxiciAvPg0KCTxsaT7M2LHwzqrGwMLbxNrI3cnovMa1xFNFT9PFu688L2xpPjxiciAvPg0KPC91bD48YnIgLz4NCjwvcD48YnIgLz4NCjxwPjxiciAvPg0KPHN0cm9uZz49IMjDtuDLtbPJzqrFprT4o6y9q8TjtcTN+NW+0+vN4r3nz+DBrCA9PC9zdHJvbmc+PGJyIC8+DQo8dWw+PGJyIC8+DQoJPGxpPrfWz+3GwMLbu/LOxNXCo7rWu9DovPK1pbm00aGjrMbAwtu78s7E1cK8tL/Jt9bP7bW9uPe088nnvbvN+NW+oaO0+NPQxsDC27XEt9bP7bvhyMPGwMLb1d+1xLrD09G4/NPQ0MvIpLfDzsrE47XEzfjVvjwvbGk+PGJyIC8+DQoJPGxpPs6isqnGwMLbzayyvaO6V29yZFByZXNzzfjVvr/J0tTU2reisrzOxNXCtcTNrMqxt6KyvNK7zPXQwsDLzqKyqaOszqKyqbXExsDC29fUtq/NrLK9tb3E47XEzfjVvjwvbGk+PGJyIC8+DQoJPGxpPr/nzfjVvrXHwryjurfDv83U2rHwtcTN+NW+yc+1x8K8tuDLtbrzo6zU2bfDzsrE47XEzfjVvsqxo6y/ydLUsrvTw9TZtcfCvKOs1rG908bAwts8L2xpPjxiciAvPg0KPC91bD48YnIgLz4NCjwvcD48YnIgLz4NCjxwPjxiciAvPg0KPHN0cm9uZz49IM+4vdrM2MmrID08L3N0cm9uZz48YnIgLz4NCjx1bD48YnIgLz4NCgk8bGk+z9TKvs7E1cLP4LnYzqKyqTwvbGk+PGJyIC8+DQoJPGxpPrvYuLTM4dDRPC9saT48YnIgLz4NCgk8bGk+ssnTw0FraXNtZXS5/cLLwKy7+MbAwts8L2xpPjxiciAvPg0KCTxsaT6y5cjrse3H6TwvbGk+PGJyIC8+DQoJPGxpPs+yu7bOxNXCsqK31s/ttb3J5727zfjC57mmxNw8L2xpPjxiciAvPg0KCTxsaT7Wp7PWSFRNTL3izvY8L2xpPjxiciAvPg0KCTxsaT7Wp7PWR3JhdmF0YXLNt8/xPC9saT48YnIgLz4NCgk8bGk+0LTOxNXCzayyvbW9zqKyqcqxtdrSu9XFzbzGrNf3zqrOorKpxeTNvDwvbGk+PGJyIC8+DQoJPGxpPtans9bX1Lao0uVDU1PXt7zT0N64xLbgy7XR+cq9PC9saT48YnIgLz4NCgk8bGk+1qez1srX0rPX7tDCxsDC28HQse24/NDCPC9saT48YnIgLz4NCgk8bGk+1qez1s7E1cKx6szixdSx37XExsDC27zGyv24/NDCPC9saT48YnIgLz4NCjwvdWw+PGJyIC8+DQo8L3A+PGJyIC8+DQo8cD48YnIgLz4NCjxzdHJvbmc+PSC63Mjd0te+zcTc1dK1vc7Sw8cgPTwvc3Ryb25nPjxiciAvPg0KPGRpdj48YnIgLz4NCtDCwMvOorKpo7o8YSBocmVmPSJodHRwOi8vd2VpYm8uY29tL2R1b3NodW8iIHRhcmdldD0iX2JsYW5rIj5AtuDLtc34PC9hPjxiciAvPg0KzNrRts6isqmjujxhIGhyZWY9Imh0dHA6Ly90LnFxLmNvbS9kdW8tc2h1byIgdGFyZ2V0PSJfYmxhbmsiPkC24Mu1zfg8L2E+PGJyIC8+DQrIy8jL1vfSs6O6PGEgaHJlZj0iaHR0cDovL3BhZ2UucmVucmVuLmNvbS82OTkxNjg0MDgiIHRhcmdldD0iX2JsYW5rIj5AtuDLtc34PC9hPjxiciAvPg0Ktrmw6tCh1b6jujxhIGhyZWY9Imh0dHA6Ly9zaXRlLmRvdWJhbi5jb20vZHVvc2h1byIgdGFyZ2V0PSJfYmxhbmsiPrbgy7XN+DwvYT48YnIgLz4NCs340tfOorKpo7o8YSBocmVmPSJodHRwOi8vdC4xNjMuY29tL2R1b3NodW8iIHRhcmdldD0iX2JsYW5rIj5AtuDLtc34PC9hPjxiciAvPg0Ky9G6/M6isqmjujxhIGhyZWY9Imh0dHA6Ly9kdW9zaHVvLnQuc29odS5jb20vIiB0YXJnZXQ9Il9ibGFuayI+QLbgy7XN+DwvYT48YnIgLz4NCjwvZGl2PjxiciAvPg0KPGRpdj48YnIgLz4NCrXnu7CjujAxMC04MjgyNzUzNzxiciAvPg0KUVGjujExNzU3NjIyMzg8YnIgLz4NClFRo7oyMzEwMzkxMDAxPGJyIC8+DQo8L2Rpdj48YnIgLz4NCjwvcD48YnIgLz4NCjwvcD4=
</readme>
<setupsql40>
Q1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgIGR1b3NodW9fY29tbWVudG1ldGEoDQoJYHBvc3RfaWRgIGludCgxMCkgdW5zaWduZWQgTk9UIE5VTEwsIA0KCWBjaWRgIGludCgxMCkgdW5zaWduZWQgTk9UIE5VTEwsIA0KCVBSSU1BUlkgS0VZICAoYHBvc3RfaWRgKSwNCglLRVkgYGNpZGAgKGBjaWRgKQ0KKSBFTkdJTkU9TXlJU0FNOw==
</setupsql40>
<delsql>
REVMRVRFIEZST00gYCNAX19wbHVzYCB3aGVyZSBwbHVzbmFtZSBsaWtlICe24Mu1xsDC27LlvP4nOw0KREVMRVRFIEZST00gYCNAX19wbHVzYCB3aGVyZSBwbHVzbmFtZSBsaWtlICe24Mu1xsDC2yc7
</delsql>
<setup>

</setup>
<uninstall>

</uninstall>
<oldfilelist>
./duoshuo.php
../include/taglib/duoshuo.lib.php
../plus/duoshuo.php
../plus/duoshuo/templets/comments_seo.htm
../plus/duoshuo/templets/comments.htm
../plus/duoshuo/templets/local_config.htm
../plus/duoshuo/templets/admin.htm
../plus/duoshuo/templets/replace_tag.htm
../plus/duoshuo/Abstract.php
../plus/duoshuo/Admin.php
../plus/duoshuo/api.php
../plus/duoshuo/compat_json.php
../plus/duoshuo/Client.php
../plus/duoshuo/Dedecms.php
../plus/duoshuo/Exception.php
../plus/duoshuo/LocalServer.php
</oldfilelist>
</systemfile>

<modulefiles>
<file type='file' name='./duoshuo.php'>
PD9waHAKLyoqCiAqILbgy7Wy5bz+CiAqCiAqIEB2ZXJzaW9uICAgICAgICAkSWQ6IGR1b3NodW8ucGhwIDAgMTA6MTcgMjAxMi00LTI3IHhpYW93dSAkCiAqIEBwYWNrYWdlICAgICAgICBEZWRlQ01TLkRVT1NIVU8KICogQGNvcHlyaWdodCAgICAgIENvcHlyaWdodCAoYykgMjAxMiAtICwgRHVvc2h1bywgSW5jLgogKiBAbGluayAgICAgICAgICAgaHR0cDovL3d3dy5kdW9zaHVvLmNvbQogKi8KCnJlcXVpcmVfb25jZShkaXJuYW1lKF9fRklMRV9fKS4iL2NvbmZpZy5waHAiKTsKcmVxdWlyZV9vbmNlKERFREVJTkMuIi9qc29uLmNsYXNzLnBocCIpOwoKcmVxdWlyZV9vbmNlKERFREVST09ULicvcGx1cy9kdW9zaHVvLnBocCcpOwpyZXF1aXJlX29uY2UoREVERVJPT1QuJy9wbHVzL2R1b3NodW8vQWRtaW4ucGhwJyk7CgokZHVvc2h1b1BsdWdpbiA9IER1b3NodW9fRGVkZWNtczo6Z2V0SW5zdGFuY2UoKTsKLy8gyejWw8SsyM+yzsr9CiRkdW9zaHVvUGx1Z2luLT5jaGVja0RlZmF1bHRTZXR0aW5ncygpOwoKCi8vtNO3/s7xxve3tbvYtcTXorLhveG5+wppZighZW1wdHkoJF9HRVQpICYmIGlzc2V0KCRfR0VUWydkdW9zaHVvX2Nvbm5lY3Rfc2l0ZSddKSAmJiBpc3NldCgkX0dFVFsnc2hvcnRfbmFtZSddKSAmJiBpc3NldCgkX0dFVFsnc2VjcmV0J10pKXsKCSRrZXlzID0gYXJyYXkoJ3Nob3J0X25hbWUnLCdzZWNyZXQnKTsKCWZvcmVhY2ggKCRrZXlzIGFzICRrZXkpewoJCSRkdW9zaHVvUGx1Z2luLT51cGRhdGVPcHRpb24oJGtleSwkX0dFVFska2V5XSk7Cgl9CgkkYWN0aW9uID0gJ2luc3RhbGxTdGVwMSc7Cn0KCi8vvObI3TAuMS54sOaxvrLlvP4g0v3I67bgy7XF5NbDzsS8/iB7eyDWu9PD09ogMC4yLngKJGNvbmZpZ0ZpbGUgPSAgREVERURBVEEuJy9kdW9zaHVvLmluYy5waHAnOwoKaWYoZmlsZV9leGlzdHMoJGNvbmZpZ0ZpbGUpKXsKCWlmKCRkdW9zaHVvUGx1Z2luLT5nZXRPcHRpb24oJ3Nob3J0X25hbWUnKSA9PSAnJyB8fCRkdW9zaHVvUGx1Z2luLT5nZXRPcHRpb24oJ3NlY3JldCcpID09ICcnKXsvL8jnufvK/b7dv+LJ6NbDsrvN6tX7LLTTzsS8/rW8yOsKCQlpbmNsdWRlX29uY2UgJGNvbmZpZ0ZpbGU7CgkJZ2xvYmFsICRjZmdfZHVvc2h1bzsKCQlpZihpc3NldCgkY2ZnX2R1b3NodW8pKQoJCXsKCQkJaWYoJGR1b3NodW9QbHVnaW4tPmdldE9wdGlvbignc2hvcnRfbmFtZScpID09ICcnICYmICFlbXB0eSgkY2ZnX2R1b3NodW9bJ3Nob3J0X25hbWUnXSkpewoJCQkJJGR1b3NodW9QbHVnaW4tPnVwZGF0ZU9wdGlvbignc2hvcnRfbmFtZScsICRjZmdfZHVvc2h1b1snc2hvcnRfbmFtZSddKTsKCQkJfQoJCQlpZigkZHVvc2h1b1BsdWdpbi0+Z2V0T3B0aW9uKCdzZWNyZXQnKSA9PSAnJyAgJiYgIWVtcHR5KCRjZmdfZHVvc2h1b1snc2VjcmV0J10pKXsKCQkJCSRkdW9zaHVvUGx1Z2luLT51cGRhdGVPcHRpb24oJ3NlY3JldCcsJGNmZ19kdW9zaHVvWydzZWNyZXQnXSk7CgkJCX0KCQl9Cgl9CgoJaWYoJGR1b3NodW9QbHVnaW4tPmdldE9wdGlvbignc2hvcnRfbmFtZScpICE9ICcnICYmICRkdW9zaHVvUGx1Z2luLT5nZXRPcHRpb24oJ3NlY3JldCcpICE9ICcnKXsKCQkkc3VjY2VzcyA9IHVubGluaygkY29uZmlnRmlsZSk7Ly/I57n7yv2+3b/i0tG+rcno1sOjrMm+s/3OxLz+Cgl9Cn0KLy99fQoKaWYoJGR1b3NodW9QbHVnaW4tPmdldE9wdGlvbignc2hvcnRfbmFtZScpID09ICcnIHx8ICRkdW9zaHVvUGx1Z2luLT5nZXRPcHRpb24oJ3NlY3JldCcpID09ICcnKXsKCSRwYXJhbXMgPSAkZHVvc2h1b1BsdWdpbi0+cGFja2FnZU9wdGlvbnMoKTsKCSR1cmwgPSAnaHR0cDovLycgLiBEdW9zaHVvX0Fic3RyYWN0OjpET01BSU4gLiAnL2Nvbm5lY3Qtc2l0ZS8/Jy4gaHR0cF9idWlsZF9xdWVyeSgkcGFyYW1zLCBudWxsLCAnJicpOwoJaGVhZGVyKCJMb2NhdGlvbjoiIC4gJHVybCwgdHJ1ZSk7CglleGl0Owp9CgokZHVvc2h1b0FkbWluID0gbmV3IER1b3NodW9fQWRtaW4oKTsKCmlmKGlzc2V0KCRhY3Rpb24pKXsKCWlmIChtZXRob2RfZXhpc3RzKCAkZHVvc2h1b0FkbWluLCAkYWN0aW9uICkgPT09IFRSVUUpewoJCSRkdW9zaHVvQWRtaW4tPiRhY3Rpb24oKTsKCX0KCWVsc2UKCQlTaG93bXNnKCfDu9PQtMuy2df3JywxLDIpOwp9Cg==
</file>
<file type='file' name='../include/taglib/duoshuo.lib.php'>
PD9waHAgaWYoIWRlZmluZWQoJ0RFREVJTkMnKSkgZXhpdCgnUmVxdWVzdCBFcnJvciEnKTsKcmVxdWlyZV9vbmNlKERFREVST09ULicvcGx1cy9kdW9zaHVvLnBocCcpOwpyZXF1aXJlX29uY2UoREVERVJPT1QuJy9pbmNsdWRlL3RhZ2xpYi9mZWVkYmFjay5saWIucGhwJyk7CmZ1bmN0aW9uIGxpYl9kdW9zaHVvKCYkY3RhZywmJHJlZk9iaikKewoJZ2xvYmFsICRkc3FsLCRlbnZzLCRjZmdfcGhwdXJsLCRjZmdfYmFzZWhvc3QsJGNmZ19tdWx0aV9zaXRlOwoJCgkkcGx1Z2luID0gRHVvc2h1b19EZWRlY21zOjpnZXRJbnN0YW5jZSgpOwoJCglpZiAoJHBsdWdpbi0+Z2V0T3B0aW9uKCdzaG9ydF9uYW1lJykgPT0gJycgfHwgJHBsdWdpbi0+Z2V0T3B0aW9uKCdzZWNyZXQnKSA9PSAnJykgCgkJcmV0dXJuICfU2rncwO2688yovfjQ0NK7sr3F5NbDo6y+zb/J0tS/qsq8yrnTw7bgy7XByyc7CgkKCSRhdHRsaXN0PSd0eXBlfDAnOwoJRmlsbEF0dHNEZWZhdWx0KCRjdGFnLT5DQXR0cmlidXRlLT5JdGVtcywkYXR0bGlzdCk7CglleHRyYWN0KCRjdGFnLT5DQXR0cmlidXRlLT5JdGVtcywgRVhUUl9TS0lQKTsKCQoJaWYoZW1wdHkoJHJlZk9iai0+RmllbGRzWydhaWQnXSkpewoJCXJldHVybiAnJzsKCX0KCSRhcmNpZCA9ICRyZWZPYmotPkZpZWxkc1snYWlkJ107CgkKCSRhdHRycyA9IGFycmF5KCk7CgkkYXR0cnNbXSA9ICcgZGF0YS10aHJlYWQta2V5PSInLiRhcmNpZC4nIic7CglpZighZW1wdHkoJHJlZk9iai0+RmllbGRzWyd0aXRsZSddKSl7CgkJJGF0dHJzW10gPSAnZGF0YS10aXRsZT0iJy5odG1sc3BlY2lhbGNoYXJzKCRyZWZPYmotPkZpZWxkc1sndGl0bGUnXSxFTlRfUVVPVEVTLCdHQksnKS4nIic7Cgl9CglvYl9zdGFydCgpOwoJcmVxdWlyZSAoREVERVJPT1QuJy9wbHVzL2R1b3NodW8vdGVtcGxldHMvY29tbWVudHMuaHRtJyk7CgkKCWlmKCRwbHVnaW4tPmdldE9wdGlvbignc2VvX2VuYWJsZWQnKSAmJiAhZW1wdHkoJGFyY2lkKSl7CgkJLy8gw7/GqsbAwtvX7rTz19bK/QoJCSRpbmZvbGVuID0gMjAwOwoJCS8vIMO/xqrOxNXCc2Vvz9TKvrXE1+6089DQyv0KCQkkdG90YWxyb3cgPSAxMDA7CgkJCgkJJGlubmVydGV4dCAgPSBmaWxlX2dldF9jb250ZW50cyhERURFUk9PVC4nL3BsdXMvZHVvc2h1by90ZW1wbGV0cy9jb21tZW50c19zZW8uaHRtJyk7Cgo/Pgo8ZGl2IGlkPSJkcy1zc3IiIGNsYXNzPSJtdDEiPgoJPGRsIGNsYXNzPSJ0Ym94Ij4KCQk8ZHQ+IDxzdHJvbmc+xsDC28HQse2jqM3409HGwMLbvfa5qc3409Gx7bTvuPbIy7+0t6ijrLKisrux7cP3sb7Vvs2s0uLG5LnbteO78takyrXG5MPoyvajqTwvc3Ryb25nPiA8L2R0PgoJCTxkZD4KCQkJPGRpdiBjbGFzcz0iZGVkZV9jb21tZW50Ij4KCQkJCTxkaXYgY2xhc3M9ImRlY210LWJveDEiPgoJCQkJCTx1bD4KCQkJCQkJPGxpIGlkPSJjb21tZXRjb250ZW50TmV3Ij48L2xpPgoKPD9waHAgCQkKCQkkd3NxbCA9ICIgV0hFUkUgaXNjaGVjaz0xIEFORCBhaWQgPSAkYXJjaWQiOwoJCSRlcXVlcnkgPSAiU0VMRUNUICogRlJPTSBgI0BfX2ZlZWRiYWNrYCAkd3NxbCBPUkRFUiBCWSBpZCBERVNDIExJTUlUIDAgLCAkdG90YWxyb3ciOwoJCSRjdHAgPSBuZXcgRGVkZVRhZ1BhcnNlKCk7CgkJJGN0cC0+U2V0TmFtZVNwYWNlKCdmaWVsZCcsJ1snLCddJyk7CgkJJGN0cC0+TG9hZFNvdXJjZSgkaW5uZXJ0ZXh0KTsKCQkKCQkkZHNxbC0+RXhlY3V0ZSgnZmInLCRlcXVlcnkpOwoJCXdoaWxlKCRhcnI9JGRzcWwtPkdldEFycmF5KCdmYicpKQoJCXsKCQkJJGFyclsnbXNnJ10gPSBqc1RyaW0oSHRtbDJUZXh0KCRhcnJbJ21zZyddKSwkaW5mb2xlbik7CgkJCSRhcnJbJ2R0aW1lJ10gPSBHZXREYXRlVGltZU1LKCRhcnJbJ2R0aW1lJ10pOwoJCQkkYXJyWyd1c2VybmFtZSddID0gJHN0ciA9IHN0cl9yZXBsYWNlKCcmbHQ7YnIvJmd0OycsJyAnLCRhcnJbJ3VzZXJuYW1lJ10pOwoJCQlmb3JlYWNoKCRjdHAtPkNUYWdzIGFzICR0YWdpZD0+JGN0YWcpCgkJCXsKCQkJCWlmKCFlbXB0eSgkYXJyWyRjdGFnLT5HZXROYW1lKCldKSkKCQkJCXsKCQkJCQkkY3RwLT5Bc3NpZ24oJHRhZ2lkLCRhcnJbJGN0YWctPkdldE5hbWUoKV0pOwoJCQkJfQoJCQl9CgkJCWVjaG8gJGN0cC0+R2V0UmVzdWx0KCk7CgkJfQo/PiAKCQkJCQk8L3VsPgoJCQkJPC9kaXY+CgkJCTwvZGl2PgoJCTwvZGQ+Cgk8L2RsPgo8L2Rpdj4KCjw/cGhwIAoJfQoKCXJldHVybiBvYl9nZXRfY2xlYW4oKTsKfQ==
</file>
<file type='file' name='../plus/duoshuo.php'>
PD9waHAKaWYgKCFleHRlbnNpb25fbG9hZGVkKCdqc29uJykpCglpbmNsdWRlX29uY2UgREVERVJPT1QuJy9wbHVzL2R1b3NodW8vY29tcGF0X2pzb24ucGhwJzsKCnJlcXVpcmVfb25jZSBERURFUk9PVC4nL3BsdXMvZHVvc2h1by9FeGNlcHRpb24ucGhwJzsKcmVxdWlyZV9vbmNlIERFREVST09ULicvcGx1cy9kdW9zaHVvL0NsaWVudC5waHAnOwpyZXF1aXJlX29uY2UgREVERVJPT1QuJy9wbHVzL2R1b3NodW8vQWJzdHJhY3QucGhwJzsKcmVxdWlyZV9vbmNlIERFREVST09ULicvcGx1cy9kdW9zaHVvL0RlZGVjbXMucGhwJzs=
</file>
<file type='file' name='../plus/duoshuo/templets/comments_seo.htm'>
CQkJCQkJCTxsaT4KCQkJCQkJCQk8c3BhbiBjbGFzcz0idGl0bGUiPltmaWVsZDp1c2VybmFtZSBmdW5jdGlvbj0iKEBtZT09J2d1ZXN0JyA/ICfTzr/NJyA6IEBtZSkiL108L3NwYW4+CgkJCQkJCQkJPGRpdiBjbGFzcz0iY29tbWVudF9hY3QiPltmaWVsZDpkdGltZS9dt6Kx7TwvZGl2PgoJCQkJCQkJCTxwPgoJCQkJCQkJCVtmaWVsZDptc2cgL10KCQkJCQkJCQk8L3A+CgkJCQkJCQk8L2xpPgo=
</file>
<file type='file' name='../plus/duoshuo/templets/comments.htm'>
PD9waHAKCSRkdW9zaHVvUGx1Z2luID0gRHVvc2h1b19EZWRlY21zOjpnZXRJbnN0YW5jZSgpOwo/Pgo8IS0tIER1b3NodW8gQ29tbWVudCBCRUdJTiAtLT4KCTxkaXYgY2xhc3M9ImRzLXRocmVhZCIgPD9waHAgZWNobyBpbXBsb2RlKCcgJywgJGF0dHJzKTs/Pj48L2Rpdj4KCTxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KCXZhciBkdW9zaHVvUXVlcnkgPSB7c2hvcnRfbmFtZTogIjw/cGhwIGVjaG8gJHBsdWdpbi0+Z2V0T3B0aW9uKCdzaG9ydF9uYW1lJykgOz8+In07CgkoZnVuY3Rpb24oKSB7CgkJdmFyIGRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CgkJZHMudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO2RzLmFzeW5jID0gdHJ1ZTsKCQlkcy5zcmMgPSAnaHR0cDovL3N0YXRpYy5kdW9zaHVvLmNvbS9lbWJlZC5qcyc7CgkJZHMuY2hhcnNldCA9ICdVVEYtOCc7CgkJKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0gfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXSkuYXBwZW5kQ2hpbGQoZHMpOwoJfSkoKTsKCTwvc2NyaXB0Pgo8IS0tIER1b3NodW8gQ29tbWVudCBFTkQgLS0+
</file>
<file type='file' name='../plus/duoshuo/templets/local_config.htm'>
PD9waHAKCSRhamF4X2NvbW1lbnRfZmlsZSA9IERFREVURU1QTEFURS4nL2RlZmF1bHQvYWpheGZlZWRiYWNrLmh0bSc7CgkkZHVvc2h1b1BsdWdpbiA9IER1b3NodW9fRGVkZWNtczo6Z2V0SW5zdGFuY2UoKTsKCSR0YWdfcmVwbGFjZWQgPSAgZmFsc2U7CgkKCWlmKGZpbGVfZXhpc3RzKCRhamF4X2NvbW1lbnRfZmlsZSkpewoJCSRjb21tZW50X2NvbnRlbnQgPSBmaWxlX2dldF9jb250ZW50cygkYWpheF9jb21tZW50X2ZpbGUpOwoJCQoJCWlmKHN0cnBvcygkY29tbWVudF9jb250ZW50LCBEdW9zaHVvX0RlZGVjbXM6OiRjb21tZW50VGFnKSE9PWZhbHNlKXsKCQkJJHRhZ19yZXBsYWNlZCA9IHRydWU7CgkJfQoJfQo/Pgo8IURPQ1RZUEUgaHRtbCBQVUJMSUMgIi0vL1czQy8vRFREIFhIVE1MIDEuMCBUcmFuc2l0aW9uYWwvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvVFIveGh0bWwxL0RURC94aHRtbDEtdHJhbnNpdGlvbmFsLmR0ZCI+CjxodG1sIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj4KPGhlYWQ+CjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PTw/cGhwIGVjaG8gJGNmZ19zb2Z0X2xhbmc7ID8+IiAvPgo8dGl0bGU+tuDLtcbAwtu53MDtPC90aXRsZT4KPHNjcmlwdCBsYW5ndWFnZT0iamF2YXNjcmlwdCIgc3JjPSIuLi9pbmNsdWRlL2pzL2pxdWVyeS9qcXVlcnkuanMiPjwvc2NyaXB0Pgo8c2NyaXB0IGxhbmd1YWdlPSJqYXZhc2NyaXB0IiBzcmM9Ii4uL2luY2x1ZGUvanMvZGVkZWFqYXgyLmpzIj48L3NjcmlwdD4KPGxpbmsgaHJlZj0iY3NzL2Jhc2UuY3NzIiByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiAvPgo8L2hlYWQ+Cjxib2R5IGJhY2tncm91bmQ9ImltYWdlcy9hbGxiZy5naWYiIGxlZnRtYXJnaW49IjgiIHRvcG1hcmdpbj0iOCI+Cjx0YWJsZSB3aWR0aD0iOTglIiBib3JkZXI9IjAiIGFsaWduPSJjZW50ZXIiIGNlbGxwYWRkaW5nPSIzIiBjZWxsc3BhY2luZz0iMSIgYmdjb2xvcj0iI0Q2RDZENiIgc3R5bGU9Im1hcmdpbi1ib3R0b206NnB4Ij4KCTx0cj4KCQk8dGQgaGVpZ2h0PSIyOCIgYmFja2dyb3VuZD0iaW1hZ2VzL3RiZy5naWYiIHN0eWxlPSJwYWRkaW5nLWxlZnQ6MTBweDsiPgoJCQk8ZGl2IHN0eWxlPSJmbG9hdDpsZWZ0Ij4KCQkJCTxiPtfUtq/M5ru71K3KvMbAwtu/8jwvYj4KCQkJPC9kaXY+CgkJPC90ZD4KCTwvdHI+Cgk8dHIgYmdjb2xvcj0iI0ZGRkZGRiIgaGVpZ2h0PSIyNiI+CgkJPHRkIHN0eWxlPSJwYWRkaW5nLWxlZnQ6MTBweDsiPgoJCQk8ZGl2IHN0eWxlPSJmbG9hdDpsZWZ0Ij4KCQkJCTw/cGhwIGlmKCEkdGFnX3JlcGxhY2VkKTo/PgoJCQkJPGZvcm0gYWN0aW9uPSJkdW9zaHVvLnBocCIgbmFtZT0icmVwbGFjZUNvbW1lbnRUYWciIG1ldGhvZD0icG9zdCI+CgkJCQkJPGlucHV0IG5hbWU9ImFjdGlvbiIgdHlwZT0iaGlkZGVuIiB2YWx1ZT0icmVwbGFjZUNvbW1lbnRUYWciLz4KCQkJCQnI57n7xPrOtLjEtq+5/c+1zbPEo7DlxsDC27K/t9ajrL2o0unKudPD19S2r8zmu7uhowoJCQkJCTxwPtfUtq/M5ru7vau74bG4t90vdGVtcGxldHMvYWpheGZlZWJhY2suaHRtzqovdGVtcGxldHMvYWpheGZlZWRiYWNrLmJhY2suaHRto6yyor2rPGI+PD9waHAgZWNobyBEdW9zaHVvX0RlZGVjbXM6OiRjb21tZW50VGFnOz8+IDwvYj7QtMjr0MK1xC90ZW1wbGV0cy9hamF4ZmVlYmFjay5odG3Eo7DloaMKCQkJCQk8L3A+CgkJCQkJPHA+CgkJCQkJPGlucHV0IHR5cGU9ImJ1dHRvbiIgc2l6ZT0iMTIiIG9uY2xpY2s9ImRvY3VtZW50LnJlcGxhY2VDb21tZW50VGFnLnN1Ym1pdCgpOyIgc3R5bGU9IndpZHRoOjUwcHgiIHZhbHVlPSLM5ru7IiAvPgoJCQkJCTwvcD4KCQkJCTwvZm9ybT4KCQkJCTw/cGhwIGVsc2U6Pz4KCQkJCQm87LLitb3X1LavzOa7u9LRvq3J+tCno6zI58q508O+ssysSFRNTM7EtbWjrNDoz8ggWzxhIHRhcmdldD0ibWFpbiIgaHJlZj0ibWFrZWh0bWxfYXJjaGl2ZXMucGhwIj48dT64/NDCzsS1tUhUTUw8L3U+PC9hPl0g1q6686Os0tTHsLXEzsTVwrLFu+HP1Mq+tuDLtcbAwtu/8qGjCgkJCQkJPHA+19S2r8zmu7vS0b6tvasvdGVtcGxldHMvYWpheGZlZWJhY2suaHRtsbi33c6qL3RlbXBsZXRzL2FqYXhmZWVkYmFjay5iYWNrLmh0baOssqK9qzxiPjw/cGhwIGVjaG8gRHVvc2h1b19EZWRlY21zOjokY29tbWVudFRhZzs/PiA8L2I+0LTI69DCtcQvdGVtcGxldHMvYWpheGZlZWJhY2suaHRtxKOw5aGjPC9wPgoJCQkJCQoJCQkJPD9waHAgZW5kaWY7Pz4KCQkJPC9kaXY+CgkJPC90ZD4KCTwvdHI+Cgk8dHI+CgkJPHRkIGhlaWdodD0iMjgiIGJhY2tncm91bmQ9ImltYWdlcy90YmcuZ2lmIiBzdHlsZT0icGFkZGluZy1sZWZ0OjEwcHg7Ij4KCQkJPGRpdiBzdHlsZT0iZmxvYXQ6bGVmdCI+CgkJCQk8Yj7I57n719S2r8zmu7vUrcq8xsDC27/yzt7Qp7vy0OjSqsrWtq+y5cjrxsDC27/yPC9iPgoJCQk8L2Rpdj4KCQk8L3RkPgoJPC90cj4KCTx0ciBiZ2NvbG9yPSIjRkZGRkZGIiBoZWlnaHQ9IjI2Ij4KCQk8dGQgc3R5bGU9InBhZGRpbmctbGVmdDoxMHB4OyI+CgkJCTxkaXYgc3R5bGU9ImZsb2F0OmxlZnQiPgoJCQkJPD9waHAgaWYoJHRhZ19yZXBsYWNlZCk6Pz4KCQkJCTxwPrzssuK1vdfUtq/M5ru70tG+rcn60KejrMjnufvE+rXEzsTVwtKzyNTOtM/Uyr7GwMLbv/KjrMfrz8i4/NDCvrLMrM7EtbWjrNTZv7zCx8rWtq/M5ru7oaM8L3A+CgkJCQk8P3BocCBlbmRpZjs/PgoJCQkJPHA+yOe5+8T6uPy4xLn9z7XNs8SjsOXGwMLbsr+31qOsu/LQ6NKq1NrOxNXC0rPW0Mbky/vOu9bDyrnTw8bAwtu/8qGj1rvQ6NTazsTVwsSjsOXP4NOmzrvWw7LlyOsgPGI+PD9waHAgZWNobyBEdW9zaHVvX0RlZGVjbXM6OiRjb21tZW50VGFnOz8+PC9iPgoJCQkJPC9wPgoJCQk8L2Rpdj4KCQk8L3RkPgoJPC90cj4KPC90YWJsZT4KPHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgYWxpZ249ImNlbnRlciIgY2VsbHBhZGRpbmc9IjMiIGNlbGxzcGFjaW5nPSIxIiBiZ2NvbG9yPSIjRDZENkQ2IiBzdHlsZT0ibWFyZ2luLWJvdHRvbTo2cHgiPgoJPHRyPgoJCTx0ZCBoZWlnaHQ9IjI4IiBiYWNrZ3JvdW5kPSJpbWFnZXMvdGJnLmdpZiIgY29sc3Bhbj0iMiIgc3R5bGU9InBhZGRpbmctbGVmdDoxMHB4OyI+CgkJCTxkaXYgc3R5bGU9ImZsb2F0OmxlZnQiPgoJCQkJPGI+sb612Mno1sM8L2I+CgkJCTwvZGl2PgoJCTwvdGQ+Cgk8L3RyPgoJPGZvcm0gYWN0aW9uPSJkdW9zaHVvLnBocCIgbmFtZT0ibG9jYWxDb25maWciIG1ldGhvZD0icG9zdCI+CgkJPGlucHV0IG5hbWU9ImFjdGlvbiIgdHlwZT0iaGlkZGVuIiB2YWx1ZT0ic2F2ZUxvY2FsQ29uZmlnIi8+CgkJPHRyIGJnY29sb3I9IiNGREZDRkEiIGFsaWduPSJjZW50ZXIiIGhlaWdodD0iMjYiIG9ubW91c2VvdXQ9ImphdmFzY3JpcHQ6dGhpcy5iZ0NvbG9yPScjRkRGQ0ZBJzsiIG9ubW91c2Vtb3ZlPSJqYXZhc2NyaXB0OnRoaXMuYmdDb2xvcj0nI0ZDRkRFRSc7Ij4KCQkJPHRkIHdpZHRoPSIxMjBweCIgYWxpZ249InJpZ2h0Ij6/qsb0U0VP08W7rzwvdGQ+CgkJCTx0ZCBhbGlnbj0ibGVmdCI+CgkJCTxpbnB1dCBjbGFzcz0ibnAiIHR5cGU9ImhpZGRlbiIgbmFtZT0ic2VvX2VuYWJsZWQiIHZhbHVlPSIwIiAvPgoJCQk8aW5wdXQgY2xhc3M9Im5wIiB0eXBlPSJjaGVja2JveCIgPD9waHAgZWNobyAkZHVvc2h1b1BsdWdpbi0+Z2V0T3B0aW9uKCdzZW9fZW5hYmxlZCcpPyAiY2hlY2tlZD0nY2hlY2tlZCciIDogJyc7ID8+IG5hbWU9InNlb19lbmFibGVkIiB2YWx1ZT0iMSIgLz48L3RkPgoJCTwvdHI+CgkJPHRyIGJnY29sb3I9IiNGRkZGRkYiIGhlaWdodD0iMjYiIG9ubW91c2VvdXQ9ImphdmFzY3JpcHQ6dGhpcy5iZ0NvbG9yPScjRkZGRkZGJzsiIG9ubW91c2Vtb3ZlPSJqYXZhc2NyaXB0OnRoaXMuYmdDb2xvcj0nI0ZDRkRFRSc7Ij4KCQkJPHRkIGFsaWduPSJsZWZ0IiBjb2xzcGFuPSIyIiBzdHlsZT0icGFkZGluZy1sZWZ0OjIyNXB4Ij48aW5wdXQgdHlwZT0iYnV0dG9uIiBzaXplPSIxNCIgb25jbGljaz0iZG9jdW1lbnQubG9jYWxDb25maWcuc3VibWl0KCk7IiBzdHlsZT0id2lkdGg6NjBweCIgdmFsdWU9IrGjtObJ6NbDIiAvPjwvdGQ+CgkJPC90cj4KCTwvZm9ybT4KPC90YWJsZT4KPC9ib2R5Pgo8L2h0bWw+
</file>
<file type='file' name='../plus/duoshuo/templets/admin.htm'>
PD9waHAKCSRkdW9zaHVvUGx1Z2luID0gRHVvc2h1b19EZWRlY21zOjpnZXRJbnN0YW5jZSgpOwoJJHBhcmFtcyA9IGFycmF5KAoJCQkndGVtcGxhdGUnCQk9PgknZGVkZWNtcycsCgkJCS8vJ3JlbW90ZV9hdXRoJwk9PglEdW9zaHVvX0Fic3RyYWN0OjpyZW1vdGVBdXRoKCksCgkpOwoJaWYoIWlzc2V0KCRhZG1pblBhdGgpKXsKCQkkYWRtaW5QYXRoID0gJ2FkbWluLyc7Cgl9Cj8+CjwhRE9DVFlQRSBodG1sIFBVQkxJQyAiLS8vVzNDLy9EVEQgWEhUTUwgMS4wIFRyYW5zaXRpb25hbC8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9UUi94aHRtbDEvRFREL3hodG1sMS10cmFuc2l0aW9uYWwuZHRkIj4KPGh0bWwgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPgo8aGVhZD4KPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9PD9waHAgZWNobyAkY2ZnX3NvZnRfbGFuZzsgPz4iIC8+Cjx0aXRsZT624Mu1xsDC27ncwO08L3RpdGxlPgo8c2NyaXB0IGxhbmd1YWdlPSJqYXZhc2NyaXB0IiBzcmM9Ii4uL2luY2x1ZGUvanMvanF1ZXJ5L2pxdWVyeS5qcyI+PC9zY3JpcHQ+CjxzY3JpcHQgbGFuZ3VhZ2U9ImphdmFzY3JpcHQiIHNyYz0iLi4vaW5jbHVkZS9qcy9kZWRlYWpheDIuanMiPjwvc2NyaXB0Pgo8bGluayBocmVmPSJjc3MvYmFzZS5jc3MiIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIC8+CjwvaGVhZD4KPGJvZHkgYmFja2dyb3VuZD0iaW1hZ2VzL2FsbGJnLmdpZiIgbGVmdG1hcmdpbj0iOCIgdG9wbWFyZ2luPSI4Ij4KPHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgYWxpZ249ImNlbnRlciIgY2VsbHBhZGRpbmc9IjMiIGNlbGxzcGFjaW5nPSIxIiBiZ2NvbG9yPSIjRDZENkQ2Ij4KCTx0cj4KCQk8dGQgaGVpZ2h0PSIyOCIgYmFja2dyb3VuZD0iaW1hZ2VzL3RiZy5naWYiIGNvbHNwYW49IjgiIHN0eWxlPSJwYWRkaW5nLWxlZnQ6MTBweDsiPgoJCTxkaXYgc3R5bGU9ImZsb2F0OmxlZnQiPgoJCQk8Yj624Mu1udzA7brzzKg8L2I+CgkJCVs8YSBzdHlsZT0iZm9udC1zaXplOjEzcHgiIHRhcmdldD0iX2JsYW5rIiBocmVmPSI8P3BocCBlY2hvICdodHRwOi8vJyAuICRkdW9zaHVvUGx1Z2luLT5nZXRPcHRpb24oJ3Nob3J0X25hbWUnKSAuICcuJyAuIER1b3NodW9fQWJzdHJhY3Q6OkRPTUFJTi4nLycuJGFkbWluUGF0aDs/PiI+PHU+1NrQwrSwv9rW0LTyv6o8L3U+PC9hPl0KCQkJWzxhIHN0eWxlPSJmb250LXNpemU6MTNweCIgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Ijw/cGhwIGVjaG8gJ2h0dHA6Ly8nIC4gRHVvc2h1b19BYnN0cmFjdDo6RE9NQUlOLicvc2V0dGluZ3MvJzs/PiI+PHU+uPbIy9fKwc/J6NbDPC91PjwvYT5dCgkJPC9kaXY+CgkJPC90ZD4KCTwvdHI+CjwvdGFibGU+CjxpZnJhbWUgaWQ9ImR1b3NodW8tcmVtb3RlLXdpbmRvdyIgc3JjPSI8P3BocCBlY2hvICdodHRwOi8vJyAuICRkdW9zaHVvUGx1Z2luLT5nZXRPcHRpb24oJ3Nob3J0X25hbWUnKSAuICcuJyAuIER1b3NodW9fQWJzdHJhY3Q6OkRPTUFJTiAuJy8nLiRhZG1pblBhdGguJz8nLmh0dHBfYnVpbGRfcXVlcnkoJHBhcmFtcyk7Pz4iIHN0eWxlPSJ3aWR0aDoxMDAlO2JvcmRlcjogMCBub25lOyI+CjwvaWZyYW1lPgoKPHNjcmlwdD4KalF1ZXJ5KGZ1bmN0aW9uKCl7CnZhciAkID0galF1ZXJ5LAoJaWZyYW1lID0gJCgnI2R1b3NodW8tcmVtb3RlLXdpbmRvdycpLAoJcmVzZXRJZnJhbWVIZWlnaHQgPSBmdW5jdGlvbigpewoJCWlmcmFtZS5oZWlnaHQoJCh3aW5kb3cpLmhlaWdodCgpIC0gaWZyYW1lLm9mZnNldCgpLnRvcCAtIDcwKTsKCX07CnJlc2V0SWZyYW1lSGVpZ2h0KCk7CiQod2luZG93KS5yZXNpemUocmVzZXRJZnJhbWVIZWlnaHQpOwp9KTsKPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg==
</file>
<file type='file' name='../plus/duoshuo/templets/replace_tag.htm'>
PD9waHAKCSRhamF4X2NvbW1lbnRfZmlsZSA9IERFREVURU1QTEFURS4nL2RlZmF1bHQvYWpheGZlZWRiYWNrLmh0bSc7CgkkZHVvc2h1b1BsdWdpbiA9IER1b3NodW9fRGVkZWNtczo6Z2V0SW5zdGFuY2UoKTsKCSR0YWdfcmVwbGFjZWQgPSAgZmFsc2U7CgkKCWlmKGZpbGVfZXhpc3RzKCRhamF4X2NvbW1lbnRfZmlsZSkpewoJCSRjb21tZW50X2NvbnRlbnQgPSBmaWxlX2dldF9jb250ZW50cygkYWpheF9jb21tZW50X2ZpbGUpOwoJCQoJCWlmKHN0cnBvcygkY29tbWVudF9jb250ZW50LCBEdW9zaHVvX0RlZGVjbXM6OiRjb21tZW50VGFnKSE9PWZhbHNlKXsKCQkJJHRhZ19yZXBsYWNlZCA9IHRydWU7CgkJfQoJfQo/Pgo8IURPQ1RZUEUgaHRtbCBQVUJMSUMgIi0vL1czQy8vRFREIFhIVE1MIDEuMCBUcmFuc2l0aW9uYWwvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvVFIveGh0bWwxL0RURC94aHRtbDEtdHJhbnNpdGlvbmFsLmR0ZCI+CjxodG1sIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj4KPGhlYWQ+CjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PTw/cGhwIGVjaG8gJGNmZ19zb2Z0X2xhbmc7ID8+IiAvPgo8dGl0bGU+tuDLtcbAwtu53MDtPC90aXRsZT4KPHNjcmlwdCBsYW5ndWFnZT0iamF2YXNjcmlwdCIgc3JjPSIuLi9pbmNsdWRlL2pzL2pxdWVyeS9qcXVlcnkuanMiPjwvc2NyaXB0Pgo8c2NyaXB0IGxhbmd1YWdlPSJqYXZhc2NyaXB0IiBzcmM9Ii4uL2luY2x1ZGUvanMvZGVkZWFqYXgyLmpzIj48L3NjcmlwdD4KPGxpbmsgaHJlZj0iY3NzL2Jhc2UuY3NzIiByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiAvPgo8L2hlYWQ+Cjxib2R5IGJhY2tncm91bmQ9ImltYWdlcy9hbGxiZy5naWYiIGxlZnRtYXJnaW49IjgiIHRvcG1hcmdpbj0iOCI+CjxkaXYgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDoyMCU7bGVmdDo1MCU7d2lkdGg6NjAwcHg7bWFyZ2luLWxlZnQ6LTMwMHB4OyI+Cgk8dGFibGUgYm9yZGVyPSIwIiBhbGlnbj0iY2VudGVyIiBjZWxscGFkZGluZz0iMyIgY2VsbHNwYWNpbmc9IjEiIGJnY29sb3I9IiNENkQ2RDYiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjZweCI+CgkJPHRyIGFsaWduPSJjZW50ZXIiPgoJCQk8dGQgYWxpZ249ImNlbnRlciIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMjgiIGJhY2tncm91bmQ9ImltYWdlcy90YmcuZ2lmIiBzdHlsZT0icGFkZGluZy1sZWZ0OjEwcHg7Ij4KCQkJCTxkaXYgc3R5bGU9ImZsb2F0OmxlZnQiPgoJCQkJCTxiPtfUtq/M5ru71K3KvMbAwtu/8jwvYj4KCQkJCTwvZGl2PgoJCQk8L3RkPgoJCTwvdHI+CgkJPHRyIGJnY29sb3I9IiNGRkZGRkYiIGhlaWdodD0iMjYiPgoJCQk8dGQgc3R5bGU9InBhZGRpbmctbGVmdDoxMHB4OyI+CgkJCQk8ZGl2IHN0eWxlPSJmbG9hdDpsZWZ0Ij4KCQkJCQk8P3BocCBpZighJHRhZ19yZXBsYWNlZCk6Pz4KCQkJCQk8Zm9ybSBhY3Rpb249ImR1b3NodW8ucGhwIiBuYW1lPSJyZXBsYWNlQ29tbWVudFRhZyIgbWV0aG9kPSJwb3N0Ij4KCQkJCQkJPGlucHV0IG5hbWU9ImFjdGlvbiIgdHlwZT0iaGlkZGVuIiB2YWx1ZT0icmVwbGFjZUNvbW1lbnRUYWciLz4KCQkJCQkJPHA+19S2r8zmu7u9q7vhsbi33S90ZW1wbGV0cy9hamF4ZmVlYmFjay5odG3Oqi90ZW1wbGV0cy9hamF4ZmVlZGJhY2suYmFjay5odG2jrLKivas8Yj48P3BocCBlY2hvIER1b3NodW9fRGVkZWNtczo6JGNvbW1lbnRUYWc7Pz4gPC9iPtC0yOvQwrXEL3RlbXBsZXRzL2FqYXhmZWViYWNrLmh0bcSjsOWhowoJCQkJCQk8L3A+CgkJCQkJCTxwPgoJCQkJCQk8Y2VudGVyPjxpbnB1dCB0eXBlPSJidXR0b24iIHNpemU9IjEyIiBvbmNsaWNrPSJkb2N1bWVudC5yZXBsYWNlQ29tbWVudFRhZy5zdWJtaXQoKTsiIHN0eWxlPSJ3aWR0aDo1MHB4IiB2YWx1ZT0izOa7uyIgLz48L2NlbnRlcj4KCQkJCQkJPC9wPgoJCQkJCTwvZm9ybT4KCQkJCQk8P3BocCBlbHNlOj8+CgkJCQkJCTxmb3JtIGFjdGlvbj0iZHVvc2h1by5waHAiIG5hbWU9Im5leHRTdGVwIiBtZXRob2Q9InBvc3QiPgoJCQkJCQk8aW5wdXQgbmFtZT0iYWN0aW9uIiB0eXBlPSJoaWRkZW4iIHZhbHVlPSJtYW5hZ2VDb21tZW50cyIvPgoJCQkJCQm87LLitb3X1LavzOa7u9LRvq3J+tCno6zI58q508O+ssysSFRNTM7EtbWjrNDoz8ggWzxhIHRhcmdldD0ibWFpbiIgaHJlZj0ibWFrZWh0bWxfYXJjaGl2ZXMucGhwIj48dT64/NDCzsS1tUhUTUw8L3U+PC9hPl0g1q6686Os0tTHsLXEzsTVwrLFu+HP1Mq+tuDLtcbAwtu/8qGjCgkJCQkJCTxwPtfUtq/M5ru70tG+rb2rL3RlbXBsZXRzL2FqYXhmZWViYWNrLmh0bbG4t93Oqi90ZW1wbGV0cy9hamF4ZmVlZGJhY2suYmFjay5odG2jrLKivas8Yj48P3BocCBlY2hvIER1b3NodW9fRGVkZWNtczo6JGNvbW1lbnRUYWc7Pz4gPC9iPtC0yOvQwrXEL3RlbXBsZXRzL2FqYXhmZWViYWNrLmh0bcSjsOWhozwvcD4KCQkJCQkJPGNlbnRlcj48aW5wdXQgdHlwZT0iYnV0dG9uIiBzaXplPSIxMiIgb25jbGljaz0iZG9jdW1lbnQubmV4dFN0ZXAuc3VibWl0KCk7IiBzdHlsZT0id2lkdGg6NTBweCIgdmFsdWU9Ir+qyrzJ6NbDIiAvPjwvY2VudGVyPgoJCQkJCQk8L2Zvcm0+CgkJCQkJPD9waHAgZW5kaWY7Pz4KCQkJCTwvZGl2PgoJCQk8L3RkPgoJCTwvdHI+Cgk8L3RhYmxlPgo8L2Rpdj4KCjwvYm9keT4KPC9odG1sPg==
</file>
<file type='file' name='../plus/duoshuo/Abstract.php'>
PD9waHAKCmNsYXNzIER1b3NodW9fQWJzdHJhY3QgewoJY29uc3QgRE9NQUlOID0gJ2R1b3NodW8uY29tJzsKCWNvbnN0IFNUQVRJQ19ET01BSU4gPSAnc3RhdGljLmR1b3NodW8uY29tJzsKCQoJcHJvdGVjdGVkIHN0YXRpYyAkX2luc3RhbmNlID0gbnVsbDsKCQoJLyoqCgkgKgoJICogQHZhciBzdHJpbmcKCSAqLwoJcHVibGljICRvcHRpb25zOwoJCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKXsKCQkkdGhpcy0+Z2V0T3B0aW9uKCdzaG9ydF9uYW1lJyk7CgkJJHRoaXMtPmdldE9wdGlvbignc2VjcmV0Jyk7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiByZmMzMzM5X3RvX215c3FsKCRzdHJpbmcpewoJCWlmIChtZXRob2RfZXhpc3RzKCdEYXRlVGltZScsICdjcmVhdGVGcm9tRm9ybWF0JykpewkvLwlwaHAgNS4zLjAKCQkJcmV0dXJuIERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KERhdGVUaW1lOjpSRkMzMzM5LCAkc3RyaW5nKS0+Zm9ybWF0KCdZLW0tZCBIOmk6cycpOwoJCX0KCQllbHNlewoJCQkkdGltZXN0YW1wID0gc3RydG90aW1lKCRzdHJpbmcpOwoJCQlyZXR1cm4gZ21kYXRlKCdZLW0tZCBIOmk6cycsICR0aW1lc3RhbXAgICsgJHRoaXMtPnRpbWV6b25lKCdnbXRfb2Zmc2V0JykgKiAzNjAwKTsKCQl9Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiByZmMzMzM5X3RvX215c3FsX2dtdCgkc3RyaW5nKXsKCQlpZiAobWV0aG9kX2V4aXN0cygnRGF0ZVRpbWUnLCAnY3JlYXRlRnJvbUZvcm1hdCcpKXsJLy8JcGhwIDUuMy4wCgkJCXJldHVybiBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdChEYXRlVGltZTo6UkZDMzMzOSwgJHN0cmluZyktPnNldFRpbWV6b25lKG5ldyBEYXRlVGltZVpvbmUoJ1VUQycpKS0+Zm9ybWF0KCdZLW0tZCBIOmk6cycpOwoJCX0KCQllbHNlewoJCQkkdGltZXN0YW1wID0gc3RydG90aW1lKCRzdHJpbmcpOwoJCQlyZXR1cm4gZ21kYXRlKCdZLW0tZCBIOmk6cycsICR0aW1lc3RhbXApOwoJCX0KCX0KCQoJCgkvKioKCSAqCgkgKiBAcmV0dXJuIER1b3NodW9fQ2xpZW50CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRDbGllbnQoJHJlbW90ZUF1dGggPSBudWxsKXsJLy/I57n7srvK5Mjrss7K/aOsvs3Kx9POv80KCQlyZXR1cm4gbmV3IER1b3NodW9fQ2xpZW50KCR0aGlzLT5nZXRPcHRpb24oJ3Nob3J0X25hbWUnKSwgJHRoaXMtPmdldE9wdGlvbignc2VjcmV0JyksICRyZW1vdGVBdXRoKTsKCX0KCQoJLyoqCgkgKiC78cihyejWwwoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0T3B0aW9uKCRrZXkpewoJCS8v0sDAtdfTwODKtc/WCgkJLyoKCQkgaWYoaXNzZXQoJHRoaXMtPm9wdGlvbnNbJGtleV0pKXsKCQkJcmV0dXJuICR0aGlzLT5vcHRpb25zWyRrZXldOwoJCSB9CgkJICovCgl9Cn0K
</file>
<file type='file' name='../plus/duoshuo/Admin.php'>
PD9waHAgCgpjbGFzcyBEdW9zaHVvX0FkbWluewoJZnVuY3Rpb24gbWFuYWdlQ29tbWVudHMoKXsKCQkkYWRtaW5QYXRoID0gJ2FkbWluLyc7CgkJcmVxdWlyZSBERURFUk9PVC4nL3BsdXMvZHVvc2h1by90ZW1wbGV0cy9hZG1pbi5odG0nOwoJfQoJCglmdW5jdGlvbiBhZG1pblVzZXJzKCl7CgkJJGFkbWluUGF0aCA9ICdhZG1pbi91c2Vycy8nOwoJCXJlcXVpcmUgREVERVJPT1QuJy9wbHVzL2R1b3NodW8vdGVtcGxldHMvYWRtaW4uaHRtJzsKCX0KCWZ1bmN0aW9uIGFkbWluU2V0dGluZ3MoKXsKCQkkYWRtaW5QYXRoID0gJ2FkbWluL3NldHRpbmdzLyc7CgkJcmVxdWlyZSBERURFUk9PVC4nL3BsdXMvZHVvc2h1by90ZW1wbGV0cy9hZG1pbi5odG0nOwoJfQoJZnVuY3Rpb24gbG9jYWxDb25maWcoKXsKCQlyZXF1aXJlIERFREVST09ULicvcGx1cy9kdW9zaHVvL3RlbXBsZXRzL2xvY2FsX2NvbmZpZy5odG0nOwoJfQoJCglmdW5jdGlvbiBzYXZlTG9jYWxDb25maWcoKXsKCQkka2V5cyA9IGFycmF5KCdzaG9ydF9uYW1lJywnc2VjcmV0Jywnc2VvX2VuYWJsZWQnKTsKCQkkZHVvc2h1b1BsdWdpbiA9IER1b3NodW9fRGVkZWNtczo6Z2V0SW5zdGFuY2UoKTsKCQkKCQlmb3JlYWNoICgka2V5cyBhcyAka2V5KXsKCQkJaWYoaXNzZXQoJF9QT1NUWyRrZXldKSl7CgkJCQkgJGR1b3NodW9QbHVnaW4tPnVwZGF0ZU9wdGlvbigka2V5LCRfUE9TVFska2V5XSk7CgkJCX0KCQl9CgkJCgkJU2hvd21zZygnsaO05rPJuaajoScsJy4vZHVvc2h1by5waHA/YWN0aW9uPWxvY2FsQ29uZmlnJywwLDEwMDApOwoJfQoJCgkKCWZ1bmN0aW9uIGhlbHBEb2N1bWVudCgpewoJCXJlcXVpcmUgREVERVJPT1QuJy9wbHVzL2R1b3NodW8vdGVtcGxldHMvaGVscF9kb2N1bWVudC5odG0nOwoJfQoJCglmdW5jdGlvbiByZXBsYWNlQ29tbWVudFRhZygpewoJCSRhamF4X2NvbW1lbnRfZmlsZSA9IERFREVURU1QTEFURS4nL2RlZmF1bHQvYWpheGZlZWRiYWNrLmh0bSc7CgkJJGFqYXhfY29tbWVudF9maWxlX2JhayA9IERFREVURU1QTEFURS4nL2RlZmF1bHQvYWpheGZlZWRiYWNrLmJhay5odG0nOwoJCWlmKGZpbGVfZXhpc3RzKCRhamF4X2NvbW1lbnRfZmlsZSkpewoJCQlpZighZmlsZV9leGlzdHMoJGFqYXhfY29tbWVudF9maWxlX2JhaykpewoJCQkJJHJldCA9IGNvcHkoJGFqYXhfY29tbWVudF9maWxlLCAkYWpheF9jb21tZW50X2ZpbGVfYmFrKTsKCQkJCWlmKCEkcmV0KXsKCQkJCQlTaG93bXNnKCexuLfdJy4kYWpheF9jb21tZW50X2ZpbGUuJ8qnsNyjrMfrvOyy6bjDxL/CvMioz96jrLvyyta2r7i01sa1vScuJGFqYXhfY29tbWVudF9maWxlX2JhaywtMSwwLDIwMDApOwoJCQkJfQoJCQl9CgkJCWZpbGVfcHV0X2NvbnRlbnRzKCRhamF4X2NvbW1lbnRfZmlsZSwgRHVvc2h1b19EZWRlY21zOjokY29tbWVudFRhZyk7CgkJCWlmKGlzc2V0KCRfUE9TVFsnbmV4dF9zdGVwJ10pKXsKCQkJCVNob3dtc2coJ7G4t92zybmmo6EnLCcuL2R1b3NodW8ucGhwP2FjdGlvbj0nLiRfUE9TVFsnbmV4dF9zdGVwJ10sMCwxMDAwKTsKCQkJfWVsc2V7CgkJCQlTaG93bXNnKCexuLfds8m5pqOhJywnLi9kdW9zaHVvLnBocD9hY3Rpb249bG9jYWxDb25maWcnLDAsMTAwMCk7CgkJCX0KCQl9ZWxzZXsKCQkJU2hvd21zZyhERURFVEVNUExBVEUuJy9kZWZhdWx0L2FqYXhmZWVkYmFjay5iYWsuaHRtJy4nsru05tTao6zH68rWtq+y5cjrserHqScsJy4vZHVvc2h1by5waHA/YWN0aW9uPWxvY2FsQ29uZmlnJywwLDIwMDApOwoJCX0KCX0KCQoJZnVuY3Rpb24gaW5zdGFsbFN0ZXAxKCl7CgkJcmVxdWlyZSBERURFUk9PVC4nL3BsdXMvZHVvc2h1by90ZW1wbGV0cy9yZXBsYWNlX3RhZy5odG0nOwoJfQoJCn0K
</file>
<file type='file' name='../plus/duoshuo/api.php'>
PD9waHAKcmVxdWlyZV9vbmNlKGRpcm5hbWUoX19GSUxFX18pLiIvLi4vLi4vaW5jbHVkZS9jb21tb24uaW5jLnBocCIpOwpyZXF1aXJlX29uY2UoREVERUlOQy4nL2FyYy5hcmNoaXZlcy5jbGFzcy5waHAnKTsKCmlmICghZXh0ZW5zaW9uX2xvYWRlZCgnanNvbicpKQoJaW5jbHVkZV9vbmNlICdjb21wYXRfanNvbi5waHAnOwoKZnVuY3Rpb24gbm9jYWNoZV9oZWFkZXJzKCl7CgloZWFkZXIoIlByYWdtYTpuby1jYWNoZVxyXG4iKTsKCWhlYWRlcigiQ2FjaGUtQ29udHJvbDpuby1jYWNoZVxyXG4iKTsKCWhlYWRlcigiRXhwaXJlczowXHJcbiIpOwp9CgppZiAoIWhlYWRlcnNfc2VudCgpKSB7Cglub2NhY2hlX2hlYWRlcnMoKTsvL21heCBhZ2UgVE9ETzoKCWhlYWRlcignQ29udGVudC1UeXBlOiB0ZXh0L2phdmFzY3JpcHQ7IGNoYXJzZXQ9dXRmLTgnKTsKfQoKcmVxdWlyZV9vbmNlICdDbGllbnQucGhwJzsKcmVxdWlyZV9vbmNlICdBYnN0cmFjdC5waHAnOwpyZXF1aXJlX29uY2UgJ0RlZGVjbXMucGhwJzsKcmVxdWlyZV9vbmNlICdMb2NhbFNlcnZlci5waHAnOwpyZXF1aXJlX29uY2UgJ0V4Y2VwdGlvbi5waHAnOwoKaWYgKCFjbGFzc19leGlzdHMoJ0R1b3NodW9fRGVkZWNtcycpKXsKCSRyZXNwb25zZSA9IGFycmF5KAoJCSdjb2RlJwkJCT0+CTMwLAoJCSdlcnJvck1lc3NhZ2UnCT0+CSdEdW9zaHVvIHBsdWdpbiBoYXNuXCd0IGJlZW4gYWN0aXZhdGVkLicKCSk7CgllY2hvIGpzb25fZW5jb2RlKCRyZXNwb25zZSk7CglleGl0Owp9CgokcGx1Z2luID0gRHVvc2h1b19EZWRlY21zOjpnZXRJbnN0YW5jZSgpOwoKdHJ5ewoJaWYgKCRfU0VSVkVSWydSRVFVRVNUX01FVEhPRCddID09ICdQT1NUJyl7CgkJJHNlcnZlciA9IG5ldyBEdW9zaHVvX0xvY2FsU2VydmVyKCRwbHVnaW4pOwoJCQoJCSRpbnB1dCA9ICRfUE9TVDsKCQlpZiAoZ2V0X21hZ2ljX3F1b3Rlc19ncGMoKSl7CgkJCWZvcmVhY2goJGlucHV0IGFzICRrZXkgPT4gJHZhbHVlKQoJCQkJJGlucHV0WyRrZXldID0gc3RyaXBzbGFzaGVzKCR2YWx1ZSk7CgkJfQoJCSRzZXJ2ZXItPmRpc3BhdGNoKCRpbnB1dCk7Cgl9Cn0KY2F0Y2ggKEV4Y2VwdGlvbiAkZSl7CglEdW9zaHVvX0xvY2FsU2VydmVyOjpzZW5kRXhjZXB0aW9uKCRlKTsKCWV4aXQ7Cn0K
</file>
<file type='file' name='../plus/duoshuo/compat_json.php'>
PD9waHAKaWYgKCAhY2xhc3NfZXhpc3RzKCAnU2VydmljZXNfSlNPTicgKSApIDoKLyogdmltOiBzZXQgZXhwYW5kdGFiIHRhYnN0b3A9NCBzaGlmdHdpZHRoPTQgc29mdHRhYnN0b3A9NDogKi8KLyoqCiAqIENvbnZlcnRzIHRvIGFuZCBmcm9tIEpTT04gZm9ybWF0LgogKgogKiBKU09OIChKYXZhU2NyaXB0IE9iamVjdCBOb3RhdGlvbikgaXMgYSBsaWdodHdlaWdodCBkYXRhLWludGVyY2hhbmdlCiAqIGZvcm1hdC4gSXQgaXMgZWFzeSBmb3IgaHVtYW5zIHRvIHJlYWQgYW5kIHdyaXRlLiBJdCBpcyBlYXN5IGZvciBtYWNoaW5lcwogKiB0byBwYXJzZSBhbmQgZ2VuZXJhdGUuIEl0IGlzIGJhc2VkIG9uIGEgc3Vic2V0IG9mIHRoZSBKYXZhU2NyaXB0CiAqIFByb2dyYW1taW5nIExhbmd1YWdlLCBTdGFuZGFyZCBFQ01BLTI2MiAzcmQgRWRpdGlvbiAtIERlY2VtYmVyIDE5OTkuCiAqIFRoaXMgZmVhdHVyZSBjYW4gYWxzbyBiZSBmb3VuZCBpbiAgUHl0aG9uLiBKU09OIGlzIGEgdGV4dCBmb3JtYXQgdGhhdCBpcwogKiBjb21wbGV0ZWx5IGxhbmd1YWdlIGluZGVwZW5kZW50IGJ1dCB1c2VzIGNvbnZlbnRpb25zIHRoYXQgYXJlIGZhbWlsaWFyCiAqIHRvIHByb2dyYW1tZXJzIG9mIHRoZSBDLWZhbWlseSBvZiBsYW5ndWFnZXMsIGluY2x1ZGluZyBDLCBDKyssIEMjLCBKYXZhLAogKiBKYXZhU2NyaXB0LCBQZXJsLCBUQ0wsIGFuZCBtYW55IG90aGVycy4gVGhlc2UgcHJvcGVydGllcyBtYWtlIEpTT04gYW4KICogaWRlYWwgZGF0YS1pbnRlcmNoYW5nZSBsYW5ndWFnZS4KICoKICogVGhpcyBwYWNrYWdlIHByb3ZpZGVzIGEgc2ltcGxlIGVuY29kZXIgYW5kIGRlY29kZXIgZm9yIEpTT04gbm90YXRpb24uIEl0CiAqIGlzIGludGVuZGVkIGZvciB1c2Ugd2l0aCBjbGllbnQtc2lkZSBKYXZhc2NyaXB0IGFwcGxpY2F0aW9ucyB0aGF0IG1ha2UKICogdXNlIG9mIEhUVFBSZXF1ZXN0IHRvIHBlcmZvcm0gc2VydmVyIGNvbW11bmljYXRpb24gZnVuY3Rpb25zIC0gZGF0YSBjYW4KICogYmUgZW5jb2RlZCBpbnRvIEpTT04gbm90YXRpb24gZm9yIHVzZSBpbiBhIGNsaWVudC1zaWRlIGphdmFzY3JpcHQsIG9yCiAqIGRlY29kZWQgZnJvbSBpbmNvbWluZyBKYXZhc2NyaXB0IHJlcXVlc3RzLiBKU09OIGZvcm1hdCBpcyBuYXRpdmUgdG8KICogSmF2YXNjcmlwdCwgYW5kIGNhbiBiZSBkaXJlY3RseSBldmFsKCknZWQgd2l0aCBubyBmdXJ0aGVyIHBhcnNpbmcKICogb3ZlcmhlYWQKICoKICogQWxsIHN0cmluZ3Mgc2hvdWxkIGJlIGluIEFTQ0lJIG9yIFVURi04IGZvcm1hdCEKICoKICogTElDRU5TRTogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvcgogKiB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcKICogY29uZGl0aW9ucyBhcmUgbWV0OiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlCiAqIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nCiAqIGRpc2NsYWltZXIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUKICogY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lcgogKiBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlCiAqIGRpc3RyaWJ1dGlvbi4KICoKICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBgYEFTIElTJycgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQKICogV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YKICogTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4KICogTk8gRVZFTlQgU0hBTEwgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsCiAqIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsCiAqIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUwogKiBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5ECiAqIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUgogKiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFCiAqIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0gKICogREFNQUdFLgogKgogKiBAY2F0ZWdvcnkKICogQHBhY2thZ2UJCVNlcnZpY2VzX0pTT04KICogQGF1dGhvcgkJTWljaGFsIE1pZ3Vyc2tpIDxtaWtlLWpzb25AdGVjem5vLmNvbT4KICogQGF1dGhvcgkJTWF0dCBLbmFwcCA8bWRrbmFwcFthdF1nbWFpbFtkb3RdY29tPgogKiBAYXV0aG9yCQlCcmV0dCBTdGltbWVybWFuIDxicmV0dHN0aW1tZXJtYW5bYXRdZ21haWxbZG90XWNvbT4KICogQGNvcHlyaWdodAkyMDA1IE1pY2hhbCBNaWd1cnNraQogKiBAdmVyc2lvbiAgICAgQ1ZTOiAkSWQ6IEpTT04ucGhwIDI4ODIwMCAyMDA5LTA5LTA5IDE1OjQxOjI5WiBhbGFuX2sgJAogKiBAbGljZW5zZQkJaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ic2QtbGljZW5zZS5waHAKICogQGxpbmsJCWh0dHA6Ly9wZWFyLnBocC5uZXQvcGVwci9wZXByLXByb3Bvc2FsLXNob3cucGhwP2lkPTE5OAogKi8KCi8qKgogKiBNYXJrZXIgY29uc3RhbnQgZm9yIFNlcnZpY2VzX0pTT046OmRlY29kZSgpLCB1c2VkIHRvIGZsYWcgc3RhY2sgc3RhdGUKICovCmRlZmluZSgnU0VSVklDRVNfSlNPTl9TTElDRScsIDEpOwoKLyoqCiAqIE1hcmtlciBjb25zdGFudCBmb3IgU2VydmljZXNfSlNPTjo6ZGVjb2RlKCksIHVzZWQgdG8gZmxhZyBzdGFjayBzdGF0ZQogKi8KZGVmaW5lKCdTRVJWSUNFU19KU09OX0lOX1NUUicsICAyKTsKCi8qKgogKiBNYXJrZXIgY29uc3RhbnQgZm9yIFNlcnZpY2VzX0pTT046OmRlY29kZSgpLCB1c2VkIHRvIGZsYWcgc3RhY2sgc3RhdGUKICovCmRlZmluZSgnU0VSVklDRVNfSlNPTl9JTl9BUlInLCAgMyk7CgovKioKICogTWFya2VyIGNvbnN0YW50IGZvciBTZXJ2aWNlc19KU09OOjpkZWNvZGUoKSwgdXNlZCB0byBmbGFnIHN0YWNrIHN0YXRlCiAqLwpkZWZpbmUoJ1NFUlZJQ0VTX0pTT05fSU5fT0JKJywgIDQpOwoKLyoqCiAqIE1hcmtlciBjb25zdGFudCBmb3IgU2VydmljZXNfSlNPTjo6ZGVjb2RlKCksIHVzZWQgdG8gZmxhZyBzdGFjayBzdGF0ZQogKi8KZGVmaW5lKCdTRVJWSUNFU19KU09OX0lOX0NNVCcsIDUpOwoKLyoqCiAqIEJlaGF2aW9yIHN3aXRjaCBmb3IgU2VydmljZXNfSlNPTjo6ZGVjb2RlKCkKICovCmRlZmluZSgnU0VSVklDRVNfSlNPTl9MT09TRV9UWVBFJywgMTYpOwoKLyoqCiAqIEJlaGF2aW9yIHN3aXRjaCBmb3IgU2VydmljZXNfSlNPTjo6ZGVjb2RlKCkKICovCmRlZmluZSgnU0VSVklDRVNfSlNPTl9TVVBQUkVTU19FUlJPUlMnLCAzMik7CgovKioKICogQ29udmVydHMgdG8gYW5kIGZyb20gSlNPTiBmb3JtYXQuCiAqCiAqIEJyaWVmIGV4YW1wbGUgb2YgdXNlOgogKgogKiA8Y29kZT4KICogLy8gY3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIFNlcnZpY2VzX0pTT04KICogJGpzb24gPSBuZXcgU2VydmljZXNfSlNPTigpOwogKgogKiAvLyBjb252ZXJ0IGEgY29tcGxleGUgdmFsdWUgdG8gSlNPTiBub3RhdGlvbiwgYW5kIHNlbmQgaXQgdG8gdGhlIGJyb3dzZXIKICogJHZhbHVlID0gYXJyYXkoJ2ZvbycsICdiYXInLCBhcnJheSgxLCAyLCAnYmF6JyksIGFycmF5KDMsIGFycmF5KDQpKSk7CiAqICRvdXRwdXQgPSAkanNvbi0+ZW5jb2RlKCR2YWx1ZSk7CiAqCiAqIHByaW50KCRvdXRwdXQpOwogKiAvLyBwcmludHM6IFsiZm9vIiwiYmFyIixbMSwyLCJiYXoiXSxbMyxbNF1dXQogKgogKiAvLyBhY2NlcHQgaW5jb21pbmcgUE9TVCBkYXRhLCBhc3N1bWVkIHRvIGJlIGluIEpTT04gbm90YXRpb24KICogJGlucHV0ID0gZmlsZV9nZXRfY29udGVudHMoJ3BocDovL2lucHV0JywgMTAwMDAwMCk7CiAqICR2YWx1ZSA9ICRqc29uLT5kZWNvZGUoJGlucHV0KTsKICogPC9jb2RlPgogKi8KY2xhc3MgU2VydmljZXNfSlNPTgp7CiAvKioKCSogY29uc3RydWN0cyBhIG5ldyBKU09OIGluc3RhbmNlCgkqCgkqIEBwYXJhbSBpbnQgJHVzZSBvYmplY3QgYmVoYXZpb3IgZmxhZ3M7IGNvbWJpbmUgd2l0aCBib29sZWFuLU9SCgkqCgkqCQkJCQkJcG9zc2libGUgdmFsdWVzOgoJKgkJCQkJCS0gU0VSVklDRVNfSlNPTl9MT09TRV9UWVBFOiAgbG9vc2UgdHlwaW5nLgoJKgkJCQkJCQkJInsuLi59IiBzeW50YXggY3JlYXRlcyBhc3NvY2lhdGl2ZSBhcnJheXMKCSoJCQkJCQkJCWluc3RlYWQgb2Ygb2JqZWN0cyBpbiBkZWNvZGUoKS4KCSoJCQkJCQktIFNFUlZJQ0VTX0pTT05fU1VQUFJFU1NfRVJST1JTOiAgZXJyb3Igc3VwcHJlc3Npb24uCgkqCQkJCQkJCQlWYWx1ZXMgd2hpY2ggY2FuJ3QgYmUgZW5jb2RlZCAoZS5nLiByZXNvdXJjZXMpCgkqCQkJCQkJCQlhcHBlYXIgYXMgTlVMTCBpbnN0ZWFkIG9mIHRocm93aW5nIGVycm9ycy4KCSoJCQkJCQkJCUJ5IGRlZmF1bHQsIGEgZGVlcGx5LW5lc3RlZCByZXNvdXJjZSB3aWxsCgkqCQkJCQkJCQlidWJibGUgdXAgd2l0aCBhbiBlcnJvciwgc28gYWxsIHJldHVybiB2YWx1ZXMKCSoJCQkJCQkJCWZyb20gZW5jb2RlKCkgc2hvdWxkIGJlIGNoZWNrZWQgd2l0aCBpc0Vycm9yKCkKCSovCglmdW5jdGlvbiBTZXJ2aWNlc19KU09OKCR1c2UgPSAwKQoJewoJCSR0aGlzLT51c2UgPSAkdXNlOwoJfQoKIC8qKgoJKiBjb252ZXJ0IGEgc3RyaW5nIGZyb20gb25lIFVURi0xNiBjaGFyIHRvIG9uZSBVVEYtOCBjaGFyCgkqCgkqIE5vcm1hbGx5IHNob3VsZCBiZSBoYW5kbGVkIGJ5IG1iX2NvbnZlcnRfZW5jb2RpbmcsIGJ1dAoJKiBwcm92aWRlcyBhIHNsb3dlciBQSFAtb25seSBtZXRob2QgZm9yIGluc3RhbGxhdGlvbnMKCSogdGhhdCBsYWNrIHRoZSBtdWx0aWJ5ZSBzdHJpbmcgZXh0ZW5zaW9uLgoJKgoJKiBAcGFyYW0Jc3RyaW5nICAkdXRmMTYgIFVURi0xNiBjaGFyYWN0ZXIKCSogQHJldHVybiBzdHJpbmcgIFVURi04IGNoYXJhY3RlcgoJKiBAYWNjZXNzIHByaXZhdGUKCSovCglmdW5jdGlvbiB1dGYxNjJ1dGY4KCR1dGYxNikKCXsKCQkvLyBvaCBwbGVhc2Ugb2ggcGxlYXNlIG9oIHBsZWFzZSBvaCBwbGVhc2Ugb2ggcGxlYXNlCgkJaWYoZnVuY3Rpb25fZXhpc3RzKCdtYl9jb252ZXJ0X2VuY29kaW5nJykpIHsKCQkJcmV0dXJuIG1iX2NvbnZlcnRfZW5jb2RpbmcoJHV0ZjE2LCAnVVRGLTgnLCAnVVRGLTE2Jyk7CgkJfQoKCQkkYnl0ZXMgPSAob3JkKCR1dGYxNlswXSkgPDwgOCkgfCBvcmQoJHV0ZjE2WzFdKTsKCgkJc3dpdGNoKHRydWUpIHsKCQkJY2FzZSAoKDB4N0YgJiAkYnl0ZXMpID09ICRieXRlcyk6CgkJCQkvLyB0aGlzIGNhc2Ugc2hvdWxkIG5ldmVyIGJlIHJlYWNoZWQsIGJlY2F1c2Ugd2UgYXJlIGluIEFTQ0lJIHJhbmdlCgkJCQkvLyBzZWU6IGh0dHA6Ly93d3cuY2wuY2FtLmFjLnVrL35tZ2syNS91bmljb2RlLmh0bWwjdXRmLTgKCQkJCXJldHVybiBjaHIoMHg3RiAmICRieXRlcyk7CgoJCQljYXNlICgweDA3RkYgJiAkYnl0ZXMpID09ICRieXRlczoKCQkJCS8vIHJldHVybiBhIDItYnl0ZSBVVEYtOCBjaGFyYWN0ZXIKCQkJCS8vIHNlZTogaHR0cDovL3d3dy5jbC5jYW0uYWMudWsvfm1nazI1L3VuaWNvZGUuaHRtbCN1dGYtOAoJCQkJcmV0dXJuIGNocigweEMwIHwgKCgkYnl0ZXMgPj4gNikgJiAweDFGKSkKCQkJCQkuIGNocigweDgwIHwgKCRieXRlcyAmIDB4M0YpKTsKCgkJCWNhc2UgKDB4RkZGRiAmICRieXRlcykgPT0gJGJ5dGVzOgoJCQkJLy8gcmV0dXJuIGEgMy1ieXRlIFVURi04IGNoYXJhY3RlcgoJCQkJLy8gc2VlOiBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQlyZXR1cm4gY2hyKDB4RTAgfCAoKCRieXRlcyA+PiAxMikgJiAweDBGKSkKCQkJCQkuIGNocigweDgwIHwgKCgkYnl0ZXMgPj4gNikgJiAweDNGKSkKCQkJCQkuIGNocigweDgwIHwgKCRieXRlcyAmIDB4M0YpKTsKCQl9CgoJCS8vIGlnbm9yaW5nIFVURi0zMiBmb3Igbm93LCBzb3JyeQoJCXJldHVybiAnJzsKCX0KCiAvKioKCSogY29udmVydCBhIHN0cmluZyBmcm9tIG9uZSBVVEYtOCBjaGFyIHRvIG9uZSBVVEYtMTYgY2hhcgoJKgoJKiBOb3JtYWxseSBzaG91bGQgYmUgaGFuZGxlZCBieSBtYl9jb252ZXJ0X2VuY29kaW5nLCBidXQKCSogcHJvdmlkZXMgYSBzbG93ZXIgUEhQLW9ubHkgbWV0aG9kIGZvciBpbnN0YWxsYXRpb25zCgkqIHRoYXQgbGFjayB0aGUgbXVsdGlieWUgc3RyaW5nIGV4dGVuc2lvbi4KCSoKCSogQHBhcmFtCXN0cmluZyAgJHV0ZjggVVRGLTggY2hhcmFjdGVyCgkqIEByZXR1cm4gc3RyaW5nICBVVEYtMTYgY2hhcmFjdGVyCgkqIEBhY2Nlc3MgcHJpdmF0ZQoJKi8KCWZ1bmN0aW9uIHV0ZjgydXRmMTYoJHV0ZjgpCgl7CgkJLy8gb2ggcGxlYXNlIG9oIHBsZWFzZSBvaCBwbGVhc2Ugb2ggcGxlYXNlIG9oIHBsZWFzZQoJCWlmKGZ1bmN0aW9uX2V4aXN0cygnbWJfY29udmVydF9lbmNvZGluZycpKSB7CgkJCXJldHVybiBtYl9jb252ZXJ0X2VuY29kaW5nKCR1dGY4LCAnVVRGLTE2JywgJ1VURi04Jyk7CgkJfQoKCQlzd2l0Y2goc3RybGVuKCR1dGY4KSkgewoJCQljYXNlIDE6CgkJCQkvLyB0aGlzIGNhc2Ugc2hvdWxkIG5ldmVyIGJlIHJlYWNoZWQsIGJlY2F1c2Ugd2UgYXJlIGluIEFTQ0lJIHJhbmdlCgkJCQkvLyBzZWU6IGh0dHA6Ly93d3cuY2wuY2FtLmFjLnVrL35tZ2syNS91bmljb2RlLmh0bWwjdXRmLTgKCQkJCXJldHVybiAkdXRmODsKCgkJCWNhc2UgMjoKCQkJCS8vIHJldHVybiBhIFVURi0xNiBjaGFyYWN0ZXIgZnJvbSBhIDItYnl0ZSBVVEYtOCBjaGFyCgkJCQkvLyBzZWU6IGh0dHA6Ly93d3cuY2wuY2FtLmFjLnVrL35tZ2syNS91bmljb2RlLmh0bWwjdXRmLTgKCQkJCXJldHVybiBjaHIoMHgwNyAmIChvcmQoJHV0ZjhbMF0pID4+IDIpKQoJCQkJCS4gY2hyKCgweEMwICYgKG9yZCgkdXRmOFswXSkgPDwgNikpCgkJCQkJCXwgKDB4M0YgJiBvcmQoJHV0ZjhbMV0pKSk7CgoJCQljYXNlIDM6CgkJCQkvLyByZXR1cm4gYSBVVEYtMTYgY2hhcmFjdGVyIGZyb20gYSAzLWJ5dGUgVVRGLTggY2hhcgoJCQkJLy8gc2VlOiBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQlyZXR1cm4gY2hyKCgweEYwICYgKG9yZCgkdXRmOFswXSkgPDwgNCkpCgkJCQkJCXwgKDB4MEYgJiAob3JkKCR1dGY4WzFdKSA+PiAyKSkpCgkJCQkJLiBjaHIoKDB4QzAgJiAob3JkKCR1dGY4WzFdKSA8PCA2KSkKCQkJCQkJfCAoMHg3RiAmIG9yZCgkdXRmOFsyXSkpKTsKCQl9CgoJCS8vIGlnbm9yaW5nIFVURi0zMiBmb3Igbm93LCBzb3JyeQoJCXJldHVybiAnJzsKCX0KCiAvKioKCSogZW5jb2RlcyBhbiBhcmJpdHJhcnkgdmFyaWFibGUgaW50byBKU09OIGZvcm1hdCAoYW5kIHNlbmRzIEpTT04gSGVhZGVyKQoJKgoJKiBAcGFyYW0JbWl4ZWQgJHZhcglhbnkgbnVtYmVyLCBib29sZWFuLCBzdHJpbmcsIGFycmF5LCBvciBvYmplY3QgdG8gYmUgZW5jb2RlZC4KCSoJCQkJCQlzZWUgYXJndW1lbnQgMSB0byBTZXJ2aWNlc19KU09OKCkgYWJvdmUgZm9yIGFycmF5LXBhcnNpbmcgYmVoYXZpb3IuCgkqCQkJCQkJaWYgdmFyIGlzIGEgc3RybmcsIG5vdGUgdGhhdCBlbmNvZGUoKSBhbHdheXMgZXhwZWN0cyBpdAoJKgkJCQkJCXRvIGJlIGluIEFTQ0lJIG9yIFVURi04IGZvcm1hdCEKCSoKCSogQHJldHVybiBtaXhlZCBKU09OIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBpbnB1dCB2YXIgb3IgYW4gZXJyb3IgaWYgYSBwcm9ibGVtIG9jY3VycwoJKiBAYWNjZXNzIHB1YmxpYwoJKi8KCWZ1bmN0aW9uIGVuY29kZSgkdmFyKQoJewoJCWhlYWRlcignQ29udGVudC10eXBlOiBhcHBsaWNhdGlvbi9qc29uJyk7CgkJcmV0dXJuICR0aGlzLT5fZW5jb2RlKCR2YXIpOwoJfQoJLyoqCgkqIGVuY29kZXMgYW4gYXJiaXRyYXJ5IHZhcmlhYmxlIGludG8gSlNPTiBmb3JtYXQgd2l0aG91dCBKU09OIEhlYWRlciAtIHdhcm5pbmcgLSBtYXkgYWxsb3cgQ1NTISEhISkKCSoKCSogQHBhcmFtCW1peGVkICR2YXIJYW55IG51bWJlciwgYm9vbGVhbiwgc3RyaW5nLCBhcnJheSwgb3Igb2JqZWN0IHRvIGJlIGVuY29kZWQuCgkqCQkJCQkJc2VlIGFyZ3VtZW50IDEgdG8gU2VydmljZXNfSlNPTigpIGFib3ZlIGZvciBhcnJheS1wYXJzaW5nIGJlaGF2aW9yLgoJKgkJCQkJCWlmIHZhciBpcyBhIHN0cm5nLCBub3RlIHRoYXQgZW5jb2RlKCkgYWx3YXlzIGV4cGVjdHMgaXQKCSoJCQkJCQl0byBiZSBpbiBBU0NJSSBvciBVVEYtOCBmb3JtYXQhCgkqCgkqIEByZXR1cm4gbWl4ZWQgSlNPTiBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgaW5wdXQgdmFyIG9yIGFuIGVycm9yIGlmIGEgcHJvYmxlbSBvY2N1cnMKCSogQGFjY2VzcyBwdWJsaWMKCSovCglmdW5jdGlvbiBlbmNvZGVVbnNhZmUoJHZhcikKCXsKCQlyZXR1cm4gJHRoaXMtPl9lbmNvZGUoJHZhcik7Cgl9CgkvKioKCSogUFJJVkFURSBDT0RFIHRoYXQgZG9lcyB0aGUgd29yayBvZiBlbmNvZGVzIGFuIGFyYml0cmFyeSB2YXJpYWJsZSBpbnRvIEpTT04gZm9ybWF0CgkqCgkqIEBwYXJhbQltaXhlZCAkdmFyCWFueSBudW1iZXIsIGJvb2xlYW4sIHN0cmluZywgYXJyYXksIG9yIG9iamVjdCB0byBiZSBlbmNvZGVkLgoJKgkJCQkJCXNlZSBhcmd1bWVudCAxIHRvIFNlcnZpY2VzX0pTT04oKSBhYm92ZSBmb3IgYXJyYXktcGFyc2luZyBiZWhhdmlvci4KCSoJCQkJCQlpZiB2YXIgaXMgYSBzdHJuZywgbm90ZSB0aGF0IGVuY29kZSgpIGFsd2F5cyBleHBlY3RzIGl0CgkqCQkJCQkJdG8gYmUgaW4gQVNDSUkgb3IgVVRGLTggZm9ybWF0IQoJKgoJKiBAcmV0dXJuIG1peGVkIEpTT04gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGlucHV0IHZhciBvciBhbiBlcnJvciBpZiBhIHByb2JsZW0gb2NjdXJzCgkqIEBhY2Nlc3MgcHVibGljCgkqLwoJZnVuY3Rpb24gX2VuY29kZSgkdmFyKQoJewoKCQlzd2l0Y2ggKGdldHR5cGUoJHZhcikpIHsKCQkJY2FzZSAnYm9vbGVhbic6CgkJCQlyZXR1cm4gJHZhciA/ICd0cnVlJyA6ICdmYWxzZSc7CgoJCQljYXNlICdOVUxMJzoKCQkJCXJldHVybiAnbnVsbCc7CgoJCQljYXNlICdpbnRlZ2VyJzoKCQkJCXJldHVybiAoaW50KSAkdmFyOwoKCQkJY2FzZSAnZG91YmxlJzoKCQkJY2FzZSAnZmxvYXQnOgoJCQkJcmV0dXJuIChmbG9hdCkgJHZhcjsKCgkJCWNhc2UgJ3N0cmluZyc6CgkJCQkvLyBTVFJJTkdTIEFSRSBFWFBFQ1RFRCBUTyBCRSBJTiBBU0NJSSBPUiBVVEYtOCBGT1JNQVQKCQkJCSRhc2NpaSA9ICcnOwoJCQkJJHN0cmxlbl92YXIgPSBzdHJsZW4oJHZhcik7CgoJCQkvKgoJCQkJKiBJdGVyYXRlIG92ZXIgZXZlcnkgY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcsCgkJCQkqIGVzY2FwaW5nIHdpdGggYSBzbGFzaCBvciBlbmNvZGluZyB0byBVVEYtOCB3aGVyZSBuZWNlc3NhcnkKCQkJCSovCgkJCQlmb3IgKCRjID0gMDsgJGMgPCAkc3RybGVuX3ZhcjsgKyskYykgewoKCQkJCQkkb3JkX3Zhcl9jID0gb3JkKCR2YXJbJGNdKTsKCgkJCQkJc3dpdGNoICh0cnVlKSB7CgkJCQkJCWNhc2UgJG9yZF92YXJfYyA9PSAweDA4OgoJCQkJCQkJJGFzY2lpIC49ICdcYic7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAkb3JkX3Zhcl9jID09IDB4MDk6CgkJCQkJCQkkYXNjaWkgLj0gJ1x0JzsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICRvcmRfdmFyX2MgPT0gMHgwQToKCQkJCQkJCSRhc2NpaSAuPSAnXG4nOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgJG9yZF92YXJfYyA9PSAweDBDOgoJCQkJCQkJJGFzY2lpIC49ICdcZic7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAkb3JkX3Zhcl9jID09IDB4MEQ6CgkJCQkJCQkkYXNjaWkgLj0gJ1xyJzsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJY2FzZSAkb3JkX3Zhcl9jID09IDB4MjI6CgkJCQkJCWNhc2UgJG9yZF92YXJfYyA9PSAweDJGOgoJCQkJCQljYXNlICRvcmRfdmFyX2MgPT0gMHg1QzoKCQkJCQkJCS8vIGRvdWJsZSBxdW90ZSwgc2xhc2gsIHNsb3NoCgkJCQkJCQkkYXNjaWkgLj0gJ1xcJy4kdmFyWyRjXTsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJY2FzZSAoKCRvcmRfdmFyX2MgPj0gMHgyMCkgJiYgKCRvcmRfdmFyX2MgPD0gMHg3RikpOgoJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTAwMDAwMDAwIC0gVS0wMDAwMDA3RiAoc2FtZSBhcyBBU0NJSSkKCQkJCQkJCSRhc2NpaSAuPSAkdmFyWyRjXTsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJY2FzZSAoKCRvcmRfdmFyX2MgJiAweEUwKSA9PSAweEMwKToKCQkJCQkJCS8vIGNoYXJhY3RlcnMgVS0wMDAwMDA4MCAtIFUtMDAwMDA3RkYsIG1hc2sgMTEwWFhYWFgKCQkJCQkJCS8vIHNlZSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQkJCQlpZiAoJGMrMSA+PSAkc3RybGVuX3ZhcikgewoJCQkJCQkJCSRjICs9IDE7CgkJCQkJCQkJJGFzY2lpIC49ICc/JzsKCQkJCQkJCQlicmVhazsKCQkJCQkJCX0KCgkJCQkJCQkkY2hhciA9IHBhY2soJ0MqJywgJG9yZF92YXJfYywgb3JkKCR2YXJbJGMgKyAxXSkpOwoJCQkJCQkJJGMgKz0gMTsKCQkJCQkJCSR1dGYxNiA9ICR0aGlzLT51dGY4MnV0ZjE2KCRjaGFyKTsKCQkJCQkJCSRhc2NpaSAuPSBzcHJpbnRmKCdcdSUwNHMnLCBiaW4yaGV4KCR1dGYxNikpOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlICgoJG9yZF92YXJfYyAmIDB4RjApID09IDB4RTApOgoJCQkJCQkJaWYgKCRjKzIgPj0gJHN0cmxlbl92YXIpIHsKCQkJCQkJCQkkYyArPSAyOwoJCQkJCQkJCSRhc2NpaSAuPSAnPyc7CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQl9CgkJCQkJCQkvLyBjaGFyYWN0ZXJzIFUtMDAwMDA4MDAgLSBVLTAwMDBGRkZGLCBtYXNrIDExMTBYWFhYCgkJCQkJCQkvLyBzZWUgaHR0cDovL3d3dy5jbC5jYW0uYWMudWsvfm1nazI1L3VuaWNvZGUuaHRtbCN1dGYtOAoJCQkJCQkJJGNoYXIgPSBwYWNrKCdDKicsICRvcmRfdmFyX2MsCgkJCQkJCQkJCQlAb3JkKCR2YXJbJGMgKyAxXSksCgkJCQkJCQkJCQlAb3JkKCR2YXJbJGMgKyAyXSkpOwoJCQkJCQkJJGMgKz0gMjsKCQkJCQkJCSR1dGYxNiA9ICR0aGlzLT51dGY4MnV0ZjE2KCRjaGFyKTsKCQkJCQkJCSRhc2NpaSAuPSBzcHJpbnRmKCdcdSUwNHMnLCBiaW4yaGV4KCR1dGYxNikpOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlICgoJG9yZF92YXJfYyAmIDB4RjgpID09IDB4RjApOgoJCQkJCQkJaWYgKCRjKzMgPj0gJHN0cmxlbl92YXIpIHsKCQkJCQkJCQkkYyArPSAzOwoJCQkJCQkJCSRhc2NpaSAuPSAnPyc7CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQl9CgkJCQkJCQkvLyBjaGFyYWN0ZXJzIFUtMDAwMTAwMDAgLSBVLTAwMUZGRkZGLCBtYXNrIDExMTEwWFhYCgkJCQkJCQkvLyBzZWUgaHR0cDovL3d3dy5jbC5jYW0uYWMudWsvfm1nazI1L3VuaWNvZGUuaHRtbCN1dGYtOAoJCQkJCQkJJGNoYXIgPSBwYWNrKCdDKicsICRvcmRfdmFyX2MsCgkJCQkJCQkJCQlvcmQoJHZhclskYyArIDFdKSwKCQkJCQkJCQkJCW9yZCgkdmFyWyRjICsgMl0pLAoJCQkJCQkJCQkJb3JkKCR2YXJbJGMgKyAzXSkpOwoJCQkJCQkJJGMgKz0gMzsKCQkJCQkJCSR1dGYxNiA9ICR0aGlzLT51dGY4MnV0ZjE2KCRjaGFyKTsKCQkJCQkJCSRhc2NpaSAuPSBzcHJpbnRmKCdcdSUwNHMnLCBiaW4yaGV4KCR1dGYxNikpOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlICgoJG9yZF92YXJfYyAmIDB4RkMpID09IDB4RjgpOgoJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTAwMjAwMDAwIC0gVS0wM0ZGRkZGRiwgbWFzayAxMTExMTBYWAoJCQkJCQkJLy8gc2VlIGh0dHA6Ly93d3cuY2wuY2FtLmFjLnVrL35tZ2syNS91bmljb2RlLmh0bWwjdXRmLTgKCQkJCQkJCWlmICgkYys0ID49ICRzdHJsZW5fdmFyKSB7CgkJCQkJCQkJJGMgKz0gNDsKCQkJCQkJCQkkYXNjaWkgLj0gJz8nOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJfQoJCQkJCQkJJGNoYXIgPSBwYWNrKCdDKicsICRvcmRfdmFyX2MsCgkJCQkJCQkJCQlvcmQoJHZhclskYyArIDFdKSwKCQkJCQkJCQkJCW9yZCgkdmFyWyRjICsgMl0pLAoJCQkJCQkJCQkJb3JkKCR2YXJbJGMgKyAzXSksCgkJCQkJCQkJCQlvcmQoJHZhclskYyArIDRdKSk7CgkJCQkJCQkkYyArPSA0OwoJCQkJCQkJJHV0ZjE2ID0gJHRoaXMtPnV0ZjgydXRmMTYoJGNoYXIpOwoJCQkJCQkJJGFzY2lpIC49IHNwcmludGYoJ1x1JTA0cycsIGJpbjJoZXgoJHV0ZjE2KSk7CgkJCQkJCQlicmVhazsKCgkJCQkJCWNhc2UgKCgkb3JkX3Zhcl9jICYgMHhGRSkgPT0gMHhGQyk6CgkJCQkJCWlmICgkYys1ID49ICRzdHJsZW5fdmFyKSB7CgkJCQkJCQkJJGMgKz0gNTsKCQkJCQkJCQkkYXNjaWkgLj0gJz8nOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJfQoJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTA0MDAwMDAwIC0gVS03RkZGRkZGRiwgbWFzayAxMTExMTEwWAoJCQkJCQkJLy8gc2VlIGh0dHA6Ly93d3cuY2wuY2FtLmFjLnVrL35tZ2syNS91bmljb2RlLmh0bWwjdXRmLTgKCQkJCQkJCSRjaGFyID0gcGFjaygnQyonLCAkb3JkX3Zhcl9jLAoJCQkJCQkJCQkJb3JkKCR2YXJbJGMgKyAxXSksCgkJCQkJCQkJCQlvcmQoJHZhclskYyArIDJdKSwKCQkJCQkJCQkJCW9yZCgkdmFyWyRjICsgM10pLAoJCQkJCQkJCQkJb3JkKCR2YXJbJGMgKyA0XSksCgkJCQkJCQkJCQlvcmQoJHZhclskYyArIDVdKSk7CgkJCQkJCQkkYyArPSA1OwoJCQkJCQkJJHV0ZjE2ID0gJHRoaXMtPnV0ZjgydXRmMTYoJGNoYXIpOwoJCQkJCQkJJGFzY2lpIC49IHNwcmludGYoJ1x1JTA0cycsIGJpbjJoZXgoJHV0ZjE2KSk7CgkJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCQlyZXR1cm4gICciJy4kYXNjaWkuJyInOwoKCQkJY2FzZSAnYXJyYXknOgoJCQkvKgoJCQkJKiBBcyBwZXIgSlNPTiBzcGVjIGlmIGFueSBhcnJheSBrZXkgaXMgbm90IGFuIGludGVnZXIKCQkJCSogd2UgbXVzdCB0cmVhdCB0aGUgdGhlIHdob2xlIGFycmF5IGFzIGFuIG9iamVjdC4gV2UKCQkJCSogYWxzbyB0cnkgdG8gY2F0Y2ggYSBzcGFyc2VseSBwb3B1bGF0ZWQgYXNzb2NpYXRpdmUKCQkJCSogYXJyYXkgd2l0aCBudW1lcmljIGtleXMgaGVyZSBiZWNhdXNlIHNvbWUgSlMgZW5naW5lcwoJCQkJKiB3aWxsIGNyZWF0ZSBhbiBhcnJheSB3aXRoIGVtcHR5IGluZGV4ZXMgdXAgdG8KCQkJCSogbWF4X2luZGV4IHdoaWNoIGNhbiBjYXVzZSBtZW1vcnkgaXNzdWVzIGFuZCBiZWNhdXNlCgkJCQkqIHRoZSBrZXlzLCB3aGljaCBtYXkgYmUgcmVsZXZhbnQsIHdpbGwgYmUgcmVtYXBwZWQKCQkJCSogb3RoZXJ3aXNlLgoJCQkJKgoJCQkJKiBBcyBwZXIgdGhlIEVDTUEgYW5kIEpTT04gc3BlY2lmaWNhdGlvbiBhbiBvYmplY3QgbWF5CgkJCQkqIGhhdmUgYW55IHN0cmluZyBhcyBhIHByb3BlcnR5LiBVbmZvcnR1bmF0ZWx5IGR1ZSB0bwoJCQkJKiBhIGhvbGUgaW4gdGhlIEVDTUEgc3BlY2lmaWNhdGlvbiBpZiB0aGUga2V5IGlzIGEKCQkJCSogRUNNQSByZXNlcnZlZCB3b3JkIG9yIHN0YXJ0cyB3aXRoIGEgZGlnaXQgdGhlCgkJCQkqIHBhcmFtZXRlciBpcyBvbmx5IGFjY2Vzc2libGUgdXNpbmcgRUNNQVNjcmlwdCdzCgkJCQkqIGJyYWNrZXQgbm90YXRpb24uCgkJCQkqLwoKCQkJCS8vIHRyZWF0IGFzIGEgSlNPTiBvYmplY3QKCQkJCWlmIChpc19hcnJheSgkdmFyKSAmJiBjb3VudCgkdmFyKSAmJiAoYXJyYXlfa2V5cygkdmFyKSAhPT0gcmFuZ2UoMCwgc2l6ZW9mKCR2YXIpIC0gMSkpKSB7CgkJCQkJJHByb3BlcnRpZXMgPSBhcnJheV9tYXAoYXJyYXkoJHRoaXMsICduYW1lX3ZhbHVlJyksCgkJCQkJCQkJCQkJYXJyYXlfa2V5cygkdmFyKSwKCQkJCQkJCQkJCQlhcnJheV92YWx1ZXMoJHZhcikpOwoKCQkJCQlmb3JlYWNoKCRwcm9wZXJ0aWVzIGFzICRwcm9wZXJ0eSkgewoJCQkJCQlpZihTZXJ2aWNlc19KU09OOjppc0Vycm9yKCRwcm9wZXJ0eSkpIHsKCQkJCQkJCXJldHVybiAkcHJvcGVydHk7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCXJldHVybiAneycgLiBqb2luKCcsJywgJHByb3BlcnRpZXMpIC4gJ30nOwoJCQkJfQoKCQkJCS8vIHRyZWF0IGl0IGxpa2UgYSByZWd1bGFyIGFycmF5CgkJCQkkZWxlbWVudHMgPSBhcnJheV9tYXAoYXJyYXkoJHRoaXMsICdfZW5jb2RlJyksICR2YXIpOwoKCQkJCWZvcmVhY2goJGVsZW1lbnRzIGFzICRlbGVtZW50KSB7CgkJCQkJaWYoU2VydmljZXNfSlNPTjo6aXNFcnJvcigkZWxlbWVudCkpIHsKCQkJCQkJcmV0dXJuICRlbGVtZW50OwoJCQkJCX0KCQkJCX0KCgkJCQlyZXR1cm4gJ1snIC4gam9pbignLCcsICRlbGVtZW50cykgLiAnXSc7CgoJCQljYXNlICdvYmplY3QnOgoJCQkJJHZhcnMgPSBnZXRfb2JqZWN0X3ZhcnMoJHZhcik7CgoJCQkJJHByb3BlcnRpZXMgPSBhcnJheV9tYXAoYXJyYXkoJHRoaXMsICduYW1lX3ZhbHVlJyksCgkJCQkJCQkJCQlhcnJheV9rZXlzKCR2YXJzKSwKCQkJCQkJCQkJCWFycmF5X3ZhbHVlcygkdmFycykpOwoKCQkJCWZvcmVhY2goJHByb3BlcnRpZXMgYXMgJHByb3BlcnR5KSB7CgkJCQkJaWYoU2VydmljZXNfSlNPTjo6aXNFcnJvcigkcHJvcGVydHkpKSB7CgkJCQkJCXJldHVybiAkcHJvcGVydHk7CgkJCQkJfQoJCQkJfQoKCQkJCXJldHVybiAneycgLiBqb2luKCcsJywgJHByb3BlcnRpZXMpIC4gJ30nOwoKCQkJZGVmYXVsdDoKCQkJCXJldHVybiAoJHRoaXMtPnVzZSAmIFNFUlZJQ0VTX0pTT05fU1VQUFJFU1NfRVJST1JTKQoJCQkJCT8gJ251bGwnCgkJCQkJOiBuZXcgU2VydmljZXNfSlNPTl9FcnJvcihnZXR0eXBlKCR2YXIpLiIgY2FuIG5vdCBiZSBlbmNvZGVkIGFzIEpTT04gc3RyaW5nIik7CgkJfQoJfQoKIC8qKgoJKiBhcnJheS13YWxraW5nIGZ1bmN0aW9uIGZvciB1c2UgaW4gZ2VuZXJhdGluZyBKU09OLWZvcm1hdHRlZCBuYW1lLXZhbHVlIHBhaXJzCgkqCgkqIEBwYXJhbQlzdHJpbmcgICRuYW1lIG5hbWUgb2Yga2V5IHRvIHVzZQoJKiBAcGFyYW0JbWl4ZWQgJHZhbHVlICByZWZlcmVuY2UgdG8gYW4gYXJyYXkgZWxlbWVudCB0byBiZSBlbmNvZGVkCgkqCgkqIEByZXR1cm4gc3RyaW5nICBKU09OLWZvcm1hdHRlZCBuYW1lLXZhbHVlIHBhaXIsIGxpa2UgJyJuYW1lIjp2YWx1ZScKCSogQGFjY2VzcyBwcml2YXRlCgkqLwoJZnVuY3Rpb24gbmFtZV92YWx1ZSgkbmFtZSwgJHZhbHVlKQoJewoJCSRlbmNvZGVkX3ZhbHVlID0gJHRoaXMtPl9lbmNvZGUoJHZhbHVlKTsKCgkJaWYoU2VydmljZXNfSlNPTjo6aXNFcnJvcigkZW5jb2RlZF92YWx1ZSkpIHsKCQkJcmV0dXJuICRlbmNvZGVkX3ZhbHVlOwoJCX0KCgkJcmV0dXJuICR0aGlzLT5fZW5jb2RlKHN0cnZhbCgkbmFtZSkpIC4gJzonIC4gJGVuY29kZWRfdmFsdWU7Cgl9CgogLyoqCgkqIHJlZHVjZSBhIHN0cmluZyBieSByZW1vdmluZyBsZWFkaW5nIGFuZCB0cmFpbGluZyBjb21tZW50cyBhbmQgd2hpdGVzcGFjZQoJKgoJKiBAcGFyYW0JJHN0cglzdHJpbmcJc3RyaW5nIHZhbHVlIHRvIHN0cmlwIG9mIGNvbW1lbnRzIGFuZCB3aGl0ZXNwYWNlCgkqCgkqIEByZXR1cm4gc3RyaW5nICBzdHJpbmcgdmFsdWUgc3RyaXBwZWQgb2YgY29tbWVudHMgYW5kIHdoaXRlc3BhY2UKCSogQGFjY2VzcyBwcml2YXRlCgkqLwoJZnVuY3Rpb24gcmVkdWNlX3N0cmluZygkc3RyKQoJewoJCSRzdHIgPSBwcmVnX3JlcGxhY2UoYXJyYXkoCgoJCQkJLy8gZWxpbWluYXRlIHNpbmdsZSBsaW5lIGNvbW1lbnRzIGluICcvLyAuLi4nIGZvcm0KCQkJCScjXlxzKi8vKC4rKSQjbScsCgoJCQkJLy8gZWxpbWluYXRlIG11bHRpLWxpbmUgY29tbWVudHMgaW4gJy8qIC4uLiAqLycgZm9ybSwgYXQgc3RhcnQgb2Ygc3RyaW5nCgkJCQknI15ccyovXCooLispXCovI1VzJywKCgkJCQkvLyBlbGltaW5hdGUgbXVsdGktbGluZSBjb21tZW50cyBpbiAnLyogLi4uICovJyBmb3JtLCBhdCBlbmQgb2Ygc3RyaW5nCgkJCQknIy9cKiguKylcKi9ccyokI1VzJwoKCQkJKSwgJycsICRzdHIpOwoKCQkvLyBlbGltaW5hdGUgZXh0cmFuZW91cyBzcGFjZQoJCXJldHVybiB0cmltKCRzdHIpOwoJfQoKIC8qKgoJKiBkZWNvZGVzIGEgSlNPTiBzdHJpbmcgaW50byBhcHByb3ByaWF0ZSB2YXJpYWJsZQoJKgoJKiBAcGFyYW0Jc3RyaW5nICAkc3RyCUpTT04tZm9ybWF0dGVkIHN0cmluZwoJKgoJKiBAcmV0dXJuIG1peGVkIG51bWJlciwgYm9vbGVhbiwgc3RyaW5nLCBhcnJheSwgb3Igb2JqZWN0CgkqCQkJCWNvcnJlc3BvbmRpbmcgdG8gZ2l2ZW4gSlNPTiBpbnB1dCBzdHJpbmcuCgkqCQkJCVNlZSBhcmd1bWVudCAxIHRvIFNlcnZpY2VzX0pTT04oKSBhYm92ZSBmb3Igb2JqZWN0LW91dHB1dCBiZWhhdmlvci4KCSoJCQkJTm90ZSB0aGF0IGRlY29kZSgpIGFsd2F5cyByZXR1cm5zIHN0cmluZ3MKCSoJCQkJaW4gQVNDSUkgb3IgVVRGLTggZm9ybWF0IQoJKiBAYWNjZXNzIHB1YmxpYwoJKi8KCWZ1bmN0aW9uIGRlY29kZSgkc3RyKQoJewoJCSRzdHIgPSAkdGhpcy0+cmVkdWNlX3N0cmluZygkc3RyKTsKCgkJc3dpdGNoIChzdHJ0b2xvd2VyKCRzdHIpKSB7CgkJCWNhc2UgJ3RydWUnOgoJCQkJcmV0dXJuIHRydWU7CgoJCQljYXNlICdmYWxzZSc6CgkJCQlyZXR1cm4gZmFsc2U7CgoJCQljYXNlICdudWxsJzoKCQkJCXJldHVybiBudWxsOwoKCQkJZGVmYXVsdDoKCQkJCSRtID0gYXJyYXkoKTsKCgkJCQlpZiAoaXNfbnVtZXJpYygkc3RyKSkgewoJCQkJCS8vIExvb2tpZS1sb28sIGl0J3MgYSBudW1iZXIKCgkJCQkJLy8gVGhpcyB3b3VsZCB3b3JrIG9uIGl0cyBvd24sIGJ1dCBJJ20gdHJ5aW5nIHRvIGJlCgkJCQkJLy8gZ29vZCBhYm91dCByZXR1cm5pbmcgaW50ZWdlcnMgd2hlcmUgYXBwcm9wcmlhdGU6CgkJCQkJLy8gcmV0dXJuIChmbG9hdCkkc3RyOwoKCQkJCQkvLyBSZXR1cm4gZmxvYXQgb3IgaW50LCBhcyBhcHByb3ByaWF0ZQoJCQkJCXJldHVybiAoKGZsb2F0KSRzdHIgPT0gKGludGVnZXIpJHN0cikKCQkJCQkJPyAoaW50ZWdlcikkc3RyCgkJCQkJCTogKGZsb2F0KSRzdHI7CgoJCQkJfSBlbHNlaWYgKHByZWdfbWF0Y2goJy9eKCJ8XCcpLiooXDEpJC9zJywgJHN0ciwgJG0pICYmICRtWzFdID09ICRtWzJdKSB7CgkJCQkJLy8gU1RSSU5HUyBSRVRVUk5FRCBJTiBVVEYtOCBGT1JNQVQKCQkJCQkkZGVsaW0gPSBzdWJzdHIoJHN0ciwgMCwgMSk7CgkJCQkJJGNocnMgPSBzdWJzdHIoJHN0ciwgMSwgLTEpOwoJCQkJCSR1dGY4ID0gJyc7CgkJCQkJJHN0cmxlbl9jaHJzID0gc3RybGVuKCRjaHJzKTsKCgkJCQkJZm9yICgkYyA9IDA7ICRjIDwgJHN0cmxlbl9jaHJzOyArKyRjKSB7CgoJCQkJCQkkc3Vic3RyX2NocnNfY18yID0gc3Vic3RyKCRjaHJzLCAkYywgMik7CgkJCQkJCSRvcmRfY2hyc19jID0gb3JkKCRjaHJzWyRjXSk7CgoJCQkJCQlzd2l0Y2ggKHRydWUpIHsKCQkJCQkJCWNhc2UgJHN1YnN0cl9jaHJzX2NfMiA9PSAnXGInOgoJCQkJCQkJCSR1dGY4IC49IGNocigweDA4KTsKCQkJCQkJCQkrKyRjOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJY2FzZSAkc3Vic3RyX2NocnNfY18yID09ICdcdCc6CgkJCQkJCQkJJHV0ZjggLj0gY2hyKDB4MDkpOwoJCQkJCQkJCSsrJGM7CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICRzdWJzdHJfY2hyc19jXzIgPT0gJ1xuJzoKCQkJCQkJCQkkdXRmOCAuPSBjaHIoMHgwQSk7CgkJCQkJCQkJKyskYzsKCQkJCQkJCQlicmVhazsKCQkJCQkJCWNhc2UgJHN1YnN0cl9jaHJzX2NfMiA9PSAnXGYnOgoJCQkJCQkJCSR1dGY4IC49IGNocigweDBDKTsKCQkJCQkJCQkrKyRjOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJY2FzZSAkc3Vic3RyX2NocnNfY18yID09ICdccic6CgkJCQkJCQkJJHV0ZjggLj0gY2hyKDB4MEQpOwoJCQkJCQkJCSsrJGM7CgkJCQkJCQkJYnJlYWs7CgoJCQkJCQkJY2FzZSAkc3Vic3RyX2NocnNfY18yID09ICdcXCInOgoJCQkJCQkJY2FzZSAkc3Vic3RyX2NocnNfY18yID09ICdcXFwnJzoKCQkJCQkJCWNhc2UgJHN1YnN0cl9jaHJzX2NfMiA9PSAnXFxcXCc6CgkJCQkJCQljYXNlICRzdWJzdHJfY2hyc19jXzIgPT0gJ1xcLyc6CgkJCQkJCQkJaWYgKCgkZGVsaW0gPT0gJyInICYmICRzdWJzdHJfY2hyc19jXzIgIT0gJ1xcXCcnKSB8fAoJCQkJCQkJCSgkZGVsaW0gPT0gIiciICYmICRzdWJzdHJfY2hyc19jXzIgIT0gJ1xcIicpKSB7CgkJCQkJCQkJCSR1dGY4IC49ICRjaHJzWysrJGNdOwoJCQkJCQkJCX0KCQkJCQkJCQlicmVhazsKCgkJCQkJCQljYXNlIHByZWdfbWF0Y2goJy9cXFx1WzAtOUEtRl17NH0vaScsIHN1YnN0cigkY2hycywgJGMsIDYpKToKCQkJCQkJCQkvLyBzaW5nbGUsIGVzY2FwZWQgdW5pY29kZSBjaGFyYWN0ZXIKCQkJCQkJCQkkdXRmMTYgPSBjaHIoaGV4ZGVjKHN1YnN0cigkY2hycywgKCRjICsgMiksIDIpKSkKCQkJCQkJCQkJLiBjaHIoaGV4ZGVjKHN1YnN0cigkY2hycywgKCRjICsgNCksIDIpKSk7CgkJCQkJCQkJJHV0ZjggLj0gJHRoaXMtPnV0ZjE2MnV0ZjgoJHV0ZjE2KTsKCQkJCQkJCQkkYyArPSA1OwoJCQkJCQkJCWJyZWFrOwoKCQkJCQkJCWNhc2UgKCRvcmRfY2hyc19jID49IDB4MjApICYmICgkb3JkX2NocnNfYyA8PSAweDdGKToKCQkJCQkJCQkkdXRmOCAuPSAkY2hyc1skY107CgkJCQkJCQkJYnJlYWs7CgoJCQkJCQkJY2FzZSAoJG9yZF9jaHJzX2MgJiAweEUwKSA9PSAweEMwOgoJCQkJCQkJCS8vIGNoYXJhY3RlcnMgVS0wMDAwMDA4MCAtIFUtMDAwMDA3RkYsIG1hc2sgMTEwWFhYWFgKCQkJCQkJCQkvL3NlZSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQkJCQkJJHV0ZjggLj0gc3Vic3RyKCRjaHJzLCAkYywgMik7CgkJCQkJCQkJKyskYzsKCQkJCQkJCQlicmVhazsKCgkJCQkJCQljYXNlICgkb3JkX2NocnNfYyAmIDB4RjApID09IDB4RTA6CgkJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTAwMDAwODAwIC0gVS0wMDAwRkZGRiwgbWFzayAxMTEwWFhYWAoJCQkJCQkJCS8vIHNlZSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQkJCQkJJHV0ZjggLj0gc3Vic3RyKCRjaHJzLCAkYywgMyk7CgkJCQkJCQkJJGMgKz0gMjsKCQkJCQkJCQlicmVhazsKCgkJCQkJCQljYXNlICgkb3JkX2NocnNfYyAmIDB4RjgpID09IDB4RjA6CgkJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTAwMDEwMDAwIC0gVS0wMDFGRkZGRiwgbWFzayAxMTExMFhYWAoJCQkJCQkJCS8vIHNlZSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQkJCQkJJHV0ZjggLj0gc3Vic3RyKCRjaHJzLCAkYywgNCk7CgkJCQkJCQkJJGMgKz0gMzsKCQkJCQkJCQlicmVhazsKCgkJCQkJCQljYXNlICgkb3JkX2NocnNfYyAmIDB4RkMpID09IDB4Rjg6CgkJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTAwMjAwMDAwIC0gVS0wM0ZGRkZGRiwgbWFzayAxMTExMTBYWAoJCQkJCQkJCS8vIHNlZSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQkJCQkJJHV0ZjggLj0gc3Vic3RyKCRjaHJzLCAkYywgNSk7CgkJCQkJCQkJJGMgKz0gNDsKCQkJCQkJCQlicmVhazsKCgkJCQkJCQljYXNlICgkb3JkX2NocnNfYyAmIDB4RkUpID09IDB4RkM6CgkJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTA0MDAwMDAwIC0gVS03RkZGRkZGRiwgbWFzayAxMTExMTEwWAoJCQkJCQkJCS8vIHNlZSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQkJCQkJJHV0ZjggLj0gc3Vic3RyKCRjaHJzLCAkYywgNik7CgkJCQkJCQkJJGMgKz0gNTsKCQkJCQkJCQlicmVhazsKCgkJCQkJCX0KCgkJCQkJfQoKCQkJCQlyZXR1cm4gJHV0Zjg7CgoJCQkJfSBlbHNlaWYgKHByZWdfbWF0Y2goJy9eXFsuKlxdJC9zJywgJHN0cikgfHwgcHJlZ19tYXRjaCgnL15cey4qXH0kL3MnLCAkc3RyKSkgewoJCQkJCS8vIGFycmF5LCBvciBvYmplY3Qgbm90YXRpb24KCgkJCQkJaWYgKCRzdHJbMF0gPT0gJ1snKSB7CgkJCQkJCSRzdGsgPSBhcnJheShTRVJWSUNFU19KU09OX0lOX0FSUik7CgkJCQkJCSRhcnIgPSBhcnJheSgpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWlmICgkdGhpcy0+dXNlICYgU0VSVklDRVNfSlNPTl9MT09TRV9UWVBFKSB7CgkJCQkJCQkkc3RrID0gYXJyYXkoU0VSVklDRVNfSlNPTl9JTl9PQkopOwoJCQkJCQkJJG9iaiA9IGFycmF5KCk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQkkc3RrID0gYXJyYXkoU0VSVklDRVNfSlNPTl9JTl9PQkopOwoJCQkJCQkJJG9iaiA9IG5ldyBzdGRDbGFzcygpOwoJCQkJCQl9CgkJCQkJfQoKCQkJCQlhcnJheV9wdXNoKCRzdGssIGFycmF5KCd3aGF0JyAgPT4gU0VSVklDRVNfSlNPTl9TTElDRSwKCQkJCQkJCQkJCSd3aGVyZScgPT4gMCwKCQkJCQkJCQkJCSdkZWxpbScgPT4gZmFsc2UpKTsKCgkJCQkJJGNocnMgPSBzdWJzdHIoJHN0ciwgMSwgLTEpOwoJCQkJCSRjaHJzID0gJHRoaXMtPnJlZHVjZV9zdHJpbmcoJGNocnMpOwoKCQkJCQlpZiAoJGNocnMgPT0gJycpIHsKCQkJCQkJaWYgKHJlc2V0KCRzdGspID09IFNFUlZJQ0VTX0pTT05fSU5fQVJSKSB7CgkJCQkJCQlyZXR1cm4gJGFycjsKCgkJCQkJCX0gZWxzZSB7CgkJCQkJCQlyZXR1cm4gJG9iajsKCgkJCQkJCX0KCQkJCQl9CgoJCQkJCS8vcHJpbnQoIlxucGFyc2luZyB7JGNocnN9XG4iKTsKCgkJCQkJJHN0cmxlbl9jaHJzID0gc3RybGVuKCRjaHJzKTsKCgkJCQkJZm9yICgkYyA9IDA7ICRjIDw9ICRzdHJsZW5fY2hyczsgKyskYykgewoKCQkJCQkJJHRvcCA9IGVuZCgkc3RrKTsKCQkJCQkJJHN1YnN0cl9jaHJzX2NfMiA9IHN1YnN0cigkY2hycywgJGMsIDIpOwoKCQkJCQkJaWYgKCgkYyA9PSAkc3RybGVuX2NocnMpIHx8ICgoJGNocnNbJGNdID09ICcsJykgJiYgKCR0b3BbJ3doYXQnXSA9PSBTRVJWSUNFU19KU09OX1NMSUNFKSkpIHsKCQkJCQkJCS8vIGZvdW5kIGEgY29tbWEgdGhhdCBpcyBub3QgaW5zaWRlIGEgc3RyaW5nLCBhcnJheSwgZXRjLiwKCQkJCQkJCS8vIE9SIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgY2hhcmFjdGVyIGxpc3QKCQkJCQkJCSRzbGljZSA9IHN1YnN0cigkY2hycywgJHRvcFsnd2hlcmUnXSwgKCRjIC0gJHRvcFsnd2hlcmUnXSkpOwoJCQkJCQkJYXJyYXlfcHVzaCgkc3RrLCBhcnJheSgnd2hhdCcgPT4gU0VSVklDRVNfSlNPTl9TTElDRSwgJ3doZXJlJyA9PiAoJGMgKyAxKSwgJ2RlbGltJyA9PiBmYWxzZSkpOwoJCQkJCQkJLy9wcmludCgiRm91bmQgc3BsaXQgYXQgeyRjfTogIi5zdWJzdHIoJGNocnMsICR0b3BbJ3doZXJlJ10sICgxICsgJGMgLSAkdG9wWyd3aGVyZSddKSkuIlxuIik7CgoJCQkJCQkJaWYgKHJlc2V0KCRzdGspID09IFNFUlZJQ0VTX0pTT05fSU5fQVJSKSB7CgkJCQkJCQkJLy8gd2UgYXJlIGluIGFuIGFycmF5LCBzbyBqdXN0IHB1c2ggYW4gZWxlbWVudCBvbnRvIHRoZSBzdGFjawoJCQkJCQkJCWFycmF5X3B1c2goJGFyciwgJHRoaXMtPmRlY29kZSgkc2xpY2UpKTsKCgkJCQkJCQl9IGVsc2VpZiAocmVzZXQoJHN0aykgPT0gU0VSVklDRVNfSlNPTl9JTl9PQkopIHsKCQkJCQkJCQkvLyB3ZSBhcmUgaW4gYW4gb2JqZWN0LCBzbyBmaWd1cmUKCQkJCQkJCQkvLyBvdXQgdGhlIHByb3BlcnR5IG5hbWUgYW5kIHNldCBhbgoJCQkJCQkJCS8vIGVsZW1lbnQgaW4gYW4gYXNzb2NpYXRpdmUgYXJyYXksCgkJCQkJCQkJLy8gZm9yIG5vdwoJCQkJCQkJCSRwYXJ0cyA9IGFycmF5KCk7CgoJCQkJCQkJCWlmIChwcmVnX21hdGNoKCcvXlxzKihbIlwnXS4qW15cXFxdWyJcJ10pXHMqOlxzKihcUy4qKSw/JC9VaXMnLCAkc2xpY2UsICRwYXJ0cykpIHsKCQkJCQkJCQkJLy8gIm5hbWUiOnZhbHVlIHBhaXIKCQkJCQkJCQkJJGtleSA9ICR0aGlzLT5kZWNvZGUoJHBhcnRzWzFdKTsKCQkJCQkJCQkJJHZhbCA9ICR0aGlzLT5kZWNvZGUoJHBhcnRzWzJdKTsKCgkJCQkJCQkJCWlmICgkdGhpcy0+dXNlICYgU0VSVklDRVNfSlNPTl9MT09TRV9UWVBFKSB7CgkJCQkJCQkJCQkkb2JqWyRrZXldID0gJHZhbDsKCQkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJCSRvYmotPiRrZXkgPSAkdmFsOwoJCQkJCQkJCQl9CgkJCQkJCQkJfSBlbHNlaWYgKHByZWdfbWF0Y2goJy9eXHMqKFx3Kylccyo6XHMqKFxTLiopLD8kL1VpcycsICRzbGljZSwgJHBhcnRzKSkgewoJCQkJCQkJCQkvLyBuYW1lOnZhbHVlIHBhaXIsIHdoZXJlIG5hbWUgaXMgdW5xdW90ZWQKCQkJCQkJCQkJJGtleSA9ICRwYXJ0c1sxXTsKCQkJCQkJCQkJJHZhbCA9ICR0aGlzLT5kZWNvZGUoJHBhcnRzWzJdKTsKCgkJCQkJCQkJCWlmICgkdGhpcy0+dXNlICYgU0VSVklDRVNfSlNPTl9MT09TRV9UWVBFKSB7CgkJCQkJCQkJCQkkb2JqWyRrZXldID0gJHZhbDsKCQkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJCSRvYmotPiRrZXkgPSAkdmFsOwoJCQkJCQkJCQl9CgkJCQkJCQkJfQoKCQkJCQkJCX0KCgkJCQkJCX0gZWxzZWlmICgoKCRjaHJzWyRjXSA9PSAnIicpIHx8ICgkY2hyc1skY10gPT0gIiciKSkgJiYgKCR0b3BbJ3doYXQnXSAhPSBTRVJWSUNFU19KU09OX0lOX1NUUikpIHsKCQkJCQkJCS8vIGZvdW5kIGEgcXVvdGUsIGFuZCB3ZSBhcmUgbm90IGluc2lkZSBhIHN0cmluZwoJCQkJCQkJYXJyYXlfcHVzaCgkc3RrLCBhcnJheSgnd2hhdCcgPT4gU0VSVklDRVNfSlNPTl9JTl9TVFIsICd3aGVyZScgPT4gJGMsICdkZWxpbScgPT4gJGNocnNbJGNdKSk7CgkJCQkJCQkvL3ByaW50KCJGb3VuZCBzdGFydCBvZiBzdHJpbmcgYXQgeyRjfVxuIik7CgoJCQkJCQl9IGVsc2VpZiAoKCRjaHJzWyRjXSA9PSAkdG9wWydkZWxpbSddKSAmJgoJCQkJCQkJCSgkdG9wWyd3aGF0J10gPT0gU0VSVklDRVNfSlNPTl9JTl9TVFIpICYmCgkJCQkJCQkJKChzdHJsZW4oc3Vic3RyKCRjaHJzLCAwLCAkYykpIC0gc3RybGVuKHJ0cmltKHN1YnN0cigkY2hycywgMCwgJGMpLCAnXFwnKSkpICUgMiAhPSAxKSkgewoJCQkJCQkJLy8gZm91bmQgYSBxdW90ZSwgd2UncmUgaW4gYSBzdHJpbmcsIGFuZCBpdCdzIG5vdCBlc2NhcGVkCgkJCQkJCQkvLyB3ZSBrbm93IHRoYXQgaXQncyBub3QgZXNjYXBlZCBiZWNhc2UgdGhlcmUgaXMgX25vdF8gYW4KCQkJCQkJCS8vIG9kZCBudW1iZXIgb2YgYmFja3NsYXNoZXMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nIHNvIGZhcgoJCQkJCQkJYXJyYXlfcG9wKCRzdGspOwoJCQkJCQkJLy9wcmludCgiRm91bmQgZW5kIG9mIHN0cmluZyBhdCB7JGN9OiAiLnN1YnN0cigkY2hycywgJHRvcFsnd2hlcmUnXSwgKDEgKyAxICsgJGMgLSAkdG9wWyd3aGVyZSddKSkuIlxuIik7CgoJCQkJCQl9IGVsc2VpZiAoKCRjaHJzWyRjXSA9PSAnWycpICYmCgkJCQkJCQkJaW5fYXJyYXkoJHRvcFsnd2hhdCddLCBhcnJheShTRVJWSUNFU19KU09OX1NMSUNFLCBTRVJWSUNFU19KU09OX0lOX0FSUiwgU0VSVklDRVNfSlNPTl9JTl9PQkopKSkgewoJCQkJCQkJLy8gZm91bmQgYSBsZWZ0LWJyYWNrZXQsIGFuZCB3ZSBhcmUgaW4gYW4gYXJyYXksIG9iamVjdCwgb3Igc2xpY2UKCQkJCQkJCWFycmF5X3B1c2goJHN0aywgYXJyYXkoJ3doYXQnID0+IFNFUlZJQ0VTX0pTT05fSU5fQVJSLCAnd2hlcmUnID0+ICRjLCAnZGVsaW0nID0+IGZhbHNlKSk7CgkJCQkJCQkvL3ByaW50KCJGb3VuZCBzdGFydCBvZiBhcnJheSBhdCB7JGN9XG4iKTsKCgkJCQkJCX0gZWxzZWlmICgoJGNocnNbJGNdID09ICddJykgJiYgKCR0b3BbJ3doYXQnXSA9PSBTRVJWSUNFU19KU09OX0lOX0FSUikpIHsKCQkJCQkJCS8vIGZvdW5kIGEgcmlnaHQtYnJhY2tldCwgYW5kIHdlJ3JlIGluIGFuIGFycmF5CgkJCQkJCQlhcnJheV9wb3AoJHN0ayk7CgkJCQkJCQkvL3ByaW50KCJGb3VuZCBlbmQgb2YgYXJyYXkgYXQgeyRjfTogIi5zdWJzdHIoJGNocnMsICR0b3BbJ3doZXJlJ10sICgxICsgJGMgLSAkdG9wWyd3aGVyZSddKSkuIlxuIik7CgoJCQkJCQl9IGVsc2VpZiAoKCRjaHJzWyRjXSA9PSAneycpICYmCgkJCQkJCQkJaW5fYXJyYXkoJHRvcFsnd2hhdCddLCBhcnJheShTRVJWSUNFU19KU09OX1NMSUNFLCBTRVJWSUNFU19KU09OX0lOX0FSUiwgU0VSVklDRVNfSlNPTl9JTl9PQkopKSkgewoJCQkJCQkJLy8gZm91bmQgYSBsZWZ0LWJyYWNlLCBhbmQgd2UgYXJlIGluIGFuIGFycmF5LCBvYmplY3QsIG9yIHNsaWNlCgkJCQkJCQlhcnJheV9wdXNoKCRzdGssIGFycmF5KCd3aGF0JyA9PiBTRVJWSUNFU19KU09OX0lOX09CSiwgJ3doZXJlJyA9PiAkYywgJ2RlbGltJyA9PiBmYWxzZSkpOwoJCQkJCQkJLy9wcmludCgiRm91bmQgc3RhcnQgb2Ygb2JqZWN0IGF0IHskY31cbiIpOwoKCQkJCQkJfSBlbHNlaWYgKCgkY2hyc1skY10gPT0gJ30nKSAmJiAoJHRvcFsnd2hhdCddID09IFNFUlZJQ0VTX0pTT05fSU5fT0JKKSkgewoJCQkJCQkJLy8gZm91bmQgYSByaWdodC1icmFjZSwgYW5kIHdlJ3JlIGluIGFuIG9iamVjdAoJCQkJCQkJYXJyYXlfcG9wKCRzdGspOwoJCQkJCQkJLy9wcmludCgiRm91bmQgZW5kIG9mIG9iamVjdCBhdCB7JGN9OiAiLnN1YnN0cigkY2hycywgJHRvcFsnd2hlcmUnXSwgKDEgKyAkYyAtICR0b3BbJ3doZXJlJ10pKS4iXG4iKTsKCgkJCQkJCX0gZWxzZWlmICgoJHN1YnN0cl9jaHJzX2NfMiA9PSAnLyonKSAmJgoJCQkJCQkJCWluX2FycmF5KCR0b3BbJ3doYXQnXSwgYXJyYXkoU0VSVklDRVNfSlNPTl9TTElDRSwgU0VSVklDRVNfSlNPTl9JTl9BUlIsIFNFUlZJQ0VTX0pTT05fSU5fT0JKKSkpIHsKCQkJCQkJCS8vIGZvdW5kIGEgY29tbWVudCBzdGFydCwgYW5kIHdlIGFyZSBpbiBhbiBhcnJheSwgb2JqZWN0LCBvciBzbGljZQoJCQkJCQkJYXJyYXlfcHVzaCgkc3RrLCBhcnJheSgnd2hhdCcgPT4gU0VSVklDRVNfSlNPTl9JTl9DTVQsICd3aGVyZScgPT4gJGMsICdkZWxpbScgPT4gZmFsc2UpKTsKCQkJCQkJCSRjKys7CgkJCQkJCQkvL3ByaW50KCJGb3VuZCBzdGFydCBvZiBjb21tZW50IGF0IHskY31cbiIpOwoKCQkJCQkJfSBlbHNlaWYgKCgkc3Vic3RyX2NocnNfY18yID09ICcqLycpICYmICgkdG9wWyd3aGF0J10gPT0gU0VSVklDRVNfSlNPTl9JTl9DTVQpKSB7CgkJCQkJCQkvLyBmb3VuZCBhIGNvbW1lbnQgZW5kLCBhbmQgd2UncmUgaW4gb25lIG5vdwoJCQkJCQkJYXJyYXlfcG9wKCRzdGspOwoJCQkJCQkJJGMrKzsKCgkJCQkJCQlmb3IgKCRpID0gJHRvcFsnd2hlcmUnXTsgJGkgPD0gJGM7ICsrJGkpCgkJCQkJCQkJJGNocnMgPSBzdWJzdHJfcmVwbGFjZSgkY2hycywgJyAnLCAkaSwgMSk7CgoJCQkJCQkJLy9wcmludCgiRm91bmQgZW5kIG9mIGNvbW1lbnQgYXQgeyRjfTogIi5zdWJzdHIoJGNocnMsICR0b3BbJ3doZXJlJ10sICgxICsgJGMgLSAkdG9wWyd3aGVyZSddKSkuIlxuIik7CgoJCQkJCQl9CgoJCQkJCX0KCgkJCQkJaWYgKHJlc2V0KCRzdGspID09IFNFUlZJQ0VTX0pTT05fSU5fQVJSKSB7CgkJCQkJCXJldHVybiAkYXJyOwoKCQkJCQl9IGVsc2VpZiAocmVzZXQoJHN0aykgPT0gU0VSVklDRVNfSlNPTl9JTl9PQkopIHsKCQkJCQkJcmV0dXJuICRvYmo7CgoJCQkJCX0KCgkJCQl9CgkJfQoJfQoKCS8qKgoJKiBAdG9kbyBVbHRpbWF0ZWx5LCB0aGlzIHNob3VsZCBqdXN0IGNhbGwgUEVBUjo6aXNFcnJvcigpCgkqLwoJZnVuY3Rpb24gaXNFcnJvcigkZGF0YSwgJGNvZGUgPSBudWxsKQoJewoJCWlmIChjbGFzc19leGlzdHMoJ3BlYXInKSkgewoJCQlyZXR1cm4gUEVBUjo6aXNFcnJvcigkZGF0YSwgJGNvZGUpOwoJCX0gZWxzZWlmIChpc19vYmplY3QoJGRhdGEpICYmIChnZXRfY2xhc3MoJGRhdGEpID09ICdzZXJ2aWNlc19qc29uX2Vycm9yJyB8fAoJCQkJCQkJCWlzX3N1YmNsYXNzX29mKCRkYXRhLCAnc2VydmljZXNfanNvbl9lcnJvcicpKSkgewoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgoJCXJldHVybiBmYWxzZTsKCX0KfQoKaWYgKGNsYXNzX2V4aXN0cygnUEVBUl9FcnJvcicpKSB7CgoJY2xhc3MgU2VydmljZXNfSlNPTl9FcnJvciBleHRlbmRzIFBFQVJfRXJyb3IKCXsKCQlmdW5jdGlvbiBTZXJ2aWNlc19KU09OX0Vycm9yKCRtZXNzYWdlID0gJ3Vua25vd24gZXJyb3InLCAkY29kZSA9IG51bGwsCgkJCQkJCQkJCSRtb2RlID0gbnVsbCwgJG9wdGlvbnMgPSBudWxsLCAkdXNlcmluZm8gPSBudWxsKQoJCXsKCQkJcGFyZW50OjpQRUFSX0Vycm9yKCRtZXNzYWdlLCAkY29kZSwgJG1vZGUsICRvcHRpb25zLCAkdXNlcmluZm8pOwoJCX0KCX0KCn0gZWxzZSB7CgoJLyoqCgkqIEB0b2RvIFVsdGltYXRlbHksIHRoaXMgY2xhc3Mgc2hhbGwgYmUgZGVzY2VuZGVkIGZyb20gUEVBUl9FcnJvcgoJKi8KCWNsYXNzIFNlcnZpY2VzX0pTT05fRXJyb3IKCXsKCQlmdW5jdGlvbiBTZXJ2aWNlc19KU09OX0Vycm9yKCRtZXNzYWdlID0gJ3Vua25vd24gZXJyb3InLCAkY29kZSA9IG51bGwsCgkJCQkJCQkJCSRtb2RlID0gbnVsbCwgJG9wdGlvbnMgPSBudWxsLCAkdXNlcmluZm8gPSBudWxsKQoJCXsKCgkJfQoJfQoKfQplbmRpZjsKCgovKioKICogzqrBy7zmyN21zbDmsb61xHBocLb41Pa807XEuq/K/byvCiAqIGpzb2600zUuMi4wv6rKvNans9ajrHdvcmRwcmVzcyAyLjm/qsq8zOG5qWpzb266r8r9tcS85sjd0NS0+sLrCiAqLwppZiAoICFmdW5jdGlvbl9leGlzdHMoJ2pzb25fZW5jb2RlJykgKSB7CglmdW5jdGlvbiBqc29uX2VuY29kZSggJHN0cmluZyApIHsKCQlnbG9iYWwgJHdwX2pzb247CgoJCWlmICggIWlzX2EoJHdwX2pzb24sICdTZXJ2aWNlc19KU09OJykgKSB7CgkJCSR3cF9qc29uID0gbmV3IFNlcnZpY2VzX0pTT04oKTsKCQl9CgoJCXJldHVybiAkd3BfanNvbi0+ZW5jb2RlVW5zYWZlKCAkc3RyaW5nICk7Cgl9Cn0KCmlmICggIWZ1bmN0aW9uX2V4aXN0cygnanNvbl9kZWNvZGUnKSApIHsKCWZ1bmN0aW9uIGpzb25fZGVjb2RlKCAkc3RyaW5nLCAkYXNzb2NfYXJyYXkgPSBmYWxzZSApIHsKCQlnbG9iYWwgJHdwX2pzb247CgoJCWlmICggIWlzX2EoJHdwX2pzb24sICdTZXJ2aWNlc19KU09OJykgKSB7CgkJCSR3cF9qc29uID0gbmV3IFNlcnZpY2VzX0pTT04oKTsKCQl9CgoJCSRyZXMgPSAkd3BfanNvbi0+ZGVjb2RlKCAkc3RyaW5nICk7CgkJaWYgKCAkYXNzb2NfYXJyYXkgKQoJCQkkcmVzID0gX2pzb25fZGVjb2RlX29iamVjdF9oZWxwZXIoICRyZXMgKTsKCQlyZXR1cm4gJHJlczsKCX0KCWZ1bmN0aW9uIF9qc29uX2RlY29kZV9vYmplY3RfaGVscGVyKCRkYXRhKSB7CgkJaWYgKCBpc19vYmplY3QoJGRhdGEpICkKCQkJJGRhdGEgPSBnZXRfb2JqZWN0X3ZhcnMoJGRhdGEpOwoJCXJldHVybiBpc19hcnJheSgkZGF0YSkgPyBhcnJheV9tYXAoX19GVU5DVElPTl9fLCAkZGF0YSkgOiAkZGF0YTsKCX0KfQo=
</file>
<file type='file' name='../plus/duoshuo/Client.php'>
PD9waHAKLyoqCiAqIAogKiBAbGluayBodHRwOi8vZHVvc2h1by5jb20vCiAqIEBhdXRob3Igc2hlbjIKICoKICovCmNsYXNzIER1b3NodW9fQ2xpZW50ewoJdmFyICRlbmRfcG9pbnQgPSAnaHR0cDovL2FwaS5kdW9zaHVvLmNvbS8nOwoJLyoqCgkgKiC3tbvY1rW48cq9CgkgKiBAdmFyIHN0cmluZwoJICovCgl2YXIgJGZvcm1hdCA9ICdqc29uJzsKCQoJdmFyICR1c2VyQWdlbnQgPSAnRHVvc2h1b1BocFNkay8wLjIuMCc7CgkKCXZhciAkY29ubmVjdHRpbWVvdXQgPSAzMDsKCXZhciAkdGltZW91dCA9IDMwOwoJdmFyICRzaG9ydE5hbWU7Cgl2YXIgJHNlY3JldDsKCXZhciAkYWNjZXNzVG9rZW47Cgl2YXIgJGh0dHA7CgkKCWZ1bmN0aW9uIF9fY29uc3RydWN0KCRzaG9ydE5hbWUgPSBudWxsLCAkc2VjcmV0ID0gbnVsbCwgJHJlbW90ZUF1dGggPSBudWxsLCAkYWNjZXNzVG9rZW4gPSBudWxsKXsKCQkkdGhpcy0+c2hvcnROYW1lID0gJHNob3J0TmFtZTsKCQkkdGhpcy0+c2VjcmV0ID0gJHNlY3JldDsKCQkkdGhpcy0+cmVtb3RlQXV0aCA9ICRyZW1vdGVBdXRoOwoJCSR0aGlzLT5hY2Nlc3NUb2tlbiA9ICRhY2Nlc3NUb2tlbjsKCX0KCQoJZnVuY3Rpb24gZ2V0TG9nTGlzdCgkcGFyYW1zKXsKCQlyZXR1cm4gJHRoaXMtPnJlcXVlc3QoJ0dFVCcsICdsb2cvbGlzdCcsICRwYXJhbXMpOwoJfQoJCgkvKioKCSAqIAoJICogQHBhcmFtICRtZXRob2QKCSAqIEBwYXJhbSAkcGF0aAoJICogQHBhcmFtICRwYXJhbXMKCSAqIEB0aHJvd3MgRHVvc2h1b19FeGNlcHRpb24KCSAqIEByZXR1cm4gYXJyYXkKCSAqLwoJZnVuY3Rpb24gcmVxdWVzdCgkbWV0aG9kLCAkcGF0aCwgJHBhcmFtcyA9IGFycmF5KCkpewoJCSRwYXJhbXNbJ3Nob3J0X25hbWUnXSA9ICR0aGlzLT5zaG9ydE5hbWU7CgkJJHBhcmFtc1snc2VjcmV0J10gPSAkdGhpcy0+c2VjcmV0OwoJCSRwYXJhbXNbJ3JlbW90ZV9hdXRoJ10gPSAkdGhpcy0+cmVtb3RlQXV0aDsKCQkKCQlpZiAoJHRoaXMtPmFjY2Vzc1Rva2VuKQoJCQkkcGFyYW1zWydhY2Nlc3NfdG9rZW4nXSA9ICR0aGlzLT5hY2Nlc3NUb2tlbjsKCQkKCQkkdXJsID0gJHRoaXMtPmVuZF9wb2ludCAuICRwYXRoLiAnLicgLiAkdGhpcy0+Zm9ybWF0OwoJCQoJCXJldHVybiAkdGhpcy0+aHR0cFJlcXVlc3QoJHVybCwgJG1ldGhvZCwgJHBhcmFtcyk7Cgl9CgkKCWZ1bmN0aW9uIGh0dHBSZXF1ZXN0KCR1cmwsICRtZXRob2QsICRwYXJhbXMpewoJCSRib2R5ID0gTlVMTDsKCQlzd2l0Y2goJG1ldGhvZCl7CgkJCWNhc2UgJ0dFVCc6CgkJCQkkdXJsIC49ICc/JyAuIGh0dHBfYnVpbGRfcXVlcnkoJHBhcmFtcywgbnVsbCwgJyYnKTsJLy8gb3ZlcndyaXRlIGFyZ19zZXBhcmF0b3Iub3V0cHV0CgkJCQlicmVhazsKCQkJY2FzZSAnUE9TVCc6CgkJCQkkaGVhZGVycyA9IGFycmF5KCk7CgkJCQkkYm9keSA9IGh0dHBfYnVpbGRfcXVlcnkoJHBhcmFtcyk7CS8vzrTWp7PWbXVsdGkKCQkJCWJyZWFrOwoJCQlkZWZhdWx0OgoJCX0KCQkkcmVzcG9uc2UgPSAkdGhpcy0+aHR0cCgkdXJsLCRib2R5LCAkbWV0aG9kKTsKCQkJCgkJaWYgKGlzc2V0KCRyZXNwb25zZS0+Y3VybEVycikpewoJCQl0aHJvdyBuZXcgRHVvc2h1b19FeGNlcHRpb24oJ0N1cmy07c7zo7onLiRyZXNwb25zZS0+Y3VybEVyciwgRHVvc2h1b19FeGNlcHRpb246OkNBTk5PVF9BQ0NFU1MpOwoJCX0KCgkJJGpzb24gPSBqc29uX2RlY29kZSgkcmVzcG9uc2UsIHRydWUpOwoJCQoJCXJldHVybiAkanNvbiA9PT0gbnVsbCA/ICRyZXNwb25zZSA6ICRqc29uOwoJfQoJCgkvKioKCSAqIAoJICogQHBhcmFtIHN0cmluZyAkdHlwZQoJICogQHBhcmFtIGFycmF5ICRrZXlzCgkgKi8KCWZ1bmN0aW9uIGdldEFjY2Vzc1Rva2VuKCAkdHlwZSwgJGtleXMgKSB7CgkJJHBhcmFtcyA9IGFycmF5KAoJCQknY2xpZW50X2lkJwk9PgkkdGhpcy0+c2hvcnROYW1lLAoJCQknY2xpZW50X3NlY3JldCcgPT4gJHRoaXMtPnNlY3JldCwKCQkpOwoJCQoJCXN3aXRjaCgkdHlwZSl7CgkJY2FzZSAndG9rZW4nOgoJCQkkcGFyYW1zWydncmFudF90eXBlJ10gPSAncmVmcmVzaF90b2tlbic7CgkJCSRwYXJhbXNbJ3JlZnJlc2hfdG9rZW4nXSA9ICRrZXlzWydyZWZyZXNoX3Rva2VuJ107CgkJCWJyZWFrOwoJCWNhc2UgJ2NvZGUnOgoJCQkkcGFyYW1zWydncmFudF90eXBlJ10gPSAnYXV0aG9yaXphdGlvbl9jb2RlJzsKCQkJJHBhcmFtc1snY29kZSddID0gJGtleXNbJ2NvZGUnXTsKCQkJJHBhcmFtc1sncmVkaXJlY3RfdXJpJ10gPSAka2V5c1sncmVkaXJlY3RfdXJpJ107CgkJCWJyZWFrOwoJCWNhc2UgJ3Bhc3N3b3JkJzoKCQkJJHBhcmFtc1snZ3JhbnRfdHlwZSddID0gJ3Bhc3N3b3JkJzsKCQkJJHBhcmFtc1sndXNlcm5hbWUnXSA9ICRrZXlzWyd1c2VybmFtZSddOwoJCQkkcGFyYW1zWydwYXNzd29yZCddID0gJGtleXNbJ3Bhc3N3b3JkJ107CgkJCWJyZWFrOwoJCWRlZmF1bHQ6CgkJCXRocm93IG5ldyBEdW9zaHVvX0V4Y2VwdGlvbigid3JvbmcgYXV0aCB0eXBlIik7CgkJfQoKCQkkYWNjZXNzVG9rZW5VcmwgPSAnaHR0cDovL2FwaS5kdW9zaHVvLmNvbS9vYXV0aDIvYWNjZXNzX3Rva2VuJzsKCQkkcmVzcG9uc2UgPSAkdGhpcy0+aHR0cFJlcXVlc3QoJGFjY2Vzc1Rva2VuVXJsLCAnUE9TVCcsICRwYXJhbXMpOwoJCQoJCSR0b2tlbiA9ICRyZXNwb25zZTsKCQlpZiAoIGlzX2FycmF5KCR0b2tlbikgJiYgIWlzc2V0KCR0b2tlblsnZXJyb3InXSkgKSB7CgkJCSR0aGlzLT5hY2Nlc3NfdG9rZW4gPSAkdG9rZW5bJ2FjY2Vzc190b2tlbiddOwoJCQlpZiAoaXNzZXQoJHRva2VuWydyZWZyZXNoX3Rva2VuJ10pKSAvLwm/ycTcw7vT0HJlZnJlc2hfdG9rZW4KCQkJCSR0aGlzLT5yZWZyZXNoX3Rva2VuID0gJHRva2VuWydyZWZyZXNoX3Rva2VuJ107CgkJfSBlbHNlIHsKCQkJdGhyb3cgbmV3IER1b3NodW9fRXhjZXB0aW9uKCJnZXQgYWNjZXNzIHRva2VuIGZhaWxlZC4iIC4gJHRva2VuWydlcnJvciddKTsKCQl9CgkJCgkJcmV0dXJuICR0b2tlbjsKCX0KCQoJZnVuY3Rpb24gaHR0cCgkdXJsLCAkcG9zdGZpZWxkcywgJG1ldGhvZCA9ICdQT1NUJyl7CgkJJGNpID0gY3VybF9pbml0KCk7CgkJLyogQ3VybCBzZXR0aW5ncyAqLwoJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9IVFRQX1ZFUlNJT04sIENVUkxfSFRUUF9WRVJTSU9OXzFfMCk7CgkJY3VybF9zZXRvcHQoJGNpLCBDVVJMT1BUX1VTRVJBR0VOVCwkdGhpcy0+dXNlckFnZW50KTsKCQljdXJsX3NldG9wdCgkY2ksIENVUkxPUFRfQ09OTkVDVFRJTUVPVVQsICR0aGlzLT5jb25uZWN0dGltZW91dCk7CgkJY3VybF9zZXRvcHQoJGNpLCBDVVJMT1BUX1RJTUVPVVQsICR0aGlzLT50aW1lb3V0KTsKCQljdXJsX3NldG9wdCgkY2ksIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIFRSVUUpOwoJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9FTkNPRElORywgIiIpOwoJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9TU0xfVkVSSUZZUEVFUiwgRkFMU0UpOwoJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9IRUFERVIsIEZBTFNFKTsKCQoJCXN3aXRjaCAoJG1ldGhvZCkgewoJCQljYXNlICdQT1NUJzoKCQkJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9QT1NULCBUUlVFKTsKCQkJCWlmICghZW1wdHkoJHBvc3RmaWVsZHMpKSB7CgkJCQkJY3VybF9zZXRvcHQoJGNpLCBDVVJMT1BUX1BPU1RGSUVMRFMsICRwb3N0ZmllbGRzKTsKCQkJCQkkdGhpcy0+cG9zdGRhdGEgPSAkcG9zdGZpZWxkczsKCQkJCX0KCQkJCWJyZWFrOwoJCQljYXNlICdERUxFVEUnOgoJCQkJY3VybF9zZXRvcHQoJGNpLCBDVVJMT1BUX0NVU1RPTVJFUVVFU1QsICdERUxFVEUnKTsKCQkJCWlmICghZW1wdHkoJHBvc3RmaWVsZHMpKSB7CgkJCQkJJHVybCA9ICJ7JHVybH0/eyRwb3N0ZmllbGRzfSI7CgkJCQl9CgkJfQoJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9VUkwsICR1cmwgKTsKCQoJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTElORk9fSEVBREVSX09VVCwgRkFMU0UgKTsKCQoJCSRyZXNwb25zZSA9IGN1cmxfZXhlYygkY2kpOwoJCQoJCWlmKCRyZXNwb25zZSA9PT0gZmFsc2UpewoJCQkkcmVzcG9uc2UtPmN1cmxFcnIgPSBjdXJsX2Vycm9yKCRjaSk7CgkJfQoJCQoJCXJldHVybiAkcmVzcG9uc2U7Cgl9CgkKCS8qKgoJICogCgkgKiBAcGFyYW0gYXJyYXkgJHVzZXJfZGF0YQoJICovCglmdW5jdGlvbiByZW1vdGVBdXRoKCR1c2VyX2RhdGEpewoJICAgICRtZXNzYWdlID0gYmFzZTY0X2VuY29kZShqc29uX2VuY29kZSgkdXNlcl9kYXRhKSk7CgkgICAgJHRpbWUgPSB0aW1lKCk7CgkgICAgcmV0dXJuICRtZXNzYWdlIC4gJyAnIC4gc2VsZjo6aG1hY3NoYTEoJG1lc3NhZ2UgLiAnICcgLiAkdGltZSwgJHRoaXMtPnNlY3JldCkgLiAnICcgLiAkdGltZTsKCX0KCQoJLy8gZnJvbTogaHR0cDovL3d3dy5waHAubmV0L21hbnVhbC9lbi9mdW5jdGlvbi5zaGExLnBocCMzOTQ5MgoJLy8gQ2FsY3VsYXRlIEhNQUMtU0hBMSBhY2NvcmRpbmcgdG8gUkZDMjEwNAoJLy8gaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMjEwNC50eHQKCXN0YXRpYyBmdW5jdGlvbiBobWFjc2hhMSgkZGF0YSwgJGtleSkgewoJCWlmIChmdW5jdGlvbl9leGlzdHMoJ2hhc2hfaG1hYycpKQoJCQlyZXR1cm4gaGFzaF9obWFjKCdzaGExJywgJGRhdGEsICRrZXkpOwoJCQoJICAgICRibG9ja3NpemU9NjQ7CgkgICAgJGhhc2hmdW5jPSdzaGExJzsKCSAgICBpZiAoc3RybGVuKCRrZXkpPiRibG9ja3NpemUpCgkgICAgICAgICRrZXk9cGFjaygnSConLCAkaGFzaGZ1bmMoJGtleSkpOwoJICAgICRrZXk9c3RyX3BhZCgka2V5LCRibG9ja3NpemUsY2hyKDB4MDApKTsKCSAgICAkaXBhZD1zdHJfcmVwZWF0KGNocigweDM2KSwkYmxvY2tzaXplKTsKCSAgICAkb3BhZD1zdHJfcmVwZWF0KGNocigweDVjKSwkYmxvY2tzaXplKTsKCSAgICAkaG1hYyA9IHBhY2soCgkgICAgICAgICAgICAgICAgJ0gqJywkaGFzaGZ1bmMoCgkgICAgICAgICAgICAgICAgICAgICgka2V5XiRvcGFkKS5wYWNrKAoJICAgICAgICAgICAgICAgICAgICAgICAgJ0gqJywkaGFzaGZ1bmMoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCRrZXleJGlwYWQpLiRkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICApCgkgICAgICAgICAgICAgICAgICAgICkKCSAgICAgICAgICAgICAgICApCgkgICAgICAgICAgICApOwoJICAgIHJldHVybiBiaW4yaGV4KCRobWFjKTsKCX0KfQo=
</file>
<file type='file' name='../plus/duoshuo/Dedecms.php'>
PD9waHAKCmNsYXNzIER1b3NodW9fRGVkZWNtcyBleHRlbmRzIER1b3NodW9fQWJzdHJhY3R7CgkKCWNvbnN0IFZFUlNJT04gPSAnMC4yLjAnOwoJCglwdWJsaWMgc3RhdGljICRjb21tZW50VGFnID0gJ3tkZWRlOmR1b3NodW8vfSc7CgkKCXB1YmxpYyBzdGF0aWMgJGFwcHJvdmVkTWFwID0gYXJyYXkoCgkJJ3BlbmRpbmcnID0+ICcwJywKCQknYXBwcm92ZWQnID0+ICcxJywKCQknZGVsZXRlZCcgPT4gJzInLAoJCSdzcGFtJyA9PiAnMycsCgkJJ3RocmVhZC1kZWxldGVkJz0+JzQnLAoJKTsKCXB1YmxpYyBzdGF0aWMgJGFjdGlvbk1hcCA9IGFycmF5KAoJCSdjcmVhdGUnID0+ICcwJywKCQkndXBkYXRlJyA9PiAnMCcsCgkJJ2FwcHJvdmUnID0+ICcxJywKCQknZGVsZXRlJyA9PiAnMicsCgkJJ3NwYW0nID0+ICczJywKCQknZGVsZXRlLWZvcmV2ZXInID0+ICc0JywKCSk7CgkvKioKCSAqCgkgKiBAdmFyIGFycmF5CgkgKi8KCXB1YmxpYyBzdGF0aWMgJGVycm9yTWVzc2FnZXMgPSBhcnJheSgpOwoJCglwdWJsaWMgc3RhdGljICRFTUJFRCA9IGZhbHNlOwoJCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEluc3RhbmNlKCl7CgkJaWYgKHNlbGY6OiRfaW5zdGFuY2UgPT09IG51bGwpCgkJCXNlbGY6OiRfaW5zdGFuY2UgPSBuZXcgc2VsZigpOwoJCXJldHVybiBzZWxmOjokX2luc3RhbmNlOwoJfQoJCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHRpbWV6b25lKCl7CgkJZ2xvYmFsICRjZmdfY2xpX3RpbWU7CgkJcmV0dXJuICRjZmdfY2xpX3RpbWU7Cgl9CgkKCS8qKgoJICogsaO05rbgy7XJ6NbDCgkgKiBAcGFyYW0gvPwgJGtleQoJICogQHBhcmFtINa1ICR2YWx1ZQoJICogQHBhcmFtILz8w/sgJGluZm8KCSAqIEBwYXJhbSDA4NDNICR0eXBlCgkgKiBAcGFyYW0g1+mx8CAkZ3JvdXBpZAoJICovCglwdWJsaWMgZnVuY3Rpb24gdXBkYXRlT3B0aW9uKCRrZXksICR2YWx1ZSwgJGluZm8gPSBOVUxMLCR0eXBlID0gTlVMTCwkZ3JvdXBpZCA9IE5VTEwpewoJCWdsb2JhbCAkZHNxbDsKCQkkb2xkdmFsdWUgPSAkdGhpcy0+Z2V0T3B0aW9uKCRrZXkpOwoJCWlmKCRvbGR2YWx1ZT09PU5VTEwpewoJCQkkaW5mbyA9IGlzc2V0KCRpbmZvKSA/ICRpbmZvIDogJ7bgy7XJ6NbDz+4nOyAvL8SsyM/WtQoJCQkkdHlwZSA9IGlzc2V0KCR0eXBlKSA/ICR0eXBlIDogJ3N0cmluZyc7CS8vxKzIz9a1CgkJCSRncm91cGlkID0gaXNzZXQoJGdyb3VwaWQpID8gJGdyb3VwaWQgOiA4OwkvL8SsyM/WtQoJCQkKCQkJJHNxbCA9ICJJTlNFUlQgaW50byAjQF9fc3lzY29uZmlnICh2YXJuYW1lLCB2YWx1ZSwgaW5mbywgdHlwZSwgZ3JvdXBpZCkgdmFsdWVzICgnZHVvc2h1b18ka2V5JywnJHZhbHVlJywnJGluZm8nLCckdHlwZScsJGdyb3VwaWQpIjsKCQl9CgkJZWxzZXsKCQkJJHNxbCA9ICJVUERBVEUgI0BfX3N5c2NvbmZpZyBTRVQgIgoJCQkuKCIgdmFsdWUgPSAnJHZhbHVlJyIpCgkJCS4oaXNzZXQoJGluZm8pID8gIixpbmZvID0gJyRpbmZvJywiOiAiIikKCQkJLihpc3NldCgkdHlwZSkgPyAiLHR5cGUgPSAnJHR5cGUnLCI6ICIiKQoJCQkuKGlzc2V0KCRncm91cGlkKSA/ICIsZ3JvdXBpZCA9ICckZ3JvdXBpZCcgIjogIiIpCgkJCS4iIFdIRVJFIHZhcm5hbWUgPSAnZHVvc2h1b18ka2V5JyI7CgkJfQoJCSRvcHRpb24gPSAkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgkc3FsKTsKCQkkdGhpcy0+b3B0aW9uc1ska2V5XSA9ICR2YWx1ZTsKCQlyZXR1cm4gJG9wdGlvbjsKCX0KCQoJcHVibGljIGZ1bmN0aW9uIGdldE9wdGlvbigka2V5KXsKCQlpZihpc3NldCgkdGhpcy0+b3B0aW9uc1ska2V5XSkpewoJCQlyZXR1cm4gJHRoaXMtPm9wdGlvbnNbJGtleV07CgkJfWVsc2V7CgkJCWdsb2JhbCAkZHNxbDsKCQkJJHNxbCA9ICJTRUxFQ1QgdmFsdWUgRlJPTSAjQF9fc3lzY29uZmlnIFdIRVJFIHZhcm5hbWUgPSAnZHVvc2h1b18ka2V5JyI7CgkJCSR2YWx1ZSA9ICRkc3FsLT5HZXRPbmUoJHNxbCk7CgkJCWlmKGlzX2FycmF5KCR2YWx1ZSkpewoJCQkJJHRoaXMtPm9wdGlvbnNbJGtleV0gPSAkdmFsdWVbJ3ZhbHVlJ107CgkJCQlyZXR1cm4gJHZhbHVlWyd2YWx1ZSddOwoJCQl9CgkJCWVsc2V7CgkJCQlyZXR1cm4gTlVMTDsKCQkJfQoJCX0KCX0KCQoJcHVibGljIGZ1bmN0aW9uIGNoZWNrRGVmYXVsdFNldHRpbmdzKCl7CgkJJGR1b3NodW9EZWZhdWx0U2V0dGluZ3MgPSBhcnJheSgKCQkJJ3Nob3J0X25hbWUnCT0+CWFycmF5KAoJCQkJJ3ZhbHVlJyA9PgknJywKCQkJCSdpbmZvJwk9PgkntuDLtbb+vLbT8sP7JywKCQkJCSd0eXBlJwk9Pgknc3RyaW5nJywKCQkJKSwKCQkJJ3NlY3JldCcJPT4JYXJyYXkoCgkJCQkndmFsdWUnID0+CScnLAoJCQkJJ2luZm8nCT0+CSe24Mu11b6148Pc1L8nLAoJCQkJJ3R5cGUnCT0+CSdzdHJpbmcnLAoJCQkpLAoJCQknc3luY19sb2NrJwkJPT4JYXJyYXkoCgkJCQkndmFsdWUnCT0+CTAsCgkJCQknaW5mbycJPT4JJ7bgy7XV/dTazayyvcqxvOQoMLHtyr7NrLK91f2zo83qs8kpJywKCQkJCSd0eXBlJwk9PgknaW50JywKCQkJKSwKCQkJJ2xhc3Rfc3luYycJPT4JYXJyYXkoCgkJCQkndmFsdWUnCT0+CTAsCgkJCQknaW5mbycJPT4JJ9LRzeqzybXE1+66882ssr28x8K8aWQnLAoJCQkJJ3R5cGUnCT0+CSdpbnQnLAoJCQkpLAoJCQknc2VvX2VuYWJsZWQnCT0+CWFycmF5KAoJCQkJJ3ZhbHVlJwk9PgkxLAoJCQkJJ2luZm8nCT0+CSe/qsb0U0VP08W7rycsCgkJCQkndHlwZScJPT4JJ2ludCcsCgkJCSksCgkJKTsKCQkKCQkvL3N5bmNfdG9fbG9jYWwKCQkKCQlmb3JlYWNoICgkZHVvc2h1b0RlZmF1bHRTZXR0aW5ncyBhcyAka2V5ID0+ICRkZWZhdWx0U2V0dGluZyl7CgkJCSRzZXR0aW5nID0gJHRoaXMtPmdldE9wdGlvbigka2V5KTsKCQkJaWYoIWlzc2V0KCRzZXR0aW5nKSB8fCAkc2V0dGluZyA9PT0gTlVMTCl7CgkJCQkkdGhpcy0+dXBkYXRlT3B0aW9uKCRrZXksICRkZWZhdWx0U2V0dGluZ1sndmFsdWUnXSwKCQkJCSRkZWZhdWx0U2V0dGluZ1snaW5mbyddLCAkZGVmYXVsdFNldHRpbmdbJ3R5cGUnXSk7CgkJCX0KCQl9Cgl9CgkKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY3VycmVudFVybCgpewoJCSRzeXNfcHJvdG9jYWwgPSBpc3NldCgkX1NFUlZFUlsnU0VSVkVSX1BPUlQnXSkgJiYgJF9TRVJWRVJbJ1NFUlZFUl9QT1JUJ10gPT0gJzQ0MycgPyAnaHR0cHM6Ly8nIDogJ2h0dHA6Ly8nOwoJCSRwaHBfc2VsZgkgPSAkX1NFUlZFUlsnUEhQX1NFTEYnXSA/ICRfU0VSVkVSWydQSFBfU0VMRiddIDogJF9TRVJWRVJbJ1NDUklQVF9OQU1FJ107CgkJJHBhdGhfaW5mbwk9IGlzc2V0KCRfU0VSVkVSWydQQVRIX0lORk8nXSkgPyAkX1NFUlZFUlsnUEFUSF9JTkZPJ10gOiAnJzsKCQkkcmVsYXRlX3VybCAgID0gaXNzZXQoJF9TRVJWRVJbJ1JFUVVFU1RfVVJJJ10pID8gJF9TRVJWRVJbJ1JFUVVFU1RfVVJJJ10gOiAkcGhwX3NlbGYgLiAoaXNzZXQoJF9TRVJWRVJbJ1FVRVJZX1NUUklORyddKSA/ICc/JyAuICRfU0VSVkVSWydRVUVSWV9TVFJJTkcnXSA6ICRwYXRoX2luZm8pOwoJCXJldHVybiAkc3lzX3Byb3RvY2FsIC4gKGlzc2V0KCRfU0VSVkVSWydIVFRQX0hPU1QnXSkgPyAkX1NFUlZFUlsnSFRUUF9IT1NUJ10gOiAnJykgLiAkcmVsYXRlX3VybDsKCX0KCQoJLyoqCgkgKiAgtPKw/NGhz+7Qxc+iCgkgKiAgwP3I56O6cGFnZWNrYWdlT3B0aW9ucygpOwoJICoKCSAqIEBhY2Nlc3MJcHVibGljCgkgKiBAcmV0dXJuCWFycmF5CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBwYWNrYWdlT3B0aW9ucygpCgl7CgkJZ2xvYmFsICRjZmdfd2VibmFtZSwkY2ZnX2Rlc2NyaXB0aW9uLCRjZmdfYmFzZWhvc3QsJGNmZ19pbmRleHVybCwkY2ZnX2FkbWluZW1haWwsJGN1cl91cmwsJGNmZ19jbGlfdGltZTsKCQkkcGFyYW1zID0gYXJyYXkoCgkJCSduYW1lJwkJCT0+CWljb252KCJHQksiLCJVVEYtOCIsJGNmZ193ZWJuYW1lKSwKCQkJJ3Nob3J0X25hbWUnCT0+CSR0aGlzLT5vcHRpb25zWydzaG9ydF9uYW1lJ10sCgkJCSdzeXN0ZW0nCQk9PgknZGVkZWNtcycsCgkJCSdjYWxsYmFjaycJCT0+CXNlbGY6OmN1cnJlbnRVcmwoKSwKCQkJJ2xvY2FsX2FwaV91cmwnID0+ICRjZmdfYmFzZWhvc3QuJy9wbHVzL2R1b3NodW8vYXBpLnBocCcsCgkJCSdwbHVnaW5fdmVyc2lvbicgPT4gc2VsZjo6VkVSU0lPTiwKCQkJJ3VybCcJCQk9PgkkY2ZnX2Jhc2Vob3N0LiRjZmdfaW5kZXh1cmwsCgkJCSdzaXRldXJsJwkJPT4JJGNmZ19iYXNlaG9zdCwKCQkJJ2FkbWluX2VtYWlsJwk9PgkkY2ZnX2FkbWluZW1haWwsCgkJCSd0aW1lem9uZScJCT0+CSdVVEMnIC4gKCRjZmdfY2xpX3RpbWU+PTAgPyAnKycgOiAnJykgLiAkY2ZnX2NsaV90aW1lLAoJCQknc3luY19sb2cnCQk9PgknMScsCgkJKTsKCQlyZXR1cm4gJHBhcmFtczsKCX0KCQoJc3RhdGljIGZ1bmN0aW9uIHNlbmRFeGNlcHRpb24oJGUpewoJCSRyZXNwb25zZSA9IGFycmF5KAoJCQknY29kZScJPT4JJGUtPmdldENvZGUoKSwKCQkJJ2Vycm9yTWVzc2FnZSc9PiRlLT5nZXRNZXNzYWdlKCksCgkJKTsKCQllY2hvIGpzb25fZW5jb2RlKCRyZXNwb25zZSk7CgkJZXhpdDsKCX0KCQoJcHVibGljIGZ1bmN0aW9uIGNyZWF0ZVBvc3QoJG1ldGEpewoJCWdsb2JhbCAkZHNxbDsKCQkvL7Lp1dLNrLK9vMfCvAoJCSRwb3N0SWQgPSAkbWV0YVsncG9zdF9pZCddOwoJCSRzcWwgPSAiU0VMRUNUICogRlJPTSBkdW9zaHVvX2NvbW1lbnRtZXRhIFdIRVJFIHBvc3RfaWQgPSAkcG9zdElkIjsKCQkkc3luY2VkID0gJGRzcWwtPkdldE9uZSgkc3FsKTsKCQlpZihpc19hcnJheSgkc3luY2VkKSl7Ly9jcmVhdGWy2df3tcTGwMLbo6zDu82ssr25/bLFtKbA7QoJCQlyZXR1cm4gYXJyYXkoKTsKCQl9CgkJaWYoIWVtcHR5KCRtZXRhWyd0aHJlYWRfa2V5J10pKXsKCQkJJGFpZCA9ICRtZXRhWyd0aHJlYWRfa2V5J107CgkJCSRzcWwgPSAiU0VMRUNUIHRpdGxlIEZST00gI0BfX2FyY2hpdmVzIFdIRVJFIGlkID0gJGFpZCI7CgkJCSR0aHJlYWQgPSAkZHNxbC0+R2V0T25lKCRzcWwpOwoJCQlpZihpc19hcnJheSgkdGhyZWFkKSl7CgkJCQkvL9ei0uK3wNa5c3Fs16LI6yB0aXRsZSxhdXRob3JfbmFtZSxtZXNzYWdlCgkJCQkkdGl0bGUgPSBhZGRzbGFzaGVzKCR0aHJlYWRbJ3RpdGxlJ10pOwoJCQkJJHRocmVhZEtleSA9ICRtZXRhWyd0aHJlYWRfa2V5J107CgkJCQkkYXV0aG9yX25hbWUgPSBhZGRzbGFzaGVzKGljb252KCJVVEYtOCIsIkdCSyIsdHJpbShzdHJpcF90YWdzKCRtZXRhWydhdXRob3JfbmFtZSddKSkpKTsKCQkJCSRpcCA9ICRtZXRhWydpcCddOwoJCQkJJGlzY2hlY2sgPSBzZWxmOjokYXBwcm92ZWRNYXBbJG1ldGFbJ3N0YXR1cyddXTsKCQkJCSRkdGltZSA9IHN0cnRvdGltZSgkbWV0YVsnY3JlYXRlZF9hdCddKTsKCQkJCSRtZXNzYWdlID0gYWRkc2xhc2hlcyhpY29udigiVVRGLTgiLCJHQksiLHN0cmlwX3RhZ3MoJG1ldGFbJ21lc3NhZ2UnXSkpKTsKCQkJCSRzcWwgPSAiSU5TRVJUIElOVE8gI0BfX2ZlZWRiYWNrIChhaWQsdHlwZWlkLHVzZXJuYW1lLGFyY3RpdGxlLGlwLGlzY2hlY2ssZHRpbWUsbWlkLGJhZCxnb29kLGZ0eXBlLGZhY2UsbXNnKSBWQUxVRVMgKCIKCQkJCS4iJHRocmVhZEtleSwxLCckYXV0aG9yX25hbWUnLCckdGl0bGUnLCckaXAnLCRpc2NoZWNrLCckZHRpbWUnLDEsMCwwLCdmZWVkYmFjaycsMSwnJG1lc3NhZ2UnKSI7CgkJCQkkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgkc3FsKTsKCQkJCSRsYXN0X2lkID0gJGRzcWwtPkdldExhc3RJRCgpOwoJCQkJJHNxbCA9ICJJTlNFUlQgSU5UTyBkdW9zaHVvX2NvbW1lbnRtZXRhIChwb3N0X2lkLGNpZCkgVkFMVUVTICgkcG9zdElkLCRsYXN0X2lkKSI7CgkJCQkkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgkc3FsKTsKCQkJCXJldHVybiBhcnJheSgkYWlkKTsKCQkJfS8vw7vT0M7E1cLWsb3TwtTIpcbAwtsKCQl9CgkJcmV0dXJuIG51bGw7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBtb2RlcmF0ZVBvc3QoJGFjdGlvbiwgJHBvc3RJZEFycmF5KXsKCQlnbG9iYWwgJGRzcWw7CgkJJGFpZExpc3QgPSBhcnJheSgpOwoJCWZvcmVhY2goJHBvc3RJZEFycmF5IGFzICRwb3N0SWQpewoJCQkkc3FsID0gIlNFTEVDVCAqIEZST00gZHVvc2h1b19jb21tZW50bWV0YSBXSEVSRSBwb3N0X2lkID0gJHBvc3RJZCI7CgkJCSRzeW5jZWQgPSAkZHNxbC0+R2V0T25lKCRzcWwpOwoJCQlpZighaXNfYXJyYXkoJHN5bmNlZCkpey8vt8djcmVhdGWy2df3tcTGwMLbo6zNrLK9uf2yxbSmwO0KCQkJCWNvbnRpbnVlOwoJCQl9CgkJCSRjaWQgPSAkc3luY2VkWydjaWQnXTsKCQkJJHNxbCA9ICJTRUxFQ1QgKiBGUk9NICNAX19mZWVkYmFjayBXSEVSRSBpZCA9ICRjaWQiOwoJCQkkY29tbWVudCA9ICRkc3FsLT5HZXRPbmUoJHNxbCk7CgkJCWlmKCFpc19hcnJheSgkY29tbWVudCkpewoJCQkJY29udGludWU7CgkJCX0KCQkJJGlzY2hlY2sgPSBzZWxmOjokYWN0aW9uTWFwWyRhY3Rpb25dOwoJCQkkc3FsID0gIlVQREFURSAjQF9fZmVlZGJhY2sgU0VUIGlzY2hlY2sgPSAkaXNjaGVjayBXSEVSRSBpZCA9ICRjaWQiOwoJCQkkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgkc3FsKTsKCQkJJGFpZExpc3RbXSA9ICRjb21tZW50WydhaWQnXTsKCQl9CgkJcmV0dXJuICRhaWRMaXN0OwoJfQoJCglwdWJsaWMgZnVuY3Rpb24gZGVsZXRlRm9yZXZlclBvc3QoJHBvc3RJZEFycmF5KXsKCQlnbG9iYWwgJGRzcWw7CgkJJGFpZExpc3QgPSBhcnJheSgpOwoJCWZvcmVhY2goJHBvc3RJZEFycmF5IGFzICRwb3N0SWQpewoJCQkkc3FsID0gIlNFTEVDVCAqIEZST00gZHVvc2h1b19jb21tZW50bWV0YSBXSEVSRSBwb3N0X2lkID0gIi4kcG9zdElkOwoJCQkkc3luY2VkID0gJGRzcWwtPkdldE9uZSgkc3FsKTsKCQkJaWYoIWlzX2FycmF5KCRzeW5jZWQpKXsvL7fHY3JlYXRlstnX97XExsDC26Oszayyvbn9ssW0psDtCgkJCQljb250aW51ZTsKCQkJfQoJCQkkY2lkID0gJHN5bmNlZFsnY2lkJ107CgkJCSRzcWwgPSAiU0VMRUNUICogRlJPTSAjQF9fZmVlZGJhY2sgV0hFUkUgaWQgPSAkY2lkIjsKCQkJJGNvbW1lbnQgPSAkZHNxbC0+R2V0T25lKCRzcWwpOwoJCQlpZighaXNfYXJyYXkoJGNvbW1lbnQpKXsKCQkJCWNvbnRpbnVlOwoJCQl9CgkJCSRzcWwgPSAiREVMRVRFIEZST00gI0BfX2ZlZWRiYWNrIFdIRVJFIGlkID0gJGNpZCI7CgkJCSRkc3FsLT5FeGVjdXRlTm9uZVF1ZXJ5KCRzcWwpOwoJCQkkYWlkTGlzdFtdID0gJGNvbW1lbnRbJ2FpZCddOwoJCX0KCQlyZXR1cm4gJGFpZExpc3Q7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiByZWZyZXNoVGhyZWFkcygkYWlkTGlzdCl7CgkJZm9yZWFjaCgkYWlkTGlzdCBhcyAkYWlkKXsKCQkJJGFyYyA9IG5ldyBBcmNoaXZlcygkYWlkKTsKCQkJJGFyYy0+TWFrZUh0bWwoKTsKCQl9Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiB1c2VyRGF0YSgkdXNlcklkKXsJLy8gbnVsbCC0+rHttbHHsLXHwrzTw7uno6wwtPqx7dPOv80KCQlpZiAoJHVzZXJJZCA9PT0gbnVsbCkKCQkJJGN1cnJlbnRfdXNlciA9IHdwX2dldF9jdXJyZW50X3VzZXIoKTsKCQllbHNlaWYoJHVzZXJJZCAhPSAwKQoJCQkkY3VycmVudF91c2VyID0gZ2V0X3VzZXJfYnkoICdpZCcsICR1c2VySWQpOwoJCQoJCWlmIChpc3NldCgkY3VycmVudF91c2VyKSAmJiAkY3VycmVudF91c2VyLT5JRCkgewoJCQkkYXZhdGFyX3RhZyA9IGdldF9hdmF0YXIoJGN1cnJlbnRfdXNlci0+SUQpOwoJCQkkYXZhdGFyX2RhdGEgPSBhcnJheSgpOwoJCQlwcmVnX21hdGNoKCcvKHNyYyk9KChcJ3wiKVteKFwnfCIpXSooXCd8IikpL2knLCAkYXZhdGFyX3RhZywgJGF2YXRhcl9kYXRhKTsKCQkJJGF2YXRhciA9IHN0cl9yZXBsYWNlKGFycmF5KCciJywgIiciKSwgJycsICRhdmF0YXJfZGF0YVsyXSk7CgkJCQoJCQlyZXR1cm4gYXJyYXkoCgkJCQknaWQnID0+ICRjdXJyZW50X3VzZXItPklELAoJCQkJJ25hbWUnID0+ICRjdXJyZW50X3VzZXItPmRpc3BsYXlfbmFtZSwKCQkJCSdhdmF0YXInID0+ICRhdmF0YXIsCgkJCQknZW1haWwnID0+ICRjdXJyZW50X3VzZXItPnVzZXJfZW1haWwsCgkJCSk7CgkJfQoJCWVsc2V7CgkJCXJldHVybiBhcnJheSgpOwoJCX0KCX0KfQ==
</file>
<file type='file' name='../plus/duoshuo/Exception.php'>
PD9waHAKLyoqCiAqILbgy7Wy5bz+IMDgtqjS5QogKgogKiBAdmVyc2lvbgkJJElkOiBkdW9zaHVvLnBocCAwIDEwOjE3IDIwMTItNC0yNyAKICogQGF1dGhvciAJCWFsbGVuIAogKiBAY29weXJpZ2h0CUNvcHlyaWdodCAoYykgMjAxMiAtICwgRHVvc2h1bywgSW5jLgogKiBAbGluawkJaHR0cDovL2Rldi5kdW9zaHVvLmNvbQogKi8KY2xhc3MgRHVvc2h1b19FeGNlcHRpb24gZXh0ZW5kcyBFeGNlcHRpb257Cgljb25zdCBTVUNDRVNTCQk9IDA7Cgljb25zdCBFTkRQT0lOVF9OT1RfVkFMSUQgPSAxOwoJY29uc3QgTUlTU0lOR19PUl9JTlZBTElEX0FSR1VNRU5UID0gMjsKCWNvbnN0IEVORFBPSU5UX1JFU09VUkNFX05PVF9WQUxJRCA9IDM7Cgljb25zdCBOT19BVVRIRU5USUNBVEVEID0gNDsKCWNvbnN0IElOVkFMSURfQVBJX0tFWSA9IDU7Cgljb25zdCBJTlZBTElEX0FQSV9WRVJTSU9OID0gNjsKCWNvbnN0IENBTk5PVF9BQ0NFU1MgPSA3OwoJY29uc3QgT0JKRUNUX05PVF9GT1VORCA9IDg7Cgljb25zdCBBUElfTk9fUFJJVklMRUdFID0gOTsKCWNvbnN0IE9QRVJBVElPTl9OT1RfU1VQUE9SVEVEID0gMTA7Cgljb25zdCBBUElfS0VZX0lOVkFMSUQgPSAxMTsKCWNvbnN0IE5PX1BSSVZJTEVHRSA9IDEyOwoJY29uc3QgUkVTT1VSQ0VfUkFURV9MSU1JVF9FWENFRURFRCA9IDEzOwoJY29uc3QgQUNDT1VOVF9SQVRFX0xJTUlUX0VYQ0VFREVEID0gMTQ7Cgljb25zdCBJTlRFUk5BTF9TRVJWRVJfRVJST1IgPSAxNTsKCWNvbnN0IFJFUVVFU1RfVElNRURfT1VUID0gMTY7Cgljb25zdCBOT19BQ0NFU1NfVE9fVEhJU19GRUFUVVJFID0gMTc7Cgljb25zdCBJTlZBTElEX1NJR05BVFVSRSA9IDE4OwoKCWNvbnN0IFVTRVJfREVOSUVEX1lPVVJfUkVRVUVTVCA9IDIxOwoJY29uc3QgRVhQSVJFRF9UT0tFTiA9IDIyOwoJY29uc3QgUkVESVJFQ1RfVVJJX01JU01BVENIID0gMjM7Cgljb25zdCBEVVBMSUNBVEVfQ09OTkVDVEVEX0FDQ09VTlQgPSAyNDsKCgljb25zdCBQTFVHSU5fREVBQ1RJVkFURUQgPSAzMDsKfQo=
</file>
<file type='file' name='../plus/duoshuo/LocalServer.php'>
PD9waHAKY2xhc3MgRHVvc2h1b19Mb2NhbFNlcnZlcnsKCQoJcHJvdGVjdGVkICRyZXNwb25zZSA9IGFycmF5KCk7CgkKCXByb3RlY3RlZCAkcGx1Z2luOwoJCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHBsdWdpbil7CgkJJHRoaXMtPnBsdWdpbiA9ICRwbHVnaW47Cgl9CgkKCS8qKgoJICogtNO3/s7xxvdwdWxsxsDC27W9sb612AoJICogCgkgKiBAcGFyYW0gYXJyYXkgJGlucHV0CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzeW5jX2xvZygkaW5wdXQgPSBhcnJheSgpKXsKCQkkc3luY0xvY2sgPSAkdGhpcy0+cGx1Z2luLT5nZXRPcHRpb24oJ3N5bmNfbG9jaycpOy8vvOyy6crHt/HV/dTazayyvcbAwtsgzayyvc3qs8m687jD1rW74dbDMAoJCWlmKCFpc3NldCgkc3luY0xvY2spIHx8ICRzeW5jTG9jayA+IHRpbWUoKS0gOTAwKXsvL9X91Nq78jE1t9bW08Tat6LJ+rn90LS72LWrw7vWwzAKCQkJJHJlc3BvbnNlID0gYXJyYXkoCgkJCQkJJ2NvZGUnCT0+CUR1b3NodW9fRXhjZXB0aW9uOjpTVUNDRVNTLAoJCQkJCSdyZXNwb25zZSc9PiAnzayyvdbQo6zH68nUuvInLAoJCQkpOwoJCQlyZXR1cm47CgkJfQoJCQoJCSR0aGlzLT5wbHVnaW4tPnVwZGF0ZU9wdGlvbignc3luY19sb2NrJywgIHRpbWUoKSk7CgkJCgkJJGxhc3Rfc3luYyA9ICR0aGlzLT5wbHVnaW4tPmdldE9wdGlvbignbGFzdF9zeW5jJyk7CgkJCgkJJGxpbWl0ID0gNTA7CgkJCgkJJHBhcmFtcyA9IGFycmF5KAoJCQknc2luY2VfaWQnID0+ICRsYXN0X3N5bmMsCgkJCSdsaW1pdCcgPT4gJGxpbWl0LAoJCQknb3JkZXInID0+ICdhc2MnLAoJCSk7CgkJCgkJJGNsaWVudCA9ICR0aGlzLT5wbHVnaW4tPmdldENsaWVudCgpOwoJCQoJCSRwb3N0cyA9IGFycmF5KCk7CgkJJGFmZmVjdGVkVGhyZWFkcyA9IGFycmF5KCk7CgkJJG1heF9zeW5jX2lkID0gMDsKCQkKCQlkb3sKCQkJJHJlc3BvbnNlID0gJGNsaWVudC0+Z2V0TG9nTGlzdCgkcGFyYW1zKTsKCQkKCQkJJGNvdW50ID0gY291bnQoJHJlc3BvbnNlWydyZXNwb25zZSddKTsKCQkJCgkJCWZvcmVhY2goJHJlc3BvbnNlWydyZXNwb25zZSddIGFzICRsb2cpewoJCQkJc3dpdGNoKCRsb2dbJ2FjdGlvbiddKXsKCQkJCQljYXNlICdjcmVhdGUnOgoJCQkJCQkkYWZmZWN0ZWQgPSAkdGhpcy0+cGx1Z2luLT5jcmVhdGVQb3N0KCRsb2dbJ21ldGEnXSk7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgJ2FwcHJvdmUnOgoJCQkJCWNhc2UgJ3NwYW0nOgoJCQkJCWNhc2UgJ2RlbGV0ZSc6CgkJCQkJCSRhZmZlY3RlZCA9ICR0aGlzLT5wbHVnaW4tPm1vZGVyYXRlUG9zdCgkbG9nWydhY3Rpb24nXSwgJGxvZ1snbWV0YSddKTsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAnZGVsZXRlLWZvcmV2ZXInOgoJCQkJCQkkYWZmZWN0ZWQgPSAkdGhpcy0+cGx1Z2luLT5kZWxldGVGb3JldmVyUG9zdCgkbG9nWydtZXRhJ10pOwoJCQkJCQlicmVhazsKCQkJCQljYXNlICd1cGRhdGUnOi8vz9bU2rKiw7vT0HVwZGF0ZbLZ1/e1xMLfvK0KCQkJCQlkZWZhdWx0OgoJCQkJCQkkYWZmZWN0ZWQgPSBhcnJheSgpOwoJCQkJfQoJCQkJLy+6z7KiCgkJCQkKCQkJCSRhZmZlY3RlZFRocmVhZHMgPSBhcnJheV9tZXJnZSgkYWZmZWN0ZWRUaHJlYWRzLCAkYWZmZWN0ZWQpOwoJCQkKCQkJCWlmICgkbG9nWydsb2dfaWQnXSA+ICRtYXhfc3luY19pZCkKCQkJCQkkbWF4X3N5bmNfaWQgPSAkbG9nWydsb2dfaWQnXTsKCQkJfQoJCQkKCQkJJHBhcmFtc1snc2luY2VfaWQnXSA9ICRtYXhfc3luY19pZDsKCQkJCQoJCX0gd2hpbGUgKCRjb3VudCA9PSAkbGltaXQpOy8vyOe5+7e1u9i6zdfutPPH68fzzPXK/dK71sKjrNTy1NnIodK7tM4KCQkKCQkvL86o0ru7rwoJCSRhaWRMaXN0ID0gYXJyYXlfdW5pcXVlKCRhZmZlY3RlZFRocmVhZHMpOwoJCQkJCgkJaWYgKCRtYXhfc3luY19pZCA+ICRsYXN0X3N5bmMpCgkJCSR0aGlzLT5wbHVnaW4tPnVwZGF0ZU9wdGlvbignbGFzdF9zeW5jJywgJG1heF9zeW5jX2lkKTsKCQkKCQkkdGhpcy0+cGx1Z2luLT51cGRhdGVPcHRpb24oJ3N5bmNfbG9jaycsICAwKTsKCQkKCQkvL7j80MK+ssyszsS8/goJCWlmICgkdGhpcy0+cGx1Z2luLT5nZXRPcHRpb24oJ3Nlb19lbmFibGVkJykpCgkJCSR0aGlzLT5wbHVnaW4tPnJlZnJlc2hUaHJlYWRzKCRhaWRMaXN0KTsKCQkKCQkkdGhpcy0+cGx1Z2luLT51cGRhdGVPcHRpb24oJ3N5bmNfbG9jaycsIDEpOwoJCQoJCQoJCS8vJHRoaXMtPnJlc3BvbnNlWydyZXNwb25zZSddCgkJJHRoaXMtPnJlc3BvbnNlWydjb2RlJ10gPSBEdW9zaHVvX0V4Y2VwdGlvbjo6U1VDQ0VTUzsKCX0KCQoJcHVibGljIGZ1bmN0aW9uIHVwZGF0ZV9vcHRpb24oJGlucHV0ID0gYXJyYXkoKSl7CgkJLy9kdW9zaHVvX3Nob3J0X25hbWUKCQkvL2R1b3NodW9fc2VjcmV0CgkJLy9kdW9zaHVvX25vdGljZQoJCWZvcmVhY2goJGlucHV0IGFzICRvcHRpb25OYW1lID0+ICRvcHRpb25WYWx1ZSkKCQkJaWYgKHN1YnN0cigkb3B0aW9uTmFtZSwgMCwgOCkgPT09ICdkdW9zaHVvXycpewoJCQkJJHRoaXMtPnBsdWdpbi0+dXBkYXRlT3B0aW9uKHN1YnN0cigkb3B0aW9uTmFtZSwgOCksICRvcHRpb25WYWx1ZSk7CgkJCX0KCQkkdGhpcy0+cmVzcG9uc2VbJ2NvZGUnXSA9IDA7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBzZW5kUmVzcG9uc2UoKXsKCQllY2hvIGpzb25fZW5jb2RlKCR0aGlzLT5yZXNwb25zZSk7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBkaXNwYXRjaCgkaW5wdXQpewoJCWlmICghaXNzZXQoJGlucHV0WydzaWduYXR1cmUnXSkpCgkJCXRocm93IG5ldyBEdW9zaHVvX0V4Y2VwdGlvbignSW52YWxpZCBzaWduYXR1cmUuJywgRHVvc2h1b19FeGNlcHRpb246OklOVkFMSURfU0lHTkFUVVJFKTsKCQkKCQkkc2lnbmF0dXJlID0gJGlucHV0WydzaWduYXR1cmUnXTsKCQl1bnNldCgkaW5wdXRbJ3NpZ25hdHVyZSddKTsKCQkKCQlrc29ydCgkaW5wdXQpOwoJCSRiYXNlU3RyaW5nID0gaHR0cF9idWlsZF9xdWVyeSgkaW5wdXQsIG51bGwsICcmJyk7CgkJCgkJJGV4cGVjdFNpZ25hdHVyZSA9IGJhc2U2NF9lbmNvZGUoaGFzaF9obWFjKCdzaGExJywgJGJhc2VTdHJpbmcsICR0aGlzLT5wbHVnaW4tPmdldE9wdGlvbignc2VjcmV0JyksIHRydWUpKTsKCQlpZiAoJHNpZ25hdHVyZSAhPT0gJGV4cGVjdFNpZ25hdHVyZSkKCQkJdGhyb3cgbmV3IER1b3NodW9fRXhjZXB0aW9uKCdJbnZhbGlkIHNpZ25hdHVyZSwgZXhwZWN0OiAnIC4gJGV4cGVjdFNpZ25hdHVyZSAuICcuICgnIC4gJGJhc2VTdHJpbmcgLiAnKScsIER1b3NodW9fRXhjZXB0aW9uOjpJTlZBTElEX1NJR05BVFVSRSk7CgkJCgkJJG1ldGhvZCA9ICRpbnB1dFsnYWN0aW9uJ107CgkJCgkJaWYgKCFtZXRob2RfZXhpc3RzKCR0aGlzLCAkbWV0aG9kKSkKCQkJdGhyb3cgbmV3IER1b3NodW9fRXhjZXB0aW9uKCdVbmtub3duIGFjdGlvbi4nLCBEdW9zaHVvX0V4Y2VwdGlvbjo6T1BFUkFUSU9OX05PVF9TVVBQT1JURUQpOwoJCQoJCSR0aGlzLT4kbWV0aG9kKCRpbnB1dCk7CgkJJHRoaXMtPnNlbmRSZXNwb25zZSgpOwoJfQoJCglzdGF0aWMgZnVuY3Rpb24gc2VuZEV4Y2VwdGlvbigkZSl7CgkJJHJlc3BvbnNlID0gYXJyYXkoCgkJCSdjb2RlJwk9PgkkZS0+Z2V0Q29kZSgpLAoJCQknZXJyb3JNZXNzYWdlJz0+JGUtPmdldE1lc3NhZ2UoKSwKCQkpOwoJCWVjaG8ganNvbl9lbmNvZGUoJHJlc3BvbnNlKTsKCX0KfQo=
</file>
</modulefiles>
</module>
