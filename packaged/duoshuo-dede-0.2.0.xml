<module>
<baseinfo>
name=多说评论
team=多说网
time=2012-07-22
email=webmaster@duoshuo.com
url=http://www.duoshuo.com
hash=b4dbf2eff2125847671e5f2663dbb005
indexname=
indexurl=
ismember=0
autosetup=1
autodel=1
lang=utf-8
moduletype=soft
</baseinfo>
<systemfile>
<menustring>
PG06dG9wIG5hbWU9J+WkmuivtCcgYz0nMSwnIGRpc3BsYXk9J2Jsb2NrJyByYW5rPScwJz4NCjxtOml0ZW0gbmFtZT0n6K+E6K66566h55CGJyBsaW5rPSdkdW9zaHVvLnBocD9hY3Rpb249bWFuYWdlQ29tbWVudHMnIHJhbms9JycgdGFyZ2V0PSdtYWluJyAvPg0KPG06aXRlbSBuYW1lPSfmnKzlnLDorr7nva4nIGxpbms9J2R1b3NodW8ucGhwP2FjdGlvbj1sb2NhbENvbmZpZycgcmFuaz0nJyB0YXJnZXQ9J21haW4nIC8+DQo8bTppdGVtIG5hbWU9J+W4ruWKqeaWh+ahoycgbGluaz0nZHVvc2h1by5waHA/YWN0aW9uPWhlbHBEb2N1bWVudCcgcmFuaz0nJyB0YXJnZXQ9J21haW4nIC8+DQo8L206dG9wPg==
</menustring>
<readme>
PHA+6L+95rGC5pyA5L2z55So5oi35L2T6aqM55qE56S+5Lya5YyW6K+E6K665qGG77yM5Li65Lit5bCP572R56uZ5o+Q5L6b5paw5rWq5b6u5Y2a44CBUVHjgIHkurrkurrjgIHlvIDlv4PnvZHjgIHosYbnk6PjgIHnvZHmmJPlvq7ljZrjgIHmkJzni5Dlvq7ljZrjgIHnmb7luqbnrYnlpJrluJDlj7fnmbvlvZXlubbor4Torrrlip/og73jgILigJzlpJror7TigJ3luK7kvaDmkK3lu7rmm7TmtLvot4PvvIzkupLliqjmgKfmm7TlvLrnmoTor4TorrrlubPlj7DjgILlroPov5jmnInkvJflpJrlrp7nlKjnibnmgKfvvIzlip/og73lvLrlpKfkuJTmsLjkuYXlhY3otLnjgIINCjwvcD4NCjxwPg0KPHN0cm9uZz49ICDnibnoibIgPTwvc3Ryb25nPg0KPHVsPg0KCTxsaT4gPHN0cm9uZz4g5aSa6LSm5Y+355m75b2V77yaPC9zdHJvbmc+5Y+v55So5paw5rWq5b6u5Y2a44CBUVHjgIHkurrkurrjgIHlvIDlv4PjgIHosYbnk6PjgIHnvZHmmJPlvq7ljZrjgIHmkJzni5Dlvq7ljZrjgIHnmb7luqbotKblj7fnmbvlvZXlj5Hooajor4TorrrvvIzkuI3lv4XovpPlhaXpgq7nrrHvvJvnnJ/lrp7ouqvku73nmbvlvZXorqnor4TorrrogIXlvaLosaHmm7TpspzmtLvvvIzmj5Dpq5jor4TorrrotKjph488L2xpPg0KCTxsaT48c3Ryb25nPiDovbvmnb7lronoo4XvvJo8L3N0cm9uZz7lronoo4VEZWRlQ01T5o+S5Lu25oiW5o+S5YWl5LiA5q615Luj56CB77yM5a6J6KOF5LuO5pyq5aaC5q2k566A5Y2VPC9saT4NCgk8bGk+PHN0cm9uZz4g5LyY6LSo55qE6YCf5bqm5ZKM56iz5a6a5oCn77yaPC9zdHJvbmc+5L+d6K+BMzAw5q+r56eS5oiW5pu055+t5Yqg6L295pe26Ze077yMOTkuOSXmraPluLjmnI3liqHml7bpl7Q8L2xpPg0KCTxsaT48c3Ryb25nPiDliIbkuqvor4TorrrmiJbmlofnq6DvvJo8L3N0cm9uZz7or4TorrrnmoTlkIzml7blsIbmlofnq6DliIbkuqvliLDlkITlpKfnpL7kuqTnvZHnq5nvvIzorqnor4TorrrogIXnmoTlpb3lj4vkuZ/mnaXlj4LkuI7or4TorrrvvIzluKbmnaXlm57orr/mtYHph488L2xpPg0KPC91bD4NCjwvcD4NCjxwPg0KPHN0cm9uZz49IOivhOiuuuahhuWOn+adpeWPr+S7peWmguatpOeyvuW9qSA9PC9zdHJvbmc+DQo8dWw+DQoJPGxpPuWkmui0puWPt+eZu+W9le+8muiuqee9keermeeahOeUqOaIt+i9u+advuWKoOWFpeS9oOeahOekvuWMuuWPguS4juiuqOiuuu+8jOaUr+aMgeaWsOa1quW+ruWNmuOAgVFR44CB5Lq65Lq644CB6LGG55Oj44CB5byA5b+D572R44CB572R5piT5b6u5Y2a44CB5pCc54uQ5b6u5Y2a44CB55m+5bqm6LSm5Y+35ZKM6YKu566x55m75b2V77yM5pu05aSa55m75b2V5pa55byP6ZmG57ut5re75Yqg5Lit44CCPC9saT4NCgk8bGk+5Zue5aSN5o+Q6YaS77ya5aaC5p6c6K+E6K665pS25Yiw5Zue5aSN77yM6K+E6K666ICF5Zyo5Lu75L2V5a6J6KOF5LqG5aSa6K+057O757uf55qE572R6aG16YO95Y+v5Lul5pS25Yiw5o+Q56S677yM5Zue6K6/5L2g55qE572R56uZPC9saT4NCgk8bGk+6K+E6K665qCH6K6w5Zac5qyi77ya6byT5Yqx55So5oi355WZ5LiL6KiA5LmL5pyJ54mp55qE6K+E6K66PC9saT4NCgk8bGk+6K+E6K6655WM6Z2i6Ieq5a6a5Yi277ya6K+E6K665qGG5L2N572u77yM6K+E6K665o6S5YiX6aG65bqP77yM5aSa57qn5Zue5aSN4oCm5aSa6K+055qE6Ieq5a6a5Yi26YCJ6aG56K6p6K+E6K665qGG6Ieq54S26J6N5YWl5L2g55qE572R56uZPC9saT4NCjwvdWw+DQo8L3A+DQo8cD4NCjxzdHJvbmc+PSDpq5jmlYjlvLrlpKfnmoTnrqHnkIblkI7lj7DmnI3liqHluK7kvaDov4fmu6TlnoPlnL7or4TorrogPTwvc3Ryb25nPg0KPHVsPg0KCTxsaT7mlbDmja7mnKzlnLDkv53lrZjvvJror4TorrrmlbDmja7lrp7ml7bkv53lrZjliLBXb3JkUHJlc3PmnKzlnLDmnI3liqHlmajvvIzlubblj6/pmo/ml7blsIblpJror7Tor4Torrrlr7zlh7rvvIzkuI3nlKjmi4Xlv4PmlbDmja7kuKLlpLE8L2xpPg0KCTxsaT7mmbrog73or4bliKvvvJrliKnnlKhBa2lzbWF05ZKM5YW25LuW5a6J6KOF5LqG5aSa6K+06K+E6K6657O757uf572R56uZ55qE5pWw5o2u5bqT77yM5pm66IO96K+G5Yir5Z6D5Zy+6K+E6K66PC9saT4NCgk8bGk+5piT55So55qE566h55CG5ZCO5Y+w77ya5LiA56uZ5byP5ZCO5Y+w5biu5L2g6L275p2+44CB6auY5pWI55qE5aSE55CG5rW36YeP6K+E6K6644CC5L2g5Y+v5Lul5Zyo5ZCO5Y+w5pa55L6/55qE5bCG6K+E6K666L+b6KGM5YiG57G75ZKM5Yig6Zmk77yM5Y+q5pyJ5q2j5bi46K+E6K665omN5Lya5pi+56S65Zyo572R56uZ55qE6aG16Z2i5LiK44CCPC9saT4NCgk8bGk+5aSa6LSm5Y+3566h55CG77ya5aSa5Liq566h55CG5ZGY5Y+v55m76ZmG566h55CG5ZCM5LiA5Liq572R56uZ55qE6K+E6K6677yM5bm25Y+v6K6+5a6a566h55CG5ZGY44CB57yW6L6R562J5LiN5ZCM566h55CG5p2D6ZmQPC9saT4NCgk8bGk+5LyY6LSo55qE6YCf5bqm5ZKM56iz5a6a5oCn77yaMzAw5q+r56eS5oiW5pu055+t5Yqg6L295pe26Ze077yMOTkuOSXmraPluLjmnI3liqHml7bpl7TvvIzliqDovb3or4Torrrml7borr/pl67lpJror7TmnI3liqHlmajvvIzpmY3kvY7nvZHnq5noh6rouqvmnI3liqHlmajljovlips8L2xpPg0KCTxsaT7nibnliKvkuLror4TorrrlhoXlrrnorr7orqHnmoRTRU/kvJjljJY8L2xpPg0KPC91bD4NCjwvcD4NCjxwPg0KPHN0cm9uZz49IOiuqeWkmuivtOaIkOS4uue6veW4pu+8jOWwhuS9oOeahOe9keermeS4juWklueVjOebuOi/niA9PC9zdHJvbmc+DQo8dWw+DQoJPGxpPuWIhuS6q+ivhOiuuuaIluaWh+eroO+8muWPqumcgOeugOWNleWLvumAie+8jOivhOiuuuaIluaWh+eroOWNs+WPr+WIhuS6q+WIsOWQhOWkp+ekvuS6pOe9keermeOAguW4puacieivhOiuuueahOWIhuS6q+S8muiuqeivhOiuuuiAheeahOWlveWPi+abtOacieWFtOi2o+iuv+mXruS9oOeahOe9keermTwvbGk+DQoJPGxpPuW+ruWNmuivhOiuuuWQjOatpe+8mldvcmRQcmVzc+e9keermeWPr+S7peWcqOWPkeW4g+aWh+eroOeahOWQjOaXtuWPkeW4g+S4gOadoeaWsOa1quW+ruWNmu+8jOW+ruWNmueahOivhOiuuuiHquWKqOWQjOatpeWIsOS9oOeahOe9keermTwvbGk+DQoJPGxpPui3qOe9keermeeZu+W9le+8muiuv+WuouWcqOWIq+eahOe9keermeS4iueZu+W9leWkmuivtOWQju+8jOWGjeiuv+mXruS9oOeahOe9keermeaXtu+8jOWPr+S7peS4jeeUqOWGjeeZu+W9le+8jOebtOaOpeivhOiuujwvbGk+DQo8L3VsPg0KPC9wPg0KPHA+DQo8c3Ryb25nPj0g57uG6IqC54m56ImyID08L3N0cm9uZz4NCjx1bD4NCgk8bGk+5pi+56S65paH56ug55u45YWz5b6u5Y2aPC9saT4NCgk8bGk+5Zue5aSN5o+Q6YaSPC9saT4NCgk8bGk+6YeH55SoQWtpc21ldOi/h+a7pOWeg+WcvuivhOiuujwvbGk+DQoJPGxpPuaPkuWFpeihqOaDhTwvbGk+DQoJPGxpPuWWnOasouaWh+eroOW5tuWIhuS6q+WIsOekvuS6pOe9kee7nOWKn+iDvTwvbGk+DQoJPGxpPuaUr+aMgUhUTUzop6PmnpA8L2xpPg0KCTxsaT7mlK/mjIFHcmF2YXRhcuWktOWDjzwvbGk+DQoJPGxpPuWGmeaWh+eroOWQjOatpeWIsOW+ruWNmuaXtuesrOS4gOW8oOWbvueJh+S9nOS4uuW+ruWNmumFjeWbvjwvbGk+DQoJPGxpPuaUr+aMgeiHquWumuS5iUNTU+i/veWKoOS/ruaUueWkmuivtOagt+W8jzwvbGk+DQoJPGxpPuaUr+aMgemmlumhteacgOaWsOivhOiuuuWIl+ihqOabtOaWsDwvbGk+DQoJPGxpPuaUr+aMgeaWh+eroOagh+mimOaXgei+ueeahOivhOiuuuiuoeaVsOabtOaWsDwvbGk+DQo8L3VsPg0KPC9wPg0KPHA+DQo8c3Ryb25nPj0g5b6I5a655piT5bCx6IO95om+5Yiw5oiR5LusID08L3N0cm9uZz4NCjxkaXY+DQrmlrDmtarlvq7ljZrvvJo8YSBocmVmPSJodHRwOi8vd2VpYm8uY29tL2R1b3NodW8iIHRhcmdldD0iX2JsYW5rIj5A5aSa6K+0572RPC9hPg0K6IW+6K6v5b6u5Y2a77yaPGEgaHJlZj0iaHR0cDovL3QucXEuY29tL2R1by1zaHVvIiB0YXJnZXQ9Il9ibGFuayI+QOWkmuivtOe9kTwvYT4NCuS6uuS6uuS4u+mhte+8mjxhIGhyZWY9Imh0dHA6Ly9wYWdlLnJlbnJlbi5jb20vNjk5MTY4NDA4IiB0YXJnZXQ9Il9ibGFuayI+QOWkmuivtOe9kTwvYT4NCuixhueTo+Wwj+erme+8mjxhIGhyZWY9Imh0dHA6Ly9zaXRlLmRvdWJhbi5jb20vZHVvc2h1byIgdGFyZ2V0PSJfYmxhbmsiPuWkmuivtOe9kTwvYT4NCue9keaYk+W+ruWNmu+8mjxhIGhyZWY9Imh0dHA6Ly90LjE2My5jb20vZHVvc2h1byIgdGFyZ2V0PSJfYmxhbmsiPkDlpJror7TnvZE8L2E+DQrmkJzni5Dlvq7ljZrvvJo8YSBocmVmPSJodHRwOi8vZHVvc2h1by50LnNvaHUuY29tLyIgdGFyZ2V0PSJfYmxhbmsiPkDlpJror7TnvZE8L2E+DQo8L2Rpdj4NCjxkaXY+DQrnlLXor53vvJowMTAtODI4Mjc1MzcNClFR77yaMTE3NTc2MjIzOA0KUVHvvJoyMzEwMzkxMDAxDQo8L2Rpdj4NCjwvcD4NCg==
</readme>
<setupsql40>
Q1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgIGR1b3NodW9fY29tbWVudG1ldGEoDQoJYHBvc3RfaWRgIGludCgxMCkgdW5zaWduZWQgTk9UIE5VTEwsIA0KCWBjaWRgIGludCgxMCkgdW5zaWduZWQgTk9UIE5VTEwsIA0KCVBSSU1BUlkgS0VZICAoYHBvc3RfaWRgKSwNCglLRVkgYGNpZGAgKGBjaWRgKQ0KKSBFTkdJTkU9TXlJU0FNOw==
</setupsql40>
<delsql>
REVMRVRFIEZST00gYCNAX19wbHVzYCB3aGVyZSBwbHVzbmFtZSBsaWtlICflpJror7Tor4Torrrmj5Lku7YnOw0KREVMRVRFIEZST00gYCNAX19wbHVzYCB3aGVyZSBwbHVzbmFtZSBsaWtlICflpJror7Tor4TorronOw==
</delsql>
<setup>

</setup>
<uninstall>

</uninstall>
<oldfilelist>
./duoshuo.php
../include/taglib/duoshuo.lib.php
../plus/duoshuo.php
../plus/duoshuo/templets/comments_seo.htm
../plus/duoshuo/templets/comments.htm
../plus/duoshuo/templets/local_config.htm
../plus/duoshuo/templets/manage_comments.htm
../plus/duoshuo/Abstract.php
../plus/duoshuo/Admin.php
../plus/duoshuo/api.php
../plus/duoshuo/compat_json.php
../plus/duoshuo/Client.php
../plus/duoshuo/Dedecms.php
../plus/duoshuo/Exception.php
../plus/duoshuo/LocalServer.php
</oldfilelist>
</systemfile>

<modulefiles>
<file type='file' name='./duoshuo.php'>
PD9waHANCi8qKg0KICog5aSa6K+05o+S5Lu2DQogKg0KICogQHZlcnNpb24gICAgICAgICRJZDogZHVvc2h1by5waHAgMCAxMDoxNyAyMDEyLTQtMjcgeGlhb3d1ICQNCiAqIEBwYWNrYWdlICAgICAgICBEZWRlQ01TLkRVT1NIVU8NCiAqIEBjb3B5cmlnaHQgICAgICBDb3B5cmlnaHQgKGMpIDIwMTIgLSAsIER1b3NodW8sIEluYy4NCiAqIEBsaW5rICAgICAgICAgICBodHRwOi8vd3d3LmR1b3NodW8uY29tDQogKi8NCg0KcmVxdWlyZV9vbmNlKGRpcm5hbWUoX19GSUxFX18pLiIvY29uZmlnLnBocCIpOw0KcmVxdWlyZV9vbmNlKERFREVJTkMuIi9qc29uLmNsYXNzLnBocCIpOw0KDQpyZXF1aXJlX29uY2UoREVERVJPT1QuJy9wbHVzL2R1b3NodW8ucGhwJyk7DQpyZXF1aXJlX29uY2UoREVERVJPT1QuJy9wbHVzL2R1b3NodW8vQWRtaW4ucGhwJyk7DQoNCiRkdW9zaHVvUGx1Z2luID0gRHVvc2h1b19EZWRlY21zOjpnZXRJbnN0YW5jZSgpOw0KLy8g6K6+572u6buY6K6k5Y+C5pWwDQokZHVvc2h1b1BsdWdpbi0+Y2hlY2tEZWZhdWx0U2V0dGluZ3MoKTsNCg0KDQovL+S7juacjeWKoeWZqOi/lOWbnueahOazqOWGjOe7k+aenA0KaWYoIWVtcHR5KCRfR0VUKSAmJiBpc3NldCgkX0dFVFsnc2hvcnRfbmFtZSddKSAmJiBpc3NldCgkX0dFVFsnc2VjcmV0J10pKXsNCgkka2V5cyA9IGFycmF5KCdzaG9ydF9uYW1lJywnc2VjcmV0Jyk7Cglmb3JlYWNoICgka2V5cyBhcyAka2V5KXsNCgkJJGR1b3NodW9QbHVnaW4tPnVwZGF0ZU9wdGlvbigkX0dFVFska2V5XSk7Cgl9DQp9DQoNCi8v5YW85a65MC4xLnjniYjmnKzmj5Lku7Yg5byV5YWl5aSa6K+06YWN572u5paH5Lu2IHt7IOWPqueUqOS6jiAwLjIueAokY29uZmlnRmlsZSA9ICBERURFREFUQS4nL2R1b3NodW8uaW5jLnBocCc7CgppZihmaWxlX2V4aXN0cygkY29uZmlnRmlsZSkpewoJaWYoJGR1b3NodW9QbHVnaW4tPmdldE9wdGlvbignc2hvcnRfbmFtZScpID09ICcnIHx8JGR1b3NodW9QbHVnaW4tPmdldE9wdGlvbignc2VjcmV0JykgPT0gJycpey8v5aaC5p6c5pWw5o2u5bqT6K6+572u5LiN5a6M5pW0LOS7juaWh+S7tuWvvOWFpQoJCWluY2x1ZGVfb25jZSAkY29uZmlnRmlsZTsKCQlnbG9iYWwgJGNmZ19kdW9zaHVvOwoJCWlmKGlzc2V0KCRjZmdfZHVvc2h1bykpCgkJewoJCQlpZigkZHVvc2h1b1BsdWdpbi0+Z2V0T3B0aW9uKCdzaG9ydF9uYW1lJykgPT0gJycgJiYgIWVtcHR5KCRjZmdfZHVvc2h1b1snc2hvcnRfbmFtZSddKSl7CgkJCQkkZHVvc2h1b1BsdWdpbi0+dXBkYXRlT3B0aW9uKCdzaG9ydF9uYW1lJywgJGNmZ19kdW9zaHVvWydzaG9ydF9uYW1lJ10pOwoJCQl9CgkJCWlmKCRkdW9zaHVvUGx1Z2luLT5nZXRPcHRpb24oJ3NlY3JldCcpID09ICcnICAmJiAhZW1wdHkoJGNmZ19kdW9zaHVvWydzZWNyZXQnXSkpewoJCQkJJGR1b3NodW9QbHVnaW4tPnVwZGF0ZU9wdGlvbignc2VjcmV0JywkY2ZnX2R1b3NodW9bJ3NlY3JldCddKTsKCQkJfQoJCX0KCX0KCglpZigkZHVvc2h1b1BsdWdpbi0+Z2V0T3B0aW9uKCdzaG9ydF9uYW1lJykgIT0gJycgJiYgJGR1b3NodW9QbHVnaW4tPmdldE9wdGlvbignc2VjcmV0JykgIT0gJycpewoJCSRzdWNjZXNzID0gdW5saW5rKCRjb25maWdGaWxlKTsvL+WmguaenOaVsOaNruW6k+W3sue7j+iuvue9ru+8jOWIoOmZpOaWh+S7tgoJfQp9Ci8vfX0NCgppZigkZHVvc2h1b1BsdWdpbi0+Z2V0T3B0aW9uKCdzaG9ydF9uYW1lJykgPT0gJycgfHwgJGR1b3NodW9QbHVnaW4tPmdldE9wdGlvbignc2VjcmV0JykgPT0gJycpewoJJHBhcmFtcyA9ICRkdW9zaHVvUGx1Z2luLT5wYWNrYWdlT3B0aW9ucygpOw0KCSR1cmwgPSAnaHR0cDovLycgLiBEdW9zaHVvX0Fic3RyYWN0OjpET01BSU4gLiAnL2Nvbm5lY3Qtc2l0ZS8/Jy4gaHR0cF9idWlsZF9xdWVyeSgkcGFyYW1zLCBudWxsLCAnJicpOwoJaGVhZGVyKCJMb2NhdGlvbjoiIC4gJHVybCwgdHJ1ZSk7CglleGl0Owp9DQoNCiRkdW9zaHVvQWRtaW4gPSBuZXcgRHVvc2h1b19BZG1pbigpOw0KDQppZihpc3NldCgkYWN0aW9uKSl7DQoJaWYgKG1ldGhvZF9leGlzdHMoICRkdW9zaHVvQWRtaW4sICRhY3Rpb24gKSA9PT0gVFJVRSl7DQoJCSRkdW9zaHVvQWRtaW4tPiRhY3Rpb24oKTsNCgl9DQoJZWxzZQ0KCQlTaG93bXNnKCfmsqHmnInmraTmk43kvZwnLDEsMik7DQp9DQo=
</file>
<file type='file' name='../include/taglib/duoshuo.lib.php'>
PD9waHAgaWYoIWRlZmluZWQoJ0RFREVJTkMnKSkgZXhpdCgnUmVxdWVzdCBFcnJvciEnKTsNCnJlcXVpcmVfb25jZShERURFUk9PVC4nL3BsdXMvZHVvc2h1by5waHAnKTsNCnJlcXVpcmVfb25jZShERURFUk9PVC4nL2luY2x1ZGUvdGFnbGliL2ZlZWRiYWNrLmxpYi5waHAnKTsNCmZ1bmN0aW9uIGxpYl9kdW9zaHVvKCYkY3RhZywmJHJlZk9iaikNCnsNCglnbG9iYWwgJGRzcWwsJGVudnMsJGNmZ19waHB1cmwsJGNmZ19iYXNlaG9zdCwkY2ZnX211bHRpX3NpdGU7DQoJDQoJJHBsdWdpbiA9IER1b3NodW9fRGVkZWNtczo6Z2V0SW5zdGFuY2UoKTsNCgkNCglpZiAoJGR1b3NodW9QbHVnaW4tPmdldE9wdGlvbignc2hvcnRfbmFtZScpID09ICcnIHx8ICRkdW9zaHVvUGx1Z2luLT5nZXRPcHRpb24oJ3NlY3JldCcpID09ICcnKSANCgkJcmV0dXJuICflnKjnrqHnkIblkI7lj7Dov5vooYzkuIDmraXphY3nva7vvIzlsLHlj6/ku6XlvIDlp4vkvb/nlKjlpJror7TkuoYnOw0KCQ0KCSRhdHRsaXN0PSd0eXBlfDAnOw0KCUZpbGxBdHRzRGVmYXVsdCgkY3RhZy0+Q0F0dHJpYnV0ZS0+SXRlbXMsJGF0dGxpc3QpOw0KCWV4dHJhY3QoJGN0YWctPkNBdHRyaWJ1dGUtPkl0ZW1zLCBFWFRSX1NLSVApOw0KCQ0KCSRhcmNpZCA9ICFlbXB0eSgkcmVmT2JqLT5GaWVsZHNbJ2FpZCddKSA/ICRyZWZPYmotPkZpZWxkc1snYWlkJ10gOiAwOw0KCSRhcmN0aXRsZSA9ICFlbXB0eSgkcmVmT2JqLT5GaWVsZHNbJ3RpdGxlJ10pID8gJHJlZk9iai0+RmllbGRzWyd0aXRsZSddIDogMDsNCgkNCgkkZGF0YV9zb3VyY2VfdGhyZWFkX2lkID0gIWVtcHR5KCRhcmNpZCkgPyAiIGRhdGEtc291cmNlLXRocmVhZC1pZD0gJyRhcmNpZCciIDogIiI7DQoJJGh0bWx0aXRsZSA9IGh0bWxzcGVjaWFsY2hhcnMoJGFyY3RpdGxlLEVOVF9RVU9URVMpOw0KCSRkYXRhX3RpdGxlID0gIWVtcHR5KCRhcmN0aXRsZSkgPyAiIGRhdGEtdGl0bGU9JyRodG1sdGl0bGUnIiA6ICIiOw0KCQ0KCW9iX3N0YXJ0KCk7CglyZXF1aXJlIChERURFUk9PVC4nL3BsdXMvZHVvc2h1by90ZW1wbGV0cy9jb21tZW50cy5odG0nKTsKCQ0KCWlmKCRwbHVnaW4tPmdldE9wdGlvbignc2VvX2VuYWJsZWQnKSAmJiAhZW1wdHkoJGFyY2lkKSl7DQoJCS8vIOavj+evh+ivhOiuuuacgOWkp+Wtl+aVsA0KCQkkaW5mb2xlbiA9IDIwMDsNCgkJLy8g5q+P56+H5paH56ugc2Vv5pi+56S655qE5pyA5aSn6KGM5pWwDQoJCSR0b3RhbHJvdyA9IDEwMDsNCgkJCgkJJGlubmVydGV4dCAgPSBmaWxlX2dldF9jb250ZW50cyhERURFUk9PVC4nL3BsdXMvZHVvc2h1by90ZW1wbGV0cy9jb21tZW50c19zZW8uaHRtJyk7DQoNCj8+DQo8ZGl2IGlkPSJkcy1zc3IiIGNsYXNzPSJtdDEiPg0KCTxkbCBjbGFzcz0idGJveCI+DQoJCTxkdD4gPHN0cm9uZz7or4TorrrliJfooajvvIjnvZHlj4vor4Torrrku4XkvpvnvZHlj4vooajovr7kuKrkurrnnIvms5XvvIzlubbkuI3ooajmmI7mnKznq5nlkIzmhI/lhbbop4LngrnmiJbor4Hlrp7lhbbmj4/ov7DvvIk8L3N0cm9uZz4gPC9kdD4NCgkJPGRkPg0KCQkJPGRpdiBjbGFzcz0iZGVkZV9jb21tZW50Ij4NCgkJCQk8ZGl2IGNsYXNzPSJkZWNtdC1ib3gxIj4NCgkJCQkJPHVsPg0KCQkJCQkJPGxpIGlkPSJjb21tZXRjb250ZW50TmV3Ij48L2xpPg0KCjw/cGhwIAkJCgkJJHdzcWwgPSAiIFdIRVJFIGlzY2hlY2s9MSBBTkQgYWlkID0gJGFyY2lkIjsKCQkkZXF1ZXJ5ID0gIlNFTEVDVCAqIEZST00gYCNAX19mZWVkYmFja2AgJHdzcWwgT1JERVIgQlkgaWQgREVTQyBMSU1JVCAwICwgJHRvdGFscm93IjsKCQkkY3RwID0gbmV3IERlZGVUYWdQYXJzZSgpOwoJCSRjdHAtPlNldE5hbWVTcGFjZSgnZmllbGQnLCdbJywnXScpOwoJCSRjdHAtPkxvYWRTb3VyY2UoJGlubmVydGV4dCk7CgkJCgkJJGRzcWwtPkV4ZWN1dGUoJ2ZiJywkZXF1ZXJ5KTsKCQl3aGlsZSgkYXJyPSRkc3FsLT5HZXRBcnJheSgnZmInKSkKCQl7CgkJCSRhcnJbJ21zZyddID0ganNUcmltKEh0bWwyVGV4dCgkYXJyWydtc2cnXSksJGluZm9sZW4pOw0KCQkJJGFyclsnZHRpbWUnXSA9IEdldERhdGVUaW1lTUsoJGFyclsnZHRpbWUnXSk7DQoJCQkkYXJyWyd1c2VybmFtZSddID0gJHN0ciA9IHN0cl9yZXBsYWNlKCcmbHQ7YnIvJmd0OycsJyAnLCRhcnJbJ3VzZXJuYW1lJ10pOwoJCQlmb3JlYWNoKCRjdHAtPkNUYWdzIGFzICR0YWdpZD0+JGN0YWcpCgkJCXsKCQkJCWlmKCFlbXB0eSgkYXJyWyRjdGFnLT5HZXROYW1lKCldKSkKCQkJCXsKCQkJCQkkY3RwLT5Bc3NpZ24oJHRhZ2lkLCRhcnJbJGN0YWctPkdldE5hbWUoKV0pOwoJCQkJfQoJCQl9CgkJCWVjaG8gJGN0cC0+R2V0UmVzdWx0KCk7CgkJfQ0KPz4gDQoJCQkJCTwvdWw+DQoJCQkJPC9kaXY+DQoJCQk8L2Rpdj4NCgkJPC9kZD4NCgk8L2RsPg0KPC9kaXY+DQoNCjw/cGhwIA0KCX0NCg0KCXJldHVybiBvYl9nZXRfY2xlYW4oKTsNCn0=
</file>
<file type='file' name='../plus/duoshuo.php'>
PD9waHAKaWYgKCFleHRlbnNpb25fbG9hZGVkKCdqc29uJykpCglpbmNsdWRlX29uY2UgREVERVJPT1QuJy9wbHVzL2R1b3NodW8vY29tcGF0X2pzb24ucGhwJzsKCnJlcXVpcmUgREVERVJPT1QuJy9wbHVzL2R1b3NodW8vRXhjZXB0aW9uLnBocCc7CnJlcXVpcmUgREVERVJPT1QuJy9wbHVzL2R1b3NodW8vQ2xpZW50LnBocCc7CnJlcXVpcmUgREVERVJPT1QuJy9wbHVzL2R1b3NodW8vQWJzdHJhY3QucGhwJzsKcmVxdWlyZSBERURFUk9PVC4nL3BsdXMvZHVvc2h1by9EZWRlY21zLnBocCc7
</file>
<file type='file' name='../plus/duoshuo/templets/comments_seo.htm'>
CQkJCQkJCTxsaT4KCQkJCQkJCQk8c3BhbiBjbGFzcz0idGl0bGUiPltmaWVsZDp1c2VybmFtZSBmdW5jdGlvbj0iKEBtZT09J2d1ZXN0JyA/ICfmuLjlrqInIDogQG1lKSIvXTwvc3Bhbj4KCQkJCQkJCQk8ZGl2IGNsYXNzPSJjb21tZW50X2FjdCI+W2ZpZWxkOmR0aW1lL13lj5Hooag8L2Rpdj4KCQkJCQkJCQk8cD4KCQkJCQkJCQlbZmllbGQ6bXNnIC9dCgkJCQkJCQkJPC9wPgoJCQkJCQkJPC9saT4K
</file>
<file type='file' name='../plus/duoshuo/templets/comments.htm'>
PD9waHAKCSRkdW9zaHVvUGx1Z2luID0gRHVvc2h1b19EZWRlY21zOjpnZXRJbnN0YW5jZSgpOwo/Pgo8IS0tIER1b3NodW8gQ29tbWVudCBCRUdJTiAtLT4KCTxkaXYgY2xhc3M9ImRzLXRocmVhZCIgPD9waHAgZWNobyAkZGF0YV9zb3VyY2VfdGhyZWFkX2lkLiRkYXRhX3RpdGxlOz8+PjwvZGl2PgoJPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgoJdmFyIGR1b3NodW9RdWVyeSA9IHtzaG9ydF9uYW1lOiAiPD9waHAgZWNobyAkcGx1Z2luLT5nZXRPcHRpb24oJ3Nob3J0X25hbWUnKSA7Pz4ifTsKCShmdW5jdGlvbigpIHsKCQl2YXIgZHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKCQlkcy50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7ZHMuYXN5bmMgPSB0cnVlOwoJCWRzLnNyYyA9ICdodHRwOi8vc3RhdGljLmR1b3NodW8uY29tL2VtYmVkLmpzJzsKCQlkcy5jaGFyc2V0ID0gJ1VURi04JzsKCQkoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXSB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdKS5hcHBlbmRDaGlsZChkcyk7Cgl9KSgpOwoJPC9zY3JpcHQ+CjwhLS0gRHVvc2h1byBDb21tZW50IEVORCAtLT4=
</file>
<file type='file' name='../plus/duoshuo/templets/local_config.htm'>
PD9waHANCgkkYWpheF9jb21tZW50X2ZpbGUgPSBERURFVEVNUExBVEUuJy9kZWZhdWx0L2FqYXhmZWVkYmFjay5odG0nOw0KCSRkdW9zaHVvUGx1Z2luID0gRHVvc2h1b19EZWRlY21zOjpnZXRJbnN0YW5jZSgpOw0KCSR0YWdfcmVwbGFjZWQgPSAgZmFsc2U7DQoJDQoJaWYoZmlsZV9leGlzdHMoJGFqYXhfY29tbWVudF9maWxlKSl7DQoJCSRjb21tZW50X2NvbnRlbnQgPSBmaWxlX2dldF9jb250ZW50cygkYWpheF9jb21tZW50X2ZpbGUpOw0KCQkNCgkJaWYoc3RycG9zKCRjb21tZW50X2NvbnRlbnQsIER1b3NodW9fRGVkZWNtczo6JGNvbW1lbnRUYWcpIT09ZmFsc2Upew0KCQkJJHRhZ19yZXBsYWNlZCA9IHRydWU7DQoJCX0NCgl9DQo/Pg0KPCFET0NUWVBFIGh0bWwgUFVCTElDICItLy9XM0MvL0RURCBYSFRNTCAxLjAgVHJhbnNpdGlvbmFsLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL1RSL3hodG1sMS9EVEQveGh0bWwxLXRyYW5zaXRpb25hbC5kdGQiPg0KPGh0bWwgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPg0KPGhlYWQ+DQo8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD08P3BocCBlY2hvICRjZmdfc29mdF9sYW5nOyA/PiIgLz4NCjx0aXRsZT7lpJror7Tor4TorrrnrqHnkIY8L3RpdGxlPg0KPHNjcmlwdCBsYW5ndWFnZT0iamF2YXNjcmlwdCIgc3JjPSIuLi9pbmNsdWRlL2pzL2pxdWVyeS9qcXVlcnkuanMiPjwvc2NyaXB0Pg0KPHNjcmlwdCBsYW5ndWFnZT0iamF2YXNjcmlwdCIgc3JjPSIuLi9pbmNsdWRlL2pzL2RlZGVhamF4Mi5qcyI+PC9zY3JpcHQ+DQo8bGluayBocmVmPSJjc3MvYmFzZS5jc3MiIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIC8+DQo8L2hlYWQ+DQo8Ym9keSBiYWNrZ3JvdW5kPSJpbWFnZXMvYWxsYmcuZ2lmIiBsZWZ0bWFyZ2luPSI4IiB0b3BtYXJnaW49IjgiPg0KPHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgYWxpZ249ImNlbnRlciIgY2VsbHBhZGRpbmc9IjMiIGNlbGxzcGFjaW5nPSIxIiBiZ2NvbG9yPSIjRDZENkQ2IiBzdHlsZT0ibWFyZ2luLWJvdHRvbTo2cHgiPg0KCTx0cj4NCgkJPHRkIHdpZHRoPSI1MCUiIGhlaWdodD0iMjgiIGJhY2tncm91bmQ9ImltYWdlcy90YmcuZ2lmIiBzdHlsZT0icGFkZGluZy1sZWZ0OjEwcHg7Ij4NCgkJCTxkaXYgc3R5bGU9ImZsb2F0OmxlZnQiPg0KCQkJCTxiPuiHquWKqOabv+aNouWOn+Wni+ivhOiuuuahhjwvYj4NCgkJCTwvZGl2Pg0KCQk8L3RkPg0KCQk8dGQgd2lkdGg9IjUwJSIgaGVpZ2h0PSIyOCIgYmFja2dyb3VuZD0iaW1hZ2VzL3RiZy5naWYiIHN0eWxlPSJwYWRkaW5nLWxlZnQ6MTBweDsiPg0KCQkJPGRpdiBzdHlsZT0iZmxvYXQ6bGVmdCI+DQoJCQkJPGI+5omL5Yqo5pu/5o2i5Y6f5aeL6K+E6K665qGGPC9iPg0KCQkJPC9kaXY+DQoJCTwvdGQ+DQoJPC90cj4NCgk8dHIgYmdjb2xvcj0iI0ZGRkZGRiIgaGVpZ2h0PSIyNiI+DQoJCTx0ZCBzdHlsZT0icGFkZGluZy1sZWZ0OjEwcHg7Ij4NCgkJCTxkaXYgc3R5bGU9ImZsb2F0OmxlZnQiPg0KCQkJCTw/cGhwIGlmKCEkdGFnX3JlcGxhY2VkKTo/Pg0KCQkJCTxmb3JtIGFjdGlvbj0iZHVvc2h1by5waHAiIG5hbWU9InJlcGxhY2VDb21tZW50VGFnIiBtZXRob2Q9InBvc3QiPg0KCQkJCQk8aW5wdXQgbmFtZT0iYWN0aW9uIiB0eXBlPSJoaWRkZW4iIHZhbHVlPSJyZXBsYWNlQ29tbWVudFRhZyIvPg0KCQkJCQnlpoLmnpzmgqjmnKrmlLnliqjov4fns7vnu5/mqKHmnb/or4Torrrpg6jliIbvvIzlu7rorq7kvb/nlKjoh6rliqjmm7/mjaLjgIINCgkJCQkJPHA+6Ieq5Yqo5pu/5o2i5bCG5Lya5aSH5Lu9L3RlbXBsZXRzL2FqYXhmZWViYWNrLmh0beS4ui90ZW1wbGV0cy9hamF4ZmVlZGJhY2suYmFjay5odG3vvIzlubblsIY8Yj48P3BocCBlY2hvIER1b3NodW9fRGVkZWNtczo6JGNvbW1lbnRUYWc7Pz4gPC9iPuWGmeWFpeaWsOeahC90ZW1wbGV0cy9hamF4ZmVlYmFjay5odG3mqKHmnb/jgIINCgkJCQkJPC9wPg0KCQkJCQk8cD4NCgkJCQkJPGlucHV0IHR5cGU9ImJ1dHRvbiIgc2l6ZT0iMTIiIG9uY2xpY2s9ImRvY3VtZW50LnJlcGxhY2VDb21tZW50VGFnLnN1Ym1pdCgpOyIgc3R5bGU9IndpZHRoOjUwcHgiIHZhbHVlPSLmm7/mjaIiIC8+DQoJCQkJCTwvcD4NCgkJCQk8L2Zvcm0+DQoJCQkJPD9waHAgZWxzZTo/Pg0KCQkJCQnmo4DmtYvliLDoh6rliqjmm7/mjaLlt7Lnu4/nlJ/mlYjvvIzlpoLkvb/nlKjpnZnmgIFIVE1M5paH5qGj77yM6ZyA5YWIIFs8YSB0YXJnZXQ9Im1haW4iIGhyZWY9Im1ha2VodG1sX2FyY2hpdmVzLnBocCI+PHU+5pu05paw5paH5qGjSFRNTDwvdT48L2E+XSDkuYvlkI7vvIzku6XliY3nmoTmlofnq6DmiY3kvJrmmL7npLrlpJror7Tor4TorrrmoYbjgIINCgkJCQkJPHA+6Ieq5Yqo5pu/5o2i5bey57uP5bCGL3RlbXBsZXRzL2FqYXhmZWViYWNrLmh0beWkh+S7veS4ui90ZW1wbGV0cy9hamF4ZmVlZGJhY2suYmFjay5odG3vvIzlubblsIY8Yj48P3BocCBlY2hvIER1b3NodW9fRGVkZWNtczo6JGNvbW1lbnRUYWc7Pz4gPC9iPuWGmeWFpeaWsOeahC90ZW1wbGV0cy9hamF4ZmVlYmFjay5odG3mqKHmnb/jgII8L3A+DQoJCQkJCQ0KCQkJCTw/cGhwIGVuZGlmOz8+DQoJCQk8L2Rpdj4NCgkJPC90ZD4NCgkJPHRkIHN0eWxlPSJwYWRkaW5nLWxlZnQ6MTBweDsiPg0KCQkJPGRpdiBzdHlsZT0iZmxvYXQ6bGVmdCI+DQoJCQkJPD9waHAgaWYoJHRhZ19yZXBsYWNlZCk6Pz4NCgkJCQk8cD7mo4DmtYvliLDoh6rliqjmm7/mjaLlt7Lnu4/nlJ/mlYjvvIzlpoLmnpzmgqjnmoTmlofnq6DpobXku43mnKrmmL7npLror4TorrrmoYbvvIzor7flhYjmm7TmlrDpnZnmgIHmlofmoaPvvIzlho3ogIPomZHmiYvliqjmm7/mjaLjgII8L3A+DQoJCQkJPD9waHAgZW5kaWY7Pz4NCgkJCQk8cD7lpoLmnpzmgqjmm7TmlLnov4fns7vnu5/mqKHmnb/or4Torrrpg6jliIbvvIzmiJbpnIDopoHlnKjmlofnq6DpobXkuK3lhbbku5bkvY3nva7kvb/nlKjor4TorrrmoYbjgILlj6rpnIDlnKjmlofnq6DmqKHmnb/nm7jlupTkvY3nva7mj5LlhaUgPHNwYW4gc3R5bGU9ImNvbG9yOnJlZCI+PD9waHAgZWNobyBEdW9zaHVvX0RlZGVjbXM6OiRjb21tZW50VGFnOz8+PC9zcGFuPg0KCQkJCTwvcD4NCgkJCTwvZGl2Pg0KCQk8L3RkPg0KCTwvdHI+DQo8L3RhYmxlPg0KPHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgYWxpZ249ImNlbnRlciIgY2VsbHBhZGRpbmc9IjMiIGNlbGxzcGFjaW5nPSIxIiBiZ2NvbG9yPSIjRDZENkQ2IiBzdHlsZT0ibWFyZ2luLWJvdHRvbTo2cHgiPg0KCTx0cj4NCgkJPHRkIGhlaWdodD0iMjgiIGJhY2tncm91bmQ9ImltYWdlcy90YmcuZ2lmIiBjb2xzcGFuPSIyIiBzdHlsZT0icGFkZGluZy1sZWZ0OjEwcHg7Ij4NCgkJCTxkaXYgc3R5bGU9ImZsb2F0OmxlZnQiPg0KCQkJCTxiPuacrOWcsOiuvue9rjwvYj4NCgkJCTwvZGl2Pg0KCQk8L3RkPg0KCTwvdHI+DQoJPGZvcm0gYWN0aW9uPSJkdW9zaHVvLnBocCIgbmFtZT0ibG9jYWxDb25maWciIG1ldGhvZD0icG9zdCI+DQoJCTxpbnB1dCBuYW1lPSJhY3Rpb24iIHR5cGU9ImhpZGRlbiIgdmFsdWU9InNhdmVMb2NhbENvbmZpZyIvPg0KCQk8dHIgYmdjb2xvcj0iI0ZGRkZGRiIgIGhlaWdodD0iMjYiIG9ubW91c2VvdXQ9ImphdmFzY3JpcHQ6dGhpcy5iZ0NvbG9yPScjRkZGRkZGJzsiIG9ubW91c2Vtb3ZlPSJqYXZhc2NyaXB0OnRoaXMuYmdDb2xvcj0nI0ZDRkRFRSc7Ij4NCgkJCTx0ZCB3aWR0aD0iMjUwcHgiIGFsaWduPSJyaWdodCI+5aSa6K+05LqM57qn5Z+f5ZCNKOS/ruaUueWPr+iDveWvvOiHtOivhOiuuuahhuS4jeWPr+eUqCk8L3RkPg0KCQkJPHRkIGFsaWduPSJsZWZ0Ij48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ic2hvcnRfbmFtZSIgc3R5bGU9IndpZHRoOjI3MHB4IiB2YWx1ZT0iPD9waHAgZWNobyAkZHVvc2h1b1BsdWdpbi0+Z2V0T3B0aW9uKCdzaG9ydF9uYW1lJyk7ID8+Ii8+PC90ZD4NCgkJPC90cj4NCgkJPHRyIGJnY29sb3I9IiNGREZDRkEiIGFsaWduPSJjZW50ZXIiIGhlaWdodD0iMjYiIG9ubW91c2VvdXQ9ImphdmFzY3JpcHQ6dGhpcy5iZ0NvbG9yPScjRkRGQ0ZBJzsiIG9ubW91c2Vtb3ZlPSJqYXZhc2NyaXB0OnRoaXMuYmdDb2xvcj0nI0ZDRkRFRSc7Ij4NCgkJCTx0ZCBhbGlnbj0icmlnaHQiPuWkmuivtOWvhumSpSjkv67mlLnlj6/og73lr7zoh7Tor4TorrrmoYbkuI3lj6/nlKgpPC90ZD4NCgkJCTx0ZCBhbGlnbj0ibGVmdCI+PGlucHV0IHR5cGU9InRleHQiIG5hbWU9InNlY3JldCIgc3R5bGU9IndpZHRoOjI3MHB4IiB2YWx1ZT0iPD9waHAgZWNobyAkZHVvc2h1b1BsdWdpbi0+Z2V0T3B0aW9uKCdzZWNyZXQnKTsgPz4iLz48L3RkPg0KCQk8L3RyPg0KCQk8dHIgYmdjb2xvcj0iI0ZGRkZGRiIgaGVpZ2h0PSIyNiIgb25tb3VzZW91dD0iamF2YXNjcmlwdDp0aGlzLmJnQ29sb3I9JyNGRkZGRkYnOyIgb25tb3VzZW1vdmU9ImphdmFzY3JpcHQ6dGhpcy5iZ0NvbG9yPScjRkNGREVFJzsiPg0KCQkJPHRkIGFsaWduPSJyaWdodCI+5ZCv55So5a6e5pe26K+E6K665Zue5rWB5Yqf6IO9PC90ZD4NCgkJCTx0ZCBhbGlnbj0ibGVmdCI+6K+35ZyoIuaooeWdlyItIuWkmuivtCItIuivhOiuuueuoeeQhiItIuiuvue9riLkuK3vvIzlvIDlkK/lrp7ml7bor4Torrrlm57mtYHlip/og708L3RkPg0KCQk8L3RyPg0KCQk8dHIgYmdjb2xvcj0iI0ZERkNGQSIgYWxpZ249ImNlbnRlciIgaGVpZ2h0PSIyNiIgb25tb3VzZW91dD0iamF2YXNjcmlwdDp0aGlzLmJnQ29sb3I9JyNGREZDRkEnOyIgb25tb3VzZW1vdmU9ImphdmFzY3JpcHQ6dGhpcy5iZ0NvbG9yPScjRkNGREVFJzsiPg0KCQkJPHRkIGFsaWduPSJyaWdodCI+5byA5ZCvU0VP5LyY5YyWKOmcgOWFiOWQr+ivhOiuuuWbnua1geWKn+iDvSk8L3RkPg0KCQkJPHRkIGFsaWduPSJsZWZ0Ij4NCgkJCTxpbnB1dCBjbGFzcz0ibnAiIHR5cGU9ImhpZGRlbiIgbmFtZT0ic2VvX2VuYWJsZWQiIHZhbHVlPSIwIiAvPg0KCQkJPGlucHV0IGNsYXNzPSJucCIgdHlwZT0iY2hlY2tib3giIDw/cGhwIGVjaG8gJGR1b3NodW9QbHVnaW4tPmdldE9wdGlvbignc2VvX2VuYWJsZWQnKT8gImNoZWNrZWQ9J2NoZWNrZWQnIiA6ICcnOyA/PiBuYW1lPSJzZW9fZW5hYmxlZCIgdmFsdWU9IjEiIC8+PC90ZD4NCgkJPC90cj4NCgkJPHRyIGJnY29sb3I9IiNGRkZGRkYiIGhlaWdodD0iMjYiIG9ubW91c2VvdXQ9ImphdmFzY3JpcHQ6dGhpcy5iZ0NvbG9yPScjRkZGRkZGJzsiIG9ubW91c2Vtb3ZlPSJqYXZhc2NyaXB0OnRoaXMuYmdDb2xvcj0nI0ZDRkRFRSc7Ij4NCgkJCTx0ZCBhbGlnbj0ibGVmdCIgY29sc3Bhbj0iMiIgc3R5bGU9InBhZGRpbmctbGVmdDoyMjVweCI+PGlucHV0IHR5cGU9ImJ1dHRvbiIgc2l6ZT0iMTQiIG9uY2xpY2s9ImRvY3VtZW50LmxvY2FsQ29uZmlnLnN1Ym1pdCgpOyIgc3R5bGU9IndpZHRoOjYwcHgiIHZhbHVlPSLkv53lrZjorr7nva4iIC8+PC90ZD4NCgkJPC90cj4NCgk8L2Zvcm0+DQo8L3RhYmxlPg0KPCEtLQ0KPHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgYWxpZ249ImNlbnRlciIgY2VsbHBhZGRpbmc9IjMiIGNlbGxzcGFjaW5nPSIxIiBiZ2NvbG9yPSIjRDZENkQ2IiBzdHlsZT0ibWFyZ2luLWJvdHRvbTo2cHgiPg0KCTx0ciBiZ2NvbG9yPSIjRkZGRkZGIiBoZWlnaHQ9IjI2IiBvbm1vdXNlb3V0PSJqYXZhc2NyaXB0OnRoaXMuYmdDb2xvcj0nI0ZGRkZGRic7IiBvbm1vdXNlbW92ZT0iamF2YXNjcmlwdDp0aGlzLmJnQ29sb3I9JyNGQ0ZERUUnOyI+DQoJCQk8dGQgYWxpZ249InJpZ2h0Ij7njrDlnKjmiafooYzor4Torrrlm57mtYE8L3RkPg0KCQkJPHRkIGFsaWduPSJsZWZ0Ij48aW5wdXQgY2xhc3M9Im5wIiB0eXBlPSJjaGVja2JveCIgdmFsdWU9IjkiIG5hbWU9ImFpZHMiIC8+PC90ZD4NCgkJPC90cj4NCjwvdGFibGU+DQotLT4NCgk8IS0tIDx0ciBiZ2NvbG9yPSIjRkRGQ0ZBIiBhbGlnbj0iY2VudGVyIiBoZWlnaHQ9IjI2IiBvbm1vdXNlb3V0PSJqYXZhc2NyaXB0OnRoaXMuYmdDb2xvcj0nI0ZERkNGQSc7IiBvbm1vdXNlbW92ZT0iamF2YXNjcmlwdDp0aGlzLmJnQ29sb3I9JyNGQ0ZERUUnOyI+DQoJCTx0ZCB3aWR0aD0iMTAlIj7pgJrnlKjmoIfnrb7vvJo8L3RkPg0KCQk8dGQgd2lkdGg9IjkwJSIgY29sc3Bhbj0iMiI+5aaC5p6c5oKo5LmL5YmN5bey57uP5YWz6Zet5LqG6K+E6K6677yM5oiW5oOz5Zyo5p+Q5LiA5qih5p2/6YeM5Yqg5YWl6K+E6K665qGG77yM6K+35Zyo6aG16Z2i5qih5p2/5Lit5Yqg5YWlIDxiPjw/cGhwIGVjaG8gJHRoaXMtPnRhZzs/PiA8L2I+IA0KCQlbPGEgc3R5bGU9ImZvbnQtc2l6ZToxM3B4IiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cDovL2Jsb2cuZHVvc2h1by5jb20vaGVscC9kZWRlY21zLWluc3RhbGwvZHVvc2h1by10YWcvIj48dT7lj4LogIPmlofmoaM8L3U+PC9hPl08L3RkPg0KCTwvdHI+IC0tPg0KDQo8L2JvZHk+DQo8L2h0bWw+
</file>
<file type='file' name='../plus/duoshuo/templets/manage_comments.htm'>
PD9waHANCgkkZHVvc2h1b1BsdWdpbiA9IER1b3NodW9fRGVkZWNtczo6Z2V0SW5zdGFuY2UoKTsNCgkkcGFyYW1zID0gYXJyYXkoDQoJCQkndGVtcGxhdGUnCQk9PgknZGVkZWNtcycsDQoJCQkvLydyZW1vdGVfYXV0aCcJPT4JRHVvc2h1b19BYnN0cmFjdDo6cmVtb3RlQXV0aCgpLA0KCSk7DQo/Pg0KPCFET0NUWVBFIGh0bWwgUFVCTElDICItLy9XM0MvL0RURCBYSFRNTCAxLjAgVHJhbnNpdGlvbmFsLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL1RSL3hodG1sMS9EVEQveGh0bWwxLXRyYW5zaXRpb25hbC5kdGQiPg0KPGh0bWwgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPg0KPGhlYWQ+DQo8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD08P3BocCBlY2hvICRjZmdfc29mdF9sYW5nOyA/PiIgLz4NCjx0aXRsZT7lpJror7Tor4TorrrnrqHnkIY8L3RpdGxlPg0KPHNjcmlwdCBsYW5ndWFnZT0iamF2YXNjcmlwdCIgc3JjPSIuLi9pbmNsdWRlL2pzL2pxdWVyeS9qcXVlcnkuanMiPjwvc2NyaXB0Pg0KPHNjcmlwdCBsYW5ndWFnZT0iamF2YXNjcmlwdCIgc3JjPSIuLi9pbmNsdWRlL2pzL2RlZGVhamF4Mi5qcyI+PC9zY3JpcHQ+DQo8bGluayBocmVmPSJjc3MvYmFzZS5jc3MiIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIC8+DQo8L2hlYWQ+DQo8Ym9keSBiYWNrZ3JvdW5kPSJpbWFnZXMvYWxsYmcuZ2lmIiBsZWZ0bWFyZ2luPSI4IiB0b3BtYXJnaW49IjgiPg0KPHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgYWxpZ249ImNlbnRlciIgY2VsbHBhZGRpbmc9IjMiIGNlbGxzcGFjaW5nPSIxIiBiZ2NvbG9yPSIjRDZENkQ2Ij4NCgk8dHI+DQoJCTx0ZCBoZWlnaHQ9IjI4IiBiYWNrZ3JvdW5kPSJpbWFnZXMvdGJnLmdpZiIgY29sc3Bhbj0iOCIgc3R5bGU9InBhZGRpbmctbGVmdDoxMHB4OyI+DQoJCTxkaXYgc3R5bGU9ImZsb2F0OmxlZnQiPg0KCQkJPGI+5aSa6K+0566h55CG5ZCO5Y+wPC9iPg0KCQkJWzxhIHN0eWxlPSJmb250LXNpemU6MTNweCIgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Ijw/cGhwIGVjaG8gJ2h0dHA6Ly8nIC4gJGR1b3NodW9QbHVnaW4tPmdldE9wdGlvbignc2hvcnRfbmFtZScpIC4gJy4nIC4gRHVvc2h1b19BYnN0cmFjdDo6RE9NQUlOLicvYWRtaW4vJzs/PiI+PHU+5Zyo5paw56qX5Y+j5Lit5omT5byAPC91PjwvYT5dDQoJCQlbPGEgc3R5bGU9ImZvbnQtc2l6ZToxM3B4IiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iPD9waHAgZWNobyAnaHR0cDovLycgLiBEdW9zaHVvX0Fic3RyYWN0OjpET01BSU4uJy9zZXR0aW5ncy8nOz8+Ij48dT7kuKrkurrotYTmlpnorr7nva48L3U+PC9hPl0NCgkJPC9kaXY+DQoJCTwvdGQ+DQoJPC90cj4NCjwvdGFibGU+DQo8aWZyYW1lIGlkPSJkdW9zaHVvLXJlbW90ZS13aW5kb3ciIHNyYz0iPD9waHAgZWNobyAnaHR0cDovLycgLiAkZHVvc2h1b1BsdWdpbi0+Z2V0T3B0aW9uKCdzaG9ydF9uYW1lJykgLiAnLicgLiBEdW9zaHVvX0Fic3RyYWN0OjpET01BSU4gLicvYWRtaW4vPycuaHR0cF9idWlsZF9xdWVyeSgkcGFyYW1zKTs/PiIgc3R5bGU9IndpZHRoOjEwMCU7Ym9yZGVyOiAwIG5vbmU7Ij4NCjwvaWZyYW1lPg0KDQo8c2NyaXB0Pg0KalF1ZXJ5KGZ1bmN0aW9uKCl7DQp2YXIgJCA9IGpRdWVyeSwNCglpZnJhbWUgPSAkKCcjZHVvc2h1by1yZW1vdGUtd2luZG93JyksDQoJcmVzZXRJZnJhbWVIZWlnaHQgPSBmdW5jdGlvbigpew0KCQlpZnJhbWUuaGVpZ2h0KCQod2luZG93KS5oZWlnaHQoKSAtIGlmcmFtZS5vZmZzZXQoKS50b3AgLSA3MCk7DQoJfTsNCnJlc2V0SWZyYW1lSGVpZ2h0KCk7DQokKHdpbmRvdykucmVzaXplKHJlc2V0SWZyYW1lSGVpZ2h0KTsNCn0pOw0KPC9zY3JpcHQ+DQo8L2JvZHk+DQo8L2h0bWw+
</file>
<file type='file' name='../plus/duoshuo/Abstract.php'>
PD9waHAKCmNsYXNzIER1b3NodW9fQWJzdHJhY3QgewoJY29uc3QgRE9NQUlOID0gJ2R1b3NodW8uY29tJzsKCWNvbnN0IFNUQVRJQ19ET01BSU4gPSAnc3RhdGljLmR1b3NodW8uY29tJzsKCQoJcHJvdGVjdGVkIHN0YXRpYyAkX2luc3RhbmNlID0gbnVsbDsKCQoJLyoqCgkgKgoJICogQHZhciBzdHJpbmcKCSAqLwoJcHVibGljICRvcHRpb25zOwoJCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKXsKCQkkdGhpcy0+Z2V0T3B0aW9uKCdzaG9ydF9uYW1lJyk7CgkJJHRoaXMtPmdldE9wdGlvbignc2VjcmV0Jyk7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiByZmMzMzM5X3RvX215c3FsKCRzdHJpbmcpewoJCWlmIChtZXRob2RfZXhpc3RzKCdEYXRlVGltZScsICdjcmVhdGVGcm9tRm9ybWF0JykpewkvLwlwaHAgNS4zLjAKCQkJcmV0dXJuIERhdGVUaW1lOjpjcmVhdGVGcm9tRm9ybWF0KERhdGVUaW1lOjpSRkMzMzM5LCAkc3RyaW5nKS0+Zm9ybWF0KCdZLW0tZCBIOmk6cycpOwoJCX0KCQllbHNlewoJCQkkdGltZXN0YW1wID0gc3RydG90aW1lKCRzdHJpbmcpOwoJCQlyZXR1cm4gZ21kYXRlKCdZLW0tZCBIOmk6cycsICR0aW1lc3RhbXAgICsgJHRoaXMtPnRpbWV6b25lKCdnbXRfb2Zmc2V0JykgKiAzNjAwKTsKCQl9Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiByZmMzMzM5X3RvX215c3FsX2dtdCgkc3RyaW5nKXsKCQlpZiAobWV0aG9kX2V4aXN0cygnRGF0ZVRpbWUnLCAnY3JlYXRlRnJvbUZvcm1hdCcpKXsJLy8JcGhwIDUuMy4wCgkJCXJldHVybiBEYXRlVGltZTo6Y3JlYXRlRnJvbUZvcm1hdChEYXRlVGltZTo6UkZDMzMzOSwgJHN0cmluZyktPnNldFRpbWV6b25lKG5ldyBEYXRlVGltZVpvbmUoJ1VUQycpKS0+Zm9ybWF0KCdZLW0tZCBIOmk6cycpOwoJCX0KCQllbHNlewoJCQkkdGltZXN0YW1wID0gc3RydG90aW1lKCRzdHJpbmcpOwoJCQlyZXR1cm4gZ21kYXRlKCdZLW0tZCBIOmk6cycsICR0aW1lc3RhbXApOwoJCX0KCX0KCQoJCgkvKioKCSAqCgkgKiBAcmV0dXJuIER1b3NodW9fQ2xpZW50CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRDbGllbnQoJHJlbW90ZUF1dGggPSBudWxsKXsJLy/lpoLmnpzkuI3ovpPlhaXlj4LmlbDvvIzlsLHmmK/muLjlrqIKCQlyZXR1cm4gbmV3IER1b3NodW9fQ2xpZW50KCR0aGlzLT5nZXRPcHRpb24oJ3Nob3J0X25hbWUnKSwgJHRoaXMtPmdldE9wdGlvbignc2VjcmV0JyksICRyZW1vdGVBdXRoKTsKCX0KCQoJLyoqCgkgKiDojrflj5borr7nva4KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldE9wdGlvbigka2V5KXsKCQkvL+S+nei1luWtkOexu+WunueOsAoJCS8qCgkJIGlmKGlzc2V0KCR0aGlzLT5vcHRpb25zWyRrZXldKSl7CgkJCXJldHVybiAkdGhpcy0+b3B0aW9uc1ska2V5XTsKCQkgfQoJCSAqLwoJfQp9Cg==
</file>
<file type='file' name='../plus/duoshuo/Admin.php'>
PD9waHAgCgpjbGFzcyBEdW9zaHVvX0FkbWluewoJZnVuY3Rpb24gbWFuYWdlQ29tbWVudHMoKXsKCQkkYWpheF9jb21tZW50X2ZpbGUgPSBERURFVEVNUExBVEUuJy9kZWZhdWx0L2FqYXhmZWVkYmFjay5odG0nOwoKCQkkcGFyYW1zID0gYXJyYXkoCgkJCQkndGVtcGxhdGUnCQk9PgknZGVkZWNtcycsCgkJCQkvLydyZW1vdGVfYXV0aCcJPT4JRHVvc2h1b19BYnN0cmFjdDo6cmVtb3RlQXV0aCgpLAoJCSk7CgkJCgkJcmVxdWlyZSBERURFUk9PVC4nL3BsdXMvZHVvc2h1by90ZW1wbGV0cy9tYW5hZ2VfY29tbWVudHMuaHRtJzsKCQkKCX0KCQoJZnVuY3Rpb24gbG9jYWxDb25maWcoKXsKCQlyZXF1aXJlIERFREVST09ULicvcGx1cy9kdW9zaHVvL3RlbXBsZXRzL2xvY2FsX2NvbmZpZy5odG0nOwoJfQoJCglmdW5jdGlvbiBzYXZlTG9jYWxDb25maWcoKXsKCQkka2V5cyA9IGFycmF5KCdzaG9ydF9uYW1lJywnc2VjcmV0Jywnc2VvX2VuYWJsZWQnKTsKCQkkZHVvc2h1b1BsdWdpbiA9IER1b3NodW9fRGVkZWNtczo6Z2V0SW5zdGFuY2UoKTsKCQkKCQlmb3JlYWNoICgka2V5cyBhcyAka2V5KXsKCQkJaWYoaXNzZXQoJF9QT1NUWyRrZXldKSl7CgkJCQkgJGR1b3NodW9QbHVnaW4tPnVwZGF0ZU9wdGlvbigka2V5LCRfUE9TVFska2V5XSk7CgkJCX0KCQl9CgkJCgkJU2hvd21zZygn5L+d5a2Y5oiQ5Yqf77yBJywtMSwwLDEwMDApOwoJfQoJCgkKCWZ1bmN0aW9uIGhlbHBEb2N1bWVudCgpewoJCXJlcXVpcmUgREVERVJPT1QuJy9wbHVzL2R1b3NodW8vdGVtcGxldHMvaGVscF9kb2N1bWVudC5odG0nOwoJfQoJCglmdW5jdGlvbiByZXBsYWNlQ29tbWVudFRhZygpewoJCSRhamF4X2NvbW1lbnRfZmlsZSA9IERFREVURU1QTEFURS4nL2RlZmF1bHQvYWpheGZlZWRiYWNrLmh0bSc7CgkJJGFqYXhfY29tbWVudF9maWxlX2JhayA9IERFREVURU1QTEFURS4nL2RlZmF1bHQvYWpheGZlZWRiYWNrLmJhay5odG0nOwoJCWlmKGZpbGVfZXhpc3RzKCRhamF4X2NvbW1lbnRfZmlsZSkpewoJCQlpZighZmlsZV9leGlzdHMoJGFqYXhfY29tbWVudF9maWxlX2JhaykpewoJCQkJJHJldCA9IGNvcHkoJGFqYXhfY29tbWVudF9maWxlLCAkYWpheF9jb21tZW50X2ZpbGVfYmFrKTsKCQkJCWlmKCEkcmV0KXsKCQkJCQlTaG93bXNnKCflpIfku70nLiRhamF4X2NvbW1lbnRfZmlsZS4n5aSx6LSl77yM6K+35qOA5p+l6K+l55uu5b2V5p2D6ZmQ77yM5oiW5omL5Yqo5aSN5Yi25YiwJy4kYWpheF9jb21tZW50X2ZpbGVfYmFrLC0xLDAsMjAwMCk7CgkJCQl9CgkJCX0KCQkJZmlsZV9wdXRfY29udGVudHMoJGFqYXhfY29tbWVudF9maWxlLCBEdW9zaHVvX0RlZGVjbXM6OiRjb21tZW50VGFnKTsKCQkJU2hvd21zZygn5aSH5Lu95oiQ5Yqf77yBJywtMSwwLDEwMDApOwoJCX1lbHNlewoJCQlTaG93bXNnKERFREVURU1QTEFURS4nL2RlZmF1bHQvYWpheGZlZWRiYWNrLmJhay5odG0nLifkuI3lrZjlnKjvvIzor7foh6rooYzmj5LlhaXmoIfnrb4nLC0xLDAsMjAwMCk7CgkJfQoJfQp9Cg==
</file>
<file type='file' name='../plus/duoshuo/api.php'>
PD9waHAKcmVxdWlyZV9vbmNlKGRpcm5hbWUoX19GSUxFX18pLiIvLi4vLi4vaW5jbHVkZS9jb21tb24uaW5jLnBocCIpOwoKaWYgKCFleHRlbnNpb25fbG9hZGVkKCdqc29uJykpCglpbmNsdWRlX29uY2UgJ2NvbXBhdF9qc29uLnBocCc7CgpmdW5jdGlvbiBub2NhY2hlX2hlYWRlcnMoKXsKCWhlYWRlcigiUHJhZ21hOm5vLWNhY2hlXHJcbiIpOwoJaGVhZGVyKCJDYWNoZS1Db250cm9sOm5vLWNhY2hlXHJcbiIpOwoJaGVhZGVyKCJFeHBpcmVzOjBcclxuIik7Cn0KCmlmICghaGVhZGVyc19zZW50KCkpIHsKCW5vY2FjaGVfaGVhZGVycygpOy8vbWF4IGFnZSBUT0RPOgoJaGVhZGVyKCdDb250ZW50LVR5cGU6IHRleHQvamF2YXNjcmlwdDsgY2hhcnNldD11dGYtOCcpOwp9CgpyZXF1aXJlX29uY2UgJ0NsaWVudC5waHAnOwpyZXF1aXJlX29uY2UgJ0Fic3RyYWN0LnBocCc7CnJlcXVpcmVfb25jZSAnRGVkZWNtcy5waHAnOwpyZXF1aXJlX29uY2UgJ0xvY2FsU2VydmVyLnBocCc7CgppZiAoIWNsYXNzX2V4aXN0cygnRHVvc2h1b19EZWRlY21zJykpewoJJHJlc3BvbnNlID0gYXJyYXkoCgkJJ2NvZGUnCQkJPT4JMzAsCgkJJ2Vycm9yTWVzc2FnZScJPT4JJ0R1b3NodW8gcGx1Z2luIGhhc25cJ3QgYmVlbiBhY3RpdmF0ZWQuJwoJKTsKCWVjaG8ganNvbl9lbmNvZGUoJHJlc3BvbnNlKTsKCWV4aXQ7Cn0KCiRwbHVnaW4gPSBEdW9zaHVvX0RlZGVjbXM6OmdldEluc3RhbmNlKCk7Cgp0cnl7CglpZiAoJF9TRVJWRVJbJ1JFUVVFU1RfTUVUSE9EJ10gPT0gJ1BPU1QnKXsKCQkkc2VydmVyID0gbmV3IER1b3NodW9fTG9jYWxTZXJ2ZXIoJHBsdWdpbik7CgkJCgkJJGlucHV0ID0gJF9QT1NUOwoJCWlmIChnZXRfbWFnaWNfcXVvdGVzX2dwYygpKXsKCQkJZm9yZWFjaCgkaW5wdXQgYXMgJGtleSA9PiAkdmFsdWUpCgkJCQkkaW5wdXRbJGtleV0gPSBzdHJpcHNsYXNoZXMoJHZhbHVlKTsKCQl9CgkJJHNlcnZlci0+ZGlzcGF0Y2goJGlucHV0KTsKCX0KfQpjYXRjaCAoRXhjZXB0aW9uICRlKXsKCUR1b3NodW9fTG9jYWxTZXJ2ZXI6OnNlbmRFeGNlcHRpb24oJGUpOwoJZXhpdDsKfQo=
</file>
<file type='file' name='../plus/duoshuo/compat_json.php'>
PD9waHAKaWYgKCAhY2xhc3NfZXhpc3RzKCAnU2VydmljZXNfSlNPTicgKSApIDoKLyogdmltOiBzZXQgZXhwYW5kdGFiIHRhYnN0b3A9NCBzaGlmdHdpZHRoPTQgc29mdHRhYnN0b3A9NDogKi8KLyoqCiAqIENvbnZlcnRzIHRvIGFuZCBmcm9tIEpTT04gZm9ybWF0LgogKgogKiBKU09OIChKYXZhU2NyaXB0IE9iamVjdCBOb3RhdGlvbikgaXMgYSBsaWdodHdlaWdodCBkYXRhLWludGVyY2hhbmdlCiAqIGZvcm1hdC4gSXQgaXMgZWFzeSBmb3IgaHVtYW5zIHRvIHJlYWQgYW5kIHdyaXRlLiBJdCBpcyBlYXN5IGZvciBtYWNoaW5lcwogKiB0byBwYXJzZSBhbmQgZ2VuZXJhdGUuIEl0IGlzIGJhc2VkIG9uIGEgc3Vic2V0IG9mIHRoZSBKYXZhU2NyaXB0CiAqIFByb2dyYW1taW5nIExhbmd1YWdlLCBTdGFuZGFyZCBFQ01BLTI2MiAzcmQgRWRpdGlvbiAtIERlY2VtYmVyIDE5OTkuCiAqIFRoaXMgZmVhdHVyZSBjYW4gYWxzbyBiZSBmb3VuZCBpbiAgUHl0aG9uLiBKU09OIGlzIGEgdGV4dCBmb3JtYXQgdGhhdCBpcwogKiBjb21wbGV0ZWx5IGxhbmd1YWdlIGluZGVwZW5kZW50IGJ1dCB1c2VzIGNvbnZlbnRpb25zIHRoYXQgYXJlIGZhbWlsaWFyCiAqIHRvIHByb2dyYW1tZXJzIG9mIHRoZSBDLWZhbWlseSBvZiBsYW5ndWFnZXMsIGluY2x1ZGluZyBDLCBDKyssIEMjLCBKYXZhLAogKiBKYXZhU2NyaXB0LCBQZXJsLCBUQ0wsIGFuZCBtYW55IG90aGVycy4gVGhlc2UgcHJvcGVydGllcyBtYWtlIEpTT04gYW4KICogaWRlYWwgZGF0YS1pbnRlcmNoYW5nZSBsYW5ndWFnZS4KICoKICogVGhpcyBwYWNrYWdlIHByb3ZpZGVzIGEgc2ltcGxlIGVuY29kZXIgYW5kIGRlY29kZXIgZm9yIEpTT04gbm90YXRpb24uIEl0CiAqIGlzIGludGVuZGVkIGZvciB1c2Ugd2l0aCBjbGllbnQtc2lkZSBKYXZhc2NyaXB0IGFwcGxpY2F0aW9ucyB0aGF0IG1ha2UKICogdXNlIG9mIEhUVFBSZXF1ZXN0IHRvIHBlcmZvcm0gc2VydmVyIGNvbW11bmljYXRpb24gZnVuY3Rpb25zIC0gZGF0YSBjYW4KICogYmUgZW5jb2RlZCBpbnRvIEpTT04gbm90YXRpb24gZm9yIHVzZSBpbiBhIGNsaWVudC1zaWRlIGphdmFzY3JpcHQsIG9yCiAqIGRlY29kZWQgZnJvbSBpbmNvbWluZyBKYXZhc2NyaXB0IHJlcXVlc3RzLiBKU09OIGZvcm1hdCBpcyBuYXRpdmUgdG8KICogSmF2YXNjcmlwdCwgYW5kIGNhbiBiZSBkaXJlY3RseSBldmFsKCknZWQgd2l0aCBubyBmdXJ0aGVyIHBhcnNpbmcKICogb3ZlcmhlYWQKICoKICogQWxsIHN0cmluZ3Mgc2hvdWxkIGJlIGluIEFTQ0lJIG9yIFVURi04IGZvcm1hdCEKICoKICogTElDRU5TRTogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvcgogKiB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcKICogY29uZGl0aW9ucyBhcmUgbWV0OiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlCiAqIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nCiAqIGRpc2NsYWltZXIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUKICogY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lcgogKiBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlCiAqIGRpc3RyaWJ1dGlvbi4KICoKICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBgYEFTIElTJycgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQKICogV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YKICogTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4KICogTk8gRVZFTlQgU0hBTEwgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsCiAqIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsCiAqIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUwogKiBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5ECiAqIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUgogKiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFCiAqIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0gKICogREFNQUdFLgogKgogKiBAY2F0ZWdvcnkKICogQHBhY2thZ2UJCVNlcnZpY2VzX0pTT04KICogQGF1dGhvcgkJTWljaGFsIE1pZ3Vyc2tpIDxtaWtlLWpzb25AdGVjem5vLmNvbT4KICogQGF1dGhvcgkJTWF0dCBLbmFwcCA8bWRrbmFwcFthdF1nbWFpbFtkb3RdY29tPgogKiBAYXV0aG9yCQlCcmV0dCBTdGltbWVybWFuIDxicmV0dHN0aW1tZXJtYW5bYXRdZ21haWxbZG90XWNvbT4KICogQGNvcHlyaWdodAkyMDA1IE1pY2hhbCBNaWd1cnNraQogKiBAdmVyc2lvbiAgICAgQ1ZTOiAkSWQ6IEpTT04ucGhwIDI4ODIwMCAyMDA5LTA5LTA5IDE1OjQxOjI5WiBhbGFuX2sgJAogKiBAbGljZW5zZQkJaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ic2QtbGljZW5zZS5waHAKICogQGxpbmsJCWh0dHA6Ly9wZWFyLnBocC5uZXQvcGVwci9wZXByLXByb3Bvc2FsLXNob3cucGhwP2lkPTE5OAogKi8KCi8qKgogKiBNYXJrZXIgY29uc3RhbnQgZm9yIFNlcnZpY2VzX0pTT046OmRlY29kZSgpLCB1c2VkIHRvIGZsYWcgc3RhY2sgc3RhdGUKICovCmRlZmluZSgnU0VSVklDRVNfSlNPTl9TTElDRScsIDEpOwoKLyoqCiAqIE1hcmtlciBjb25zdGFudCBmb3IgU2VydmljZXNfSlNPTjo6ZGVjb2RlKCksIHVzZWQgdG8gZmxhZyBzdGFjayBzdGF0ZQogKi8KZGVmaW5lKCdTRVJWSUNFU19KU09OX0lOX1NUUicsICAyKTsKCi8qKgogKiBNYXJrZXIgY29uc3RhbnQgZm9yIFNlcnZpY2VzX0pTT046OmRlY29kZSgpLCB1c2VkIHRvIGZsYWcgc3RhY2sgc3RhdGUKICovCmRlZmluZSgnU0VSVklDRVNfSlNPTl9JTl9BUlInLCAgMyk7CgovKioKICogTWFya2VyIGNvbnN0YW50IGZvciBTZXJ2aWNlc19KU09OOjpkZWNvZGUoKSwgdXNlZCB0byBmbGFnIHN0YWNrIHN0YXRlCiAqLwpkZWZpbmUoJ1NFUlZJQ0VTX0pTT05fSU5fT0JKJywgIDQpOwoKLyoqCiAqIE1hcmtlciBjb25zdGFudCBmb3IgU2VydmljZXNfSlNPTjo6ZGVjb2RlKCksIHVzZWQgdG8gZmxhZyBzdGFjayBzdGF0ZQogKi8KZGVmaW5lKCdTRVJWSUNFU19KU09OX0lOX0NNVCcsIDUpOwoKLyoqCiAqIEJlaGF2aW9yIHN3aXRjaCBmb3IgU2VydmljZXNfSlNPTjo6ZGVjb2RlKCkKICovCmRlZmluZSgnU0VSVklDRVNfSlNPTl9MT09TRV9UWVBFJywgMTYpOwoKLyoqCiAqIEJlaGF2aW9yIHN3aXRjaCBmb3IgU2VydmljZXNfSlNPTjo6ZGVjb2RlKCkKICovCmRlZmluZSgnU0VSVklDRVNfSlNPTl9TVVBQUkVTU19FUlJPUlMnLCAzMik7CgovKioKICogQ29udmVydHMgdG8gYW5kIGZyb20gSlNPTiBmb3JtYXQuCiAqCiAqIEJyaWVmIGV4YW1wbGUgb2YgdXNlOgogKgogKiA8Y29kZT4KICogLy8gY3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIFNlcnZpY2VzX0pTT04KICogJGpzb24gPSBuZXcgU2VydmljZXNfSlNPTigpOwogKgogKiAvLyBjb252ZXJ0IGEgY29tcGxleGUgdmFsdWUgdG8gSlNPTiBub3RhdGlvbiwgYW5kIHNlbmQgaXQgdG8gdGhlIGJyb3dzZXIKICogJHZhbHVlID0gYXJyYXkoJ2ZvbycsICdiYXInLCBhcnJheSgxLCAyLCAnYmF6JyksIGFycmF5KDMsIGFycmF5KDQpKSk7CiAqICRvdXRwdXQgPSAkanNvbi0+ZW5jb2RlKCR2YWx1ZSk7CiAqCiAqIHByaW50KCRvdXRwdXQpOwogKiAvLyBwcmludHM6IFsiZm9vIiwiYmFyIixbMSwyLCJiYXoiXSxbMyxbNF1dXQogKgogKiAvLyBhY2NlcHQgaW5jb21pbmcgUE9TVCBkYXRhLCBhc3N1bWVkIHRvIGJlIGluIEpTT04gbm90YXRpb24KICogJGlucHV0ID0gZmlsZV9nZXRfY29udGVudHMoJ3BocDovL2lucHV0JywgMTAwMDAwMCk7CiAqICR2YWx1ZSA9ICRqc29uLT5kZWNvZGUoJGlucHV0KTsKICogPC9jb2RlPgogKi8KY2xhc3MgU2VydmljZXNfSlNPTgp7CiAvKioKCSogY29uc3RydWN0cyBhIG5ldyBKU09OIGluc3RhbmNlCgkqCgkqIEBwYXJhbSBpbnQgJHVzZSBvYmplY3QgYmVoYXZpb3IgZmxhZ3M7IGNvbWJpbmUgd2l0aCBib29sZWFuLU9SCgkqCgkqCQkJCQkJcG9zc2libGUgdmFsdWVzOgoJKgkJCQkJCS0gU0VSVklDRVNfSlNPTl9MT09TRV9UWVBFOiAgbG9vc2UgdHlwaW5nLgoJKgkJCQkJCQkJInsuLi59IiBzeW50YXggY3JlYXRlcyBhc3NvY2lhdGl2ZSBhcnJheXMKCSoJCQkJCQkJCWluc3RlYWQgb2Ygb2JqZWN0cyBpbiBkZWNvZGUoKS4KCSoJCQkJCQktIFNFUlZJQ0VTX0pTT05fU1VQUFJFU1NfRVJST1JTOiAgZXJyb3Igc3VwcHJlc3Npb24uCgkqCQkJCQkJCQlWYWx1ZXMgd2hpY2ggY2FuJ3QgYmUgZW5jb2RlZCAoZS5nLiByZXNvdXJjZXMpCgkqCQkJCQkJCQlhcHBlYXIgYXMgTlVMTCBpbnN0ZWFkIG9mIHRocm93aW5nIGVycm9ycy4KCSoJCQkJCQkJCUJ5IGRlZmF1bHQsIGEgZGVlcGx5LW5lc3RlZCByZXNvdXJjZSB3aWxsCgkqCQkJCQkJCQlidWJibGUgdXAgd2l0aCBhbiBlcnJvciwgc28gYWxsIHJldHVybiB2YWx1ZXMKCSoJCQkJCQkJCWZyb20gZW5jb2RlKCkgc2hvdWxkIGJlIGNoZWNrZWQgd2l0aCBpc0Vycm9yKCkKCSovCglmdW5jdGlvbiBTZXJ2aWNlc19KU09OKCR1c2UgPSAwKQoJewoJCSR0aGlzLT51c2UgPSAkdXNlOwoJfQoKIC8qKgoJKiBjb252ZXJ0IGEgc3RyaW5nIGZyb20gb25lIFVURi0xNiBjaGFyIHRvIG9uZSBVVEYtOCBjaGFyCgkqCgkqIE5vcm1hbGx5IHNob3VsZCBiZSBoYW5kbGVkIGJ5IG1iX2NvbnZlcnRfZW5jb2RpbmcsIGJ1dAoJKiBwcm92aWRlcyBhIHNsb3dlciBQSFAtb25seSBtZXRob2QgZm9yIGluc3RhbGxhdGlvbnMKCSogdGhhdCBsYWNrIHRoZSBtdWx0aWJ5ZSBzdHJpbmcgZXh0ZW5zaW9uLgoJKgoJKiBAcGFyYW0Jc3RyaW5nICAkdXRmMTYgIFVURi0xNiBjaGFyYWN0ZXIKCSogQHJldHVybiBzdHJpbmcgIFVURi04IGNoYXJhY3RlcgoJKiBAYWNjZXNzIHByaXZhdGUKCSovCglmdW5jdGlvbiB1dGYxNjJ1dGY4KCR1dGYxNikKCXsKCQkvLyBvaCBwbGVhc2Ugb2ggcGxlYXNlIG9oIHBsZWFzZSBvaCBwbGVhc2Ugb2ggcGxlYXNlCgkJaWYoZnVuY3Rpb25fZXhpc3RzKCdtYl9jb252ZXJ0X2VuY29kaW5nJykpIHsKCQkJcmV0dXJuIG1iX2NvbnZlcnRfZW5jb2RpbmcoJHV0ZjE2LCAnVVRGLTgnLCAnVVRGLTE2Jyk7CgkJfQoKCQkkYnl0ZXMgPSAob3JkKCR1dGYxNlswXSkgPDwgOCkgfCBvcmQoJHV0ZjE2WzFdKTsKCgkJc3dpdGNoKHRydWUpIHsKCQkJY2FzZSAoKDB4N0YgJiAkYnl0ZXMpID09ICRieXRlcyk6CgkJCQkvLyB0aGlzIGNhc2Ugc2hvdWxkIG5ldmVyIGJlIHJlYWNoZWQsIGJlY2F1c2Ugd2UgYXJlIGluIEFTQ0lJIHJhbmdlCgkJCQkvLyBzZWU6IGh0dHA6Ly93d3cuY2wuY2FtLmFjLnVrL35tZ2syNS91bmljb2RlLmh0bWwjdXRmLTgKCQkJCXJldHVybiBjaHIoMHg3RiAmICRieXRlcyk7CgoJCQljYXNlICgweDA3RkYgJiAkYnl0ZXMpID09ICRieXRlczoKCQkJCS8vIHJldHVybiBhIDItYnl0ZSBVVEYtOCBjaGFyYWN0ZXIKCQkJCS8vIHNlZTogaHR0cDovL3d3dy5jbC5jYW0uYWMudWsvfm1nazI1L3VuaWNvZGUuaHRtbCN1dGYtOAoJCQkJcmV0dXJuIGNocigweEMwIHwgKCgkYnl0ZXMgPj4gNikgJiAweDFGKSkKCQkJCQkuIGNocigweDgwIHwgKCRieXRlcyAmIDB4M0YpKTsKCgkJCWNhc2UgKDB4RkZGRiAmICRieXRlcykgPT0gJGJ5dGVzOgoJCQkJLy8gcmV0dXJuIGEgMy1ieXRlIFVURi04IGNoYXJhY3RlcgoJCQkJLy8gc2VlOiBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQlyZXR1cm4gY2hyKDB4RTAgfCAoKCRieXRlcyA+PiAxMikgJiAweDBGKSkKCQkJCQkuIGNocigweDgwIHwgKCgkYnl0ZXMgPj4gNikgJiAweDNGKSkKCQkJCQkuIGNocigweDgwIHwgKCRieXRlcyAmIDB4M0YpKTsKCQl9CgoJCS8vIGlnbm9yaW5nIFVURi0zMiBmb3Igbm93LCBzb3JyeQoJCXJldHVybiAnJzsKCX0KCiAvKioKCSogY29udmVydCBhIHN0cmluZyBmcm9tIG9uZSBVVEYtOCBjaGFyIHRvIG9uZSBVVEYtMTYgY2hhcgoJKgoJKiBOb3JtYWxseSBzaG91bGQgYmUgaGFuZGxlZCBieSBtYl9jb252ZXJ0X2VuY29kaW5nLCBidXQKCSogcHJvdmlkZXMgYSBzbG93ZXIgUEhQLW9ubHkgbWV0aG9kIGZvciBpbnN0YWxsYXRpb25zCgkqIHRoYXQgbGFjayB0aGUgbXVsdGlieWUgc3RyaW5nIGV4dGVuc2lvbi4KCSoKCSogQHBhcmFtCXN0cmluZyAgJHV0ZjggVVRGLTggY2hhcmFjdGVyCgkqIEByZXR1cm4gc3RyaW5nICBVVEYtMTYgY2hhcmFjdGVyCgkqIEBhY2Nlc3MgcHJpdmF0ZQoJKi8KCWZ1bmN0aW9uIHV0ZjgydXRmMTYoJHV0ZjgpCgl7CgkJLy8gb2ggcGxlYXNlIG9oIHBsZWFzZSBvaCBwbGVhc2Ugb2ggcGxlYXNlIG9oIHBsZWFzZQoJCWlmKGZ1bmN0aW9uX2V4aXN0cygnbWJfY29udmVydF9lbmNvZGluZycpKSB7CgkJCXJldHVybiBtYl9jb252ZXJ0X2VuY29kaW5nKCR1dGY4LCAnVVRGLTE2JywgJ1VURi04Jyk7CgkJfQoKCQlzd2l0Y2goc3RybGVuKCR1dGY4KSkgewoJCQljYXNlIDE6CgkJCQkvLyB0aGlzIGNhc2Ugc2hvdWxkIG5ldmVyIGJlIHJlYWNoZWQsIGJlY2F1c2Ugd2UgYXJlIGluIEFTQ0lJIHJhbmdlCgkJCQkvLyBzZWU6IGh0dHA6Ly93d3cuY2wuY2FtLmFjLnVrL35tZ2syNS91bmljb2RlLmh0bWwjdXRmLTgKCQkJCXJldHVybiAkdXRmODsKCgkJCWNhc2UgMjoKCQkJCS8vIHJldHVybiBhIFVURi0xNiBjaGFyYWN0ZXIgZnJvbSBhIDItYnl0ZSBVVEYtOCBjaGFyCgkJCQkvLyBzZWU6IGh0dHA6Ly93d3cuY2wuY2FtLmFjLnVrL35tZ2syNS91bmljb2RlLmh0bWwjdXRmLTgKCQkJCXJldHVybiBjaHIoMHgwNyAmIChvcmQoJHV0ZjhbMF0pID4+IDIpKQoJCQkJCS4gY2hyKCgweEMwICYgKG9yZCgkdXRmOFswXSkgPDwgNikpCgkJCQkJCXwgKDB4M0YgJiBvcmQoJHV0ZjhbMV0pKSk7CgoJCQljYXNlIDM6CgkJCQkvLyByZXR1cm4gYSBVVEYtMTYgY2hhcmFjdGVyIGZyb20gYSAzLWJ5dGUgVVRGLTggY2hhcgoJCQkJLy8gc2VlOiBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQlyZXR1cm4gY2hyKCgweEYwICYgKG9yZCgkdXRmOFswXSkgPDwgNCkpCgkJCQkJCXwgKDB4MEYgJiAob3JkKCR1dGY4WzFdKSA+PiAyKSkpCgkJCQkJLiBjaHIoKDB4QzAgJiAob3JkKCR1dGY4WzFdKSA8PCA2KSkKCQkJCQkJfCAoMHg3RiAmIG9yZCgkdXRmOFsyXSkpKTsKCQl9CgoJCS8vIGlnbm9yaW5nIFVURi0zMiBmb3Igbm93LCBzb3JyeQoJCXJldHVybiAnJzsKCX0KCiAvKioKCSogZW5jb2RlcyBhbiBhcmJpdHJhcnkgdmFyaWFibGUgaW50byBKU09OIGZvcm1hdCAoYW5kIHNlbmRzIEpTT04gSGVhZGVyKQoJKgoJKiBAcGFyYW0JbWl4ZWQgJHZhcglhbnkgbnVtYmVyLCBib29sZWFuLCBzdHJpbmcsIGFycmF5LCBvciBvYmplY3QgdG8gYmUgZW5jb2RlZC4KCSoJCQkJCQlzZWUgYXJndW1lbnQgMSB0byBTZXJ2aWNlc19KU09OKCkgYWJvdmUgZm9yIGFycmF5LXBhcnNpbmcgYmVoYXZpb3IuCgkqCQkJCQkJaWYgdmFyIGlzIGEgc3RybmcsIG5vdGUgdGhhdCBlbmNvZGUoKSBhbHdheXMgZXhwZWN0cyBpdAoJKgkJCQkJCXRvIGJlIGluIEFTQ0lJIG9yIFVURi04IGZvcm1hdCEKCSoKCSogQHJldHVybiBtaXhlZCBKU09OIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBpbnB1dCB2YXIgb3IgYW4gZXJyb3IgaWYgYSBwcm9ibGVtIG9jY3VycwoJKiBAYWNjZXNzIHB1YmxpYwoJKi8KCWZ1bmN0aW9uIGVuY29kZSgkdmFyKQoJewoJCWhlYWRlcignQ29udGVudC10eXBlOiBhcHBsaWNhdGlvbi9qc29uJyk7CgkJcmV0dXJuICR0aGlzLT5fZW5jb2RlKCR2YXIpOwoJfQoJLyoqCgkqIGVuY29kZXMgYW4gYXJiaXRyYXJ5IHZhcmlhYmxlIGludG8gSlNPTiBmb3JtYXQgd2l0aG91dCBKU09OIEhlYWRlciAtIHdhcm5pbmcgLSBtYXkgYWxsb3cgQ1NTISEhISkKCSoKCSogQHBhcmFtCW1peGVkICR2YXIJYW55IG51bWJlciwgYm9vbGVhbiwgc3RyaW5nLCBhcnJheSwgb3Igb2JqZWN0IHRvIGJlIGVuY29kZWQuCgkqCQkJCQkJc2VlIGFyZ3VtZW50IDEgdG8gU2VydmljZXNfSlNPTigpIGFib3ZlIGZvciBhcnJheS1wYXJzaW5nIGJlaGF2aW9yLgoJKgkJCQkJCWlmIHZhciBpcyBhIHN0cm5nLCBub3RlIHRoYXQgZW5jb2RlKCkgYWx3YXlzIGV4cGVjdHMgaXQKCSoJCQkJCQl0byBiZSBpbiBBU0NJSSBvciBVVEYtOCBmb3JtYXQhCgkqCgkqIEByZXR1cm4gbWl4ZWQgSlNPTiBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgaW5wdXQgdmFyIG9yIGFuIGVycm9yIGlmIGEgcHJvYmxlbSBvY2N1cnMKCSogQGFjY2VzcyBwdWJsaWMKCSovCglmdW5jdGlvbiBlbmNvZGVVbnNhZmUoJHZhcikKCXsKCQlyZXR1cm4gJHRoaXMtPl9lbmNvZGUoJHZhcik7Cgl9CgkvKioKCSogUFJJVkFURSBDT0RFIHRoYXQgZG9lcyB0aGUgd29yayBvZiBlbmNvZGVzIGFuIGFyYml0cmFyeSB2YXJpYWJsZSBpbnRvIEpTT04gZm9ybWF0CgkqCgkqIEBwYXJhbQltaXhlZCAkdmFyCWFueSBudW1iZXIsIGJvb2xlYW4sIHN0cmluZywgYXJyYXksIG9yIG9iamVjdCB0byBiZSBlbmNvZGVkLgoJKgkJCQkJCXNlZSBhcmd1bWVudCAxIHRvIFNlcnZpY2VzX0pTT04oKSBhYm92ZSBmb3IgYXJyYXktcGFyc2luZyBiZWhhdmlvci4KCSoJCQkJCQlpZiB2YXIgaXMgYSBzdHJuZywgbm90ZSB0aGF0IGVuY29kZSgpIGFsd2F5cyBleHBlY3RzIGl0CgkqCQkJCQkJdG8gYmUgaW4gQVNDSUkgb3IgVVRGLTggZm9ybWF0IQoJKgoJKiBAcmV0dXJuIG1peGVkIEpTT04gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGlucHV0IHZhciBvciBhbiBlcnJvciBpZiBhIHByb2JsZW0gb2NjdXJzCgkqIEBhY2Nlc3MgcHVibGljCgkqLwoJZnVuY3Rpb24gX2VuY29kZSgkdmFyKQoJewoKCQlzd2l0Y2ggKGdldHR5cGUoJHZhcikpIHsKCQkJY2FzZSAnYm9vbGVhbic6CgkJCQlyZXR1cm4gJHZhciA/ICd0cnVlJyA6ICdmYWxzZSc7CgoJCQljYXNlICdOVUxMJzoKCQkJCXJldHVybiAnbnVsbCc7CgoJCQljYXNlICdpbnRlZ2VyJzoKCQkJCXJldHVybiAoaW50KSAkdmFyOwoKCQkJY2FzZSAnZG91YmxlJzoKCQkJY2FzZSAnZmxvYXQnOgoJCQkJcmV0dXJuIChmbG9hdCkgJHZhcjsKCgkJCWNhc2UgJ3N0cmluZyc6CgkJCQkvLyBTVFJJTkdTIEFSRSBFWFBFQ1RFRCBUTyBCRSBJTiBBU0NJSSBPUiBVVEYtOCBGT1JNQVQKCQkJCSRhc2NpaSA9ICcnOwoJCQkJJHN0cmxlbl92YXIgPSBzdHJsZW4oJHZhcik7CgoJCQkvKgoJCQkJKiBJdGVyYXRlIG92ZXIgZXZlcnkgY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcsCgkJCQkqIGVzY2FwaW5nIHdpdGggYSBzbGFzaCBvciBlbmNvZGluZyB0byBVVEYtOCB3aGVyZSBuZWNlc3NhcnkKCQkJCSovCgkJCQlmb3IgKCRjID0gMDsgJGMgPCAkc3RybGVuX3ZhcjsgKyskYykgewoKCQkJCQkkb3JkX3Zhcl9jID0gb3JkKCR2YXJbJGNdKTsKCgkJCQkJc3dpdGNoICh0cnVlKSB7CgkJCQkJCWNhc2UgJG9yZF92YXJfYyA9PSAweDA4OgoJCQkJCQkJJGFzY2lpIC49ICdcYic7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAkb3JkX3Zhcl9jID09IDB4MDk6CgkJCQkJCQkkYXNjaWkgLj0gJ1x0JzsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICRvcmRfdmFyX2MgPT0gMHgwQToKCQkJCQkJCSRhc2NpaSAuPSAnXG4nOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgJG9yZF92YXJfYyA9PSAweDBDOgoJCQkJCQkJJGFzY2lpIC49ICdcZic7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAkb3JkX3Zhcl9jID09IDB4MEQ6CgkJCQkJCQkkYXNjaWkgLj0gJ1xyJzsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJY2FzZSAkb3JkX3Zhcl9jID09IDB4MjI6CgkJCQkJCWNhc2UgJG9yZF92YXJfYyA9PSAweDJGOgoJCQkJCQljYXNlICRvcmRfdmFyX2MgPT0gMHg1QzoKCQkJCQkJCS8vIGRvdWJsZSBxdW90ZSwgc2xhc2gsIHNsb3NoCgkJCQkJCQkkYXNjaWkgLj0gJ1xcJy4kdmFyWyRjXTsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJY2FzZSAoKCRvcmRfdmFyX2MgPj0gMHgyMCkgJiYgKCRvcmRfdmFyX2MgPD0gMHg3RikpOgoJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTAwMDAwMDAwIC0gVS0wMDAwMDA3RiAoc2FtZSBhcyBBU0NJSSkKCQkJCQkJCSRhc2NpaSAuPSAkdmFyWyRjXTsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJY2FzZSAoKCRvcmRfdmFyX2MgJiAweEUwKSA9PSAweEMwKToKCQkJCQkJCS8vIGNoYXJhY3RlcnMgVS0wMDAwMDA4MCAtIFUtMDAwMDA3RkYsIG1hc2sgMTEwWFhYWFgKCQkJCQkJCS8vIHNlZSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQkJCQlpZiAoJGMrMSA+PSAkc3RybGVuX3ZhcikgewoJCQkJCQkJCSRjICs9IDE7CgkJCQkJCQkJJGFzY2lpIC49ICc/JzsKCQkJCQkJCQlicmVhazsKCQkJCQkJCX0KCgkJCQkJCQkkY2hhciA9IHBhY2soJ0MqJywgJG9yZF92YXJfYywgb3JkKCR2YXJbJGMgKyAxXSkpOwoJCQkJCQkJJGMgKz0gMTsKCQkJCQkJCSR1dGYxNiA9ICR0aGlzLT51dGY4MnV0ZjE2KCRjaGFyKTsKCQkJCQkJCSRhc2NpaSAuPSBzcHJpbnRmKCdcdSUwNHMnLCBiaW4yaGV4KCR1dGYxNikpOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlICgoJG9yZF92YXJfYyAmIDB4RjApID09IDB4RTApOgoJCQkJCQkJaWYgKCRjKzIgPj0gJHN0cmxlbl92YXIpIHsKCQkJCQkJCQkkYyArPSAyOwoJCQkJCQkJCSRhc2NpaSAuPSAnPyc7CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQl9CgkJCQkJCQkvLyBjaGFyYWN0ZXJzIFUtMDAwMDA4MDAgLSBVLTAwMDBGRkZGLCBtYXNrIDExMTBYWFhYCgkJCQkJCQkvLyBzZWUgaHR0cDovL3d3dy5jbC5jYW0uYWMudWsvfm1nazI1L3VuaWNvZGUuaHRtbCN1dGYtOAoJCQkJCQkJJGNoYXIgPSBwYWNrKCdDKicsICRvcmRfdmFyX2MsCgkJCQkJCQkJCQlAb3JkKCR2YXJbJGMgKyAxXSksCgkJCQkJCQkJCQlAb3JkKCR2YXJbJGMgKyAyXSkpOwoJCQkJCQkJJGMgKz0gMjsKCQkJCQkJCSR1dGYxNiA9ICR0aGlzLT51dGY4MnV0ZjE2KCRjaGFyKTsKCQkJCQkJCSRhc2NpaSAuPSBzcHJpbnRmKCdcdSUwNHMnLCBiaW4yaGV4KCR1dGYxNikpOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlICgoJG9yZF92YXJfYyAmIDB4RjgpID09IDB4RjApOgoJCQkJCQkJaWYgKCRjKzMgPj0gJHN0cmxlbl92YXIpIHsKCQkJCQkJCQkkYyArPSAzOwoJCQkJCQkJCSRhc2NpaSAuPSAnPyc7CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQl9CgkJCQkJCQkvLyBjaGFyYWN0ZXJzIFUtMDAwMTAwMDAgLSBVLTAwMUZGRkZGLCBtYXNrIDExMTEwWFhYCgkJCQkJCQkvLyBzZWUgaHR0cDovL3d3dy5jbC5jYW0uYWMudWsvfm1nazI1L3VuaWNvZGUuaHRtbCN1dGYtOAoJCQkJCQkJJGNoYXIgPSBwYWNrKCdDKicsICRvcmRfdmFyX2MsCgkJCQkJCQkJCQlvcmQoJHZhclskYyArIDFdKSwKCQkJCQkJCQkJCW9yZCgkdmFyWyRjICsgMl0pLAoJCQkJCQkJCQkJb3JkKCR2YXJbJGMgKyAzXSkpOwoJCQkJCQkJJGMgKz0gMzsKCQkJCQkJCSR1dGYxNiA9ICR0aGlzLT51dGY4MnV0ZjE2KCRjaGFyKTsKCQkJCQkJCSRhc2NpaSAuPSBzcHJpbnRmKCdcdSUwNHMnLCBiaW4yaGV4KCR1dGYxNikpOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlICgoJG9yZF92YXJfYyAmIDB4RkMpID09IDB4RjgpOgoJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTAwMjAwMDAwIC0gVS0wM0ZGRkZGRiwgbWFzayAxMTExMTBYWAoJCQkJCQkJLy8gc2VlIGh0dHA6Ly93d3cuY2wuY2FtLmFjLnVrL35tZ2syNS91bmljb2RlLmh0bWwjdXRmLTgKCQkJCQkJCWlmICgkYys0ID49ICRzdHJsZW5fdmFyKSB7CgkJCQkJCQkJJGMgKz0gNDsKCQkJCQkJCQkkYXNjaWkgLj0gJz8nOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJfQoJCQkJCQkJJGNoYXIgPSBwYWNrKCdDKicsICRvcmRfdmFyX2MsCgkJCQkJCQkJCQlvcmQoJHZhclskYyArIDFdKSwKCQkJCQkJCQkJCW9yZCgkdmFyWyRjICsgMl0pLAoJCQkJCQkJCQkJb3JkKCR2YXJbJGMgKyAzXSksCgkJCQkJCQkJCQlvcmQoJHZhclskYyArIDRdKSk7CgkJCQkJCQkkYyArPSA0OwoJCQkJCQkJJHV0ZjE2ID0gJHRoaXMtPnV0ZjgydXRmMTYoJGNoYXIpOwoJCQkJCQkJJGFzY2lpIC49IHNwcmludGYoJ1x1JTA0cycsIGJpbjJoZXgoJHV0ZjE2KSk7CgkJCQkJCQlicmVhazsKCgkJCQkJCWNhc2UgKCgkb3JkX3Zhcl9jICYgMHhGRSkgPT0gMHhGQyk6CgkJCQkJCWlmICgkYys1ID49ICRzdHJsZW5fdmFyKSB7CgkJCQkJCQkJJGMgKz0gNTsKCQkJCQkJCQkkYXNjaWkgLj0gJz8nOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJfQoJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTA0MDAwMDAwIC0gVS03RkZGRkZGRiwgbWFzayAxMTExMTEwWAoJCQkJCQkJLy8gc2VlIGh0dHA6Ly93d3cuY2wuY2FtLmFjLnVrL35tZ2syNS91bmljb2RlLmh0bWwjdXRmLTgKCQkJCQkJCSRjaGFyID0gcGFjaygnQyonLCAkb3JkX3Zhcl9jLAoJCQkJCQkJCQkJb3JkKCR2YXJbJGMgKyAxXSksCgkJCQkJCQkJCQlvcmQoJHZhclskYyArIDJdKSwKCQkJCQkJCQkJCW9yZCgkdmFyWyRjICsgM10pLAoJCQkJCQkJCQkJb3JkKCR2YXJbJGMgKyA0XSksCgkJCQkJCQkJCQlvcmQoJHZhclskYyArIDVdKSk7CgkJCQkJCQkkYyArPSA1OwoJCQkJCQkJJHV0ZjE2ID0gJHRoaXMtPnV0ZjgydXRmMTYoJGNoYXIpOwoJCQkJCQkJJGFzY2lpIC49IHNwcmludGYoJ1x1JTA0cycsIGJpbjJoZXgoJHV0ZjE2KSk7CgkJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCQlyZXR1cm4gICciJy4kYXNjaWkuJyInOwoKCQkJY2FzZSAnYXJyYXknOgoJCQkvKgoJCQkJKiBBcyBwZXIgSlNPTiBzcGVjIGlmIGFueSBhcnJheSBrZXkgaXMgbm90IGFuIGludGVnZXIKCQkJCSogd2UgbXVzdCB0cmVhdCB0aGUgdGhlIHdob2xlIGFycmF5IGFzIGFuIG9iamVjdC4gV2UKCQkJCSogYWxzbyB0cnkgdG8gY2F0Y2ggYSBzcGFyc2VseSBwb3B1bGF0ZWQgYXNzb2NpYXRpdmUKCQkJCSogYXJyYXkgd2l0aCBudW1lcmljIGtleXMgaGVyZSBiZWNhdXNlIHNvbWUgSlMgZW5naW5lcwoJCQkJKiB3aWxsIGNyZWF0ZSBhbiBhcnJheSB3aXRoIGVtcHR5IGluZGV4ZXMgdXAgdG8KCQkJCSogbWF4X2luZGV4IHdoaWNoIGNhbiBjYXVzZSBtZW1vcnkgaXNzdWVzIGFuZCBiZWNhdXNlCgkJCQkqIHRoZSBrZXlzLCB3aGljaCBtYXkgYmUgcmVsZXZhbnQsIHdpbGwgYmUgcmVtYXBwZWQKCQkJCSogb3RoZXJ3aXNlLgoJCQkJKgoJCQkJKiBBcyBwZXIgdGhlIEVDTUEgYW5kIEpTT04gc3BlY2lmaWNhdGlvbiBhbiBvYmplY3QgbWF5CgkJCQkqIGhhdmUgYW55IHN0cmluZyBhcyBhIHByb3BlcnR5LiBVbmZvcnR1bmF0ZWx5IGR1ZSB0bwoJCQkJKiBhIGhvbGUgaW4gdGhlIEVDTUEgc3BlY2lmaWNhdGlvbiBpZiB0aGUga2V5IGlzIGEKCQkJCSogRUNNQSByZXNlcnZlZCB3b3JkIG9yIHN0YXJ0cyB3aXRoIGEgZGlnaXQgdGhlCgkJCQkqIHBhcmFtZXRlciBpcyBvbmx5IGFjY2Vzc2libGUgdXNpbmcgRUNNQVNjcmlwdCdzCgkJCQkqIGJyYWNrZXQgbm90YXRpb24uCgkJCQkqLwoKCQkJCS8vIHRyZWF0IGFzIGEgSlNPTiBvYmplY3QKCQkJCWlmIChpc19hcnJheSgkdmFyKSAmJiBjb3VudCgkdmFyKSAmJiAoYXJyYXlfa2V5cygkdmFyKSAhPT0gcmFuZ2UoMCwgc2l6ZW9mKCR2YXIpIC0gMSkpKSB7CgkJCQkJJHByb3BlcnRpZXMgPSBhcnJheV9tYXAoYXJyYXkoJHRoaXMsICduYW1lX3ZhbHVlJyksCgkJCQkJCQkJCQkJYXJyYXlfa2V5cygkdmFyKSwKCQkJCQkJCQkJCQlhcnJheV92YWx1ZXMoJHZhcikpOwoKCQkJCQlmb3JlYWNoKCRwcm9wZXJ0aWVzIGFzICRwcm9wZXJ0eSkgewoJCQkJCQlpZihTZXJ2aWNlc19KU09OOjppc0Vycm9yKCRwcm9wZXJ0eSkpIHsKCQkJCQkJCXJldHVybiAkcHJvcGVydHk7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCXJldHVybiAneycgLiBqb2luKCcsJywgJHByb3BlcnRpZXMpIC4gJ30nOwoJCQkJfQoKCQkJCS8vIHRyZWF0IGl0IGxpa2UgYSByZWd1bGFyIGFycmF5CgkJCQkkZWxlbWVudHMgPSBhcnJheV9tYXAoYXJyYXkoJHRoaXMsICdfZW5jb2RlJyksICR2YXIpOwoKCQkJCWZvcmVhY2goJGVsZW1lbnRzIGFzICRlbGVtZW50KSB7CgkJCQkJaWYoU2VydmljZXNfSlNPTjo6aXNFcnJvcigkZWxlbWVudCkpIHsKCQkJCQkJcmV0dXJuICRlbGVtZW50OwoJCQkJCX0KCQkJCX0KCgkJCQlyZXR1cm4gJ1snIC4gam9pbignLCcsICRlbGVtZW50cykgLiAnXSc7CgoJCQljYXNlICdvYmplY3QnOgoJCQkJJHZhcnMgPSBnZXRfb2JqZWN0X3ZhcnMoJHZhcik7CgoJCQkJJHByb3BlcnRpZXMgPSBhcnJheV9tYXAoYXJyYXkoJHRoaXMsICduYW1lX3ZhbHVlJyksCgkJCQkJCQkJCQlhcnJheV9rZXlzKCR2YXJzKSwKCQkJCQkJCQkJCWFycmF5X3ZhbHVlcygkdmFycykpOwoKCQkJCWZvcmVhY2goJHByb3BlcnRpZXMgYXMgJHByb3BlcnR5KSB7CgkJCQkJaWYoU2VydmljZXNfSlNPTjo6aXNFcnJvcigkcHJvcGVydHkpKSB7CgkJCQkJCXJldHVybiAkcHJvcGVydHk7CgkJCQkJfQoJCQkJfQoKCQkJCXJldHVybiAneycgLiBqb2luKCcsJywgJHByb3BlcnRpZXMpIC4gJ30nOwoKCQkJZGVmYXVsdDoKCQkJCXJldHVybiAoJHRoaXMtPnVzZSAmIFNFUlZJQ0VTX0pTT05fU1VQUFJFU1NfRVJST1JTKQoJCQkJCT8gJ251bGwnCgkJCQkJOiBuZXcgU2VydmljZXNfSlNPTl9FcnJvcihnZXR0eXBlKCR2YXIpLiIgY2FuIG5vdCBiZSBlbmNvZGVkIGFzIEpTT04gc3RyaW5nIik7CgkJfQoJfQoKIC8qKgoJKiBhcnJheS13YWxraW5nIGZ1bmN0aW9uIGZvciB1c2UgaW4gZ2VuZXJhdGluZyBKU09OLWZvcm1hdHRlZCBuYW1lLXZhbHVlIHBhaXJzCgkqCgkqIEBwYXJhbQlzdHJpbmcgICRuYW1lIG5hbWUgb2Yga2V5IHRvIHVzZQoJKiBAcGFyYW0JbWl4ZWQgJHZhbHVlICByZWZlcmVuY2UgdG8gYW4gYXJyYXkgZWxlbWVudCB0byBiZSBlbmNvZGVkCgkqCgkqIEByZXR1cm4gc3RyaW5nICBKU09OLWZvcm1hdHRlZCBuYW1lLXZhbHVlIHBhaXIsIGxpa2UgJyJuYW1lIjp2YWx1ZScKCSogQGFjY2VzcyBwcml2YXRlCgkqLwoJZnVuY3Rpb24gbmFtZV92YWx1ZSgkbmFtZSwgJHZhbHVlKQoJewoJCSRlbmNvZGVkX3ZhbHVlID0gJHRoaXMtPl9lbmNvZGUoJHZhbHVlKTsKCgkJaWYoU2VydmljZXNfSlNPTjo6aXNFcnJvcigkZW5jb2RlZF92YWx1ZSkpIHsKCQkJcmV0dXJuICRlbmNvZGVkX3ZhbHVlOwoJCX0KCgkJcmV0dXJuICR0aGlzLT5fZW5jb2RlKHN0cnZhbCgkbmFtZSkpIC4gJzonIC4gJGVuY29kZWRfdmFsdWU7Cgl9CgogLyoqCgkqIHJlZHVjZSBhIHN0cmluZyBieSByZW1vdmluZyBsZWFkaW5nIGFuZCB0cmFpbGluZyBjb21tZW50cyBhbmQgd2hpdGVzcGFjZQoJKgoJKiBAcGFyYW0JJHN0cglzdHJpbmcJc3RyaW5nIHZhbHVlIHRvIHN0cmlwIG9mIGNvbW1lbnRzIGFuZCB3aGl0ZXNwYWNlCgkqCgkqIEByZXR1cm4gc3RyaW5nICBzdHJpbmcgdmFsdWUgc3RyaXBwZWQgb2YgY29tbWVudHMgYW5kIHdoaXRlc3BhY2UKCSogQGFjY2VzcyBwcml2YXRlCgkqLwoJZnVuY3Rpb24gcmVkdWNlX3N0cmluZygkc3RyKQoJewoJCSRzdHIgPSBwcmVnX3JlcGxhY2UoYXJyYXkoCgoJCQkJLy8gZWxpbWluYXRlIHNpbmdsZSBsaW5lIGNvbW1lbnRzIGluICcvLyAuLi4nIGZvcm0KCQkJCScjXlxzKi8vKC4rKSQjbScsCgoJCQkJLy8gZWxpbWluYXRlIG11bHRpLWxpbmUgY29tbWVudHMgaW4gJy8qIC4uLiAqLycgZm9ybSwgYXQgc3RhcnQgb2Ygc3RyaW5nCgkJCQknI15ccyovXCooLispXCovI1VzJywKCgkJCQkvLyBlbGltaW5hdGUgbXVsdGktbGluZSBjb21tZW50cyBpbiAnLyogLi4uICovJyBmb3JtLCBhdCBlbmQgb2Ygc3RyaW5nCgkJCQknIy9cKiguKylcKi9ccyokI1VzJwoKCQkJKSwgJycsICRzdHIpOwoKCQkvLyBlbGltaW5hdGUgZXh0cmFuZW91cyBzcGFjZQoJCXJldHVybiB0cmltKCRzdHIpOwoJfQoKIC8qKgoJKiBkZWNvZGVzIGEgSlNPTiBzdHJpbmcgaW50byBhcHByb3ByaWF0ZSB2YXJpYWJsZQoJKgoJKiBAcGFyYW0Jc3RyaW5nICAkc3RyCUpTT04tZm9ybWF0dGVkIHN0cmluZwoJKgoJKiBAcmV0dXJuIG1peGVkIG51bWJlciwgYm9vbGVhbiwgc3RyaW5nLCBhcnJheSwgb3Igb2JqZWN0CgkqCQkJCWNvcnJlc3BvbmRpbmcgdG8gZ2l2ZW4gSlNPTiBpbnB1dCBzdHJpbmcuCgkqCQkJCVNlZSBhcmd1bWVudCAxIHRvIFNlcnZpY2VzX0pTT04oKSBhYm92ZSBmb3Igb2JqZWN0LW91dHB1dCBiZWhhdmlvci4KCSoJCQkJTm90ZSB0aGF0IGRlY29kZSgpIGFsd2F5cyByZXR1cm5zIHN0cmluZ3MKCSoJCQkJaW4gQVNDSUkgb3IgVVRGLTggZm9ybWF0IQoJKiBAYWNjZXNzIHB1YmxpYwoJKi8KCWZ1bmN0aW9uIGRlY29kZSgkc3RyKQoJewoJCSRzdHIgPSAkdGhpcy0+cmVkdWNlX3N0cmluZygkc3RyKTsKCgkJc3dpdGNoIChzdHJ0b2xvd2VyKCRzdHIpKSB7CgkJCWNhc2UgJ3RydWUnOgoJCQkJcmV0dXJuIHRydWU7CgoJCQljYXNlICdmYWxzZSc6CgkJCQlyZXR1cm4gZmFsc2U7CgoJCQljYXNlICdudWxsJzoKCQkJCXJldHVybiBudWxsOwoKCQkJZGVmYXVsdDoKCQkJCSRtID0gYXJyYXkoKTsKCgkJCQlpZiAoaXNfbnVtZXJpYygkc3RyKSkgewoJCQkJCS8vIExvb2tpZS1sb28sIGl0J3MgYSBudW1iZXIKCgkJCQkJLy8gVGhpcyB3b3VsZCB3b3JrIG9uIGl0cyBvd24sIGJ1dCBJJ20gdHJ5aW5nIHRvIGJlCgkJCQkJLy8gZ29vZCBhYm91dCByZXR1cm5pbmcgaW50ZWdlcnMgd2hlcmUgYXBwcm9wcmlhdGU6CgkJCQkJLy8gcmV0dXJuIChmbG9hdCkkc3RyOwoKCQkJCQkvLyBSZXR1cm4gZmxvYXQgb3IgaW50LCBhcyBhcHByb3ByaWF0ZQoJCQkJCXJldHVybiAoKGZsb2F0KSRzdHIgPT0gKGludGVnZXIpJHN0cikKCQkJCQkJPyAoaW50ZWdlcikkc3RyCgkJCQkJCTogKGZsb2F0KSRzdHI7CgoJCQkJfSBlbHNlaWYgKHByZWdfbWF0Y2goJy9eKCJ8XCcpLiooXDEpJC9zJywgJHN0ciwgJG0pICYmICRtWzFdID09ICRtWzJdKSB7CgkJCQkJLy8gU1RSSU5HUyBSRVRVUk5FRCBJTiBVVEYtOCBGT1JNQVQKCQkJCQkkZGVsaW0gPSBzdWJzdHIoJHN0ciwgMCwgMSk7CgkJCQkJJGNocnMgPSBzdWJzdHIoJHN0ciwgMSwgLTEpOwoJCQkJCSR1dGY4ID0gJyc7CgkJCQkJJHN0cmxlbl9jaHJzID0gc3RybGVuKCRjaHJzKTsKCgkJCQkJZm9yICgkYyA9IDA7ICRjIDwgJHN0cmxlbl9jaHJzOyArKyRjKSB7CgoJCQkJCQkkc3Vic3RyX2NocnNfY18yID0gc3Vic3RyKCRjaHJzLCAkYywgMik7CgkJCQkJCSRvcmRfY2hyc19jID0gb3JkKCRjaHJzWyRjXSk7CgoJCQkJCQlzd2l0Y2ggKHRydWUpIHsKCQkJCQkJCWNhc2UgJHN1YnN0cl9jaHJzX2NfMiA9PSAnXGInOgoJCQkJCQkJCSR1dGY4IC49IGNocigweDA4KTsKCQkJCQkJCQkrKyRjOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJY2FzZSAkc3Vic3RyX2NocnNfY18yID09ICdcdCc6CgkJCQkJCQkJJHV0ZjggLj0gY2hyKDB4MDkpOwoJCQkJCQkJCSsrJGM7CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICRzdWJzdHJfY2hyc19jXzIgPT0gJ1xuJzoKCQkJCQkJCQkkdXRmOCAuPSBjaHIoMHgwQSk7CgkJCQkJCQkJKyskYzsKCQkJCQkJCQlicmVhazsKCQkJCQkJCWNhc2UgJHN1YnN0cl9jaHJzX2NfMiA9PSAnXGYnOgoJCQkJCQkJCSR1dGY4IC49IGNocigweDBDKTsKCQkJCQkJCQkrKyRjOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJY2FzZSAkc3Vic3RyX2NocnNfY18yID09ICdccic6CgkJCQkJCQkJJHV0ZjggLj0gY2hyKDB4MEQpOwoJCQkJCQkJCSsrJGM7CgkJCQkJCQkJYnJlYWs7CgoJCQkJCQkJY2FzZSAkc3Vic3RyX2NocnNfY18yID09ICdcXCInOgoJCQkJCQkJY2FzZSAkc3Vic3RyX2NocnNfY18yID09ICdcXFwnJzoKCQkJCQkJCWNhc2UgJHN1YnN0cl9jaHJzX2NfMiA9PSAnXFxcXCc6CgkJCQkJCQljYXNlICRzdWJzdHJfY2hyc19jXzIgPT0gJ1xcLyc6CgkJCQkJCQkJaWYgKCgkZGVsaW0gPT0gJyInICYmICRzdWJzdHJfY2hyc19jXzIgIT0gJ1xcXCcnKSB8fAoJCQkJCQkJCSgkZGVsaW0gPT0gIiciICYmICRzdWJzdHJfY2hyc19jXzIgIT0gJ1xcIicpKSB7CgkJCQkJCQkJCSR1dGY4IC49ICRjaHJzWysrJGNdOwoJCQkJCQkJCX0KCQkJCQkJCQlicmVhazsKCgkJCQkJCQljYXNlIHByZWdfbWF0Y2goJy9cXFx1WzAtOUEtRl17NH0vaScsIHN1YnN0cigkY2hycywgJGMsIDYpKToKCQkJCQkJCQkvLyBzaW5nbGUsIGVzY2FwZWQgdW5pY29kZSBjaGFyYWN0ZXIKCQkJCQkJCQkkdXRmMTYgPSBjaHIoaGV4ZGVjKHN1YnN0cigkY2hycywgKCRjICsgMiksIDIpKSkKCQkJCQkJCQkJLiBjaHIoaGV4ZGVjKHN1YnN0cigkY2hycywgKCRjICsgNCksIDIpKSk7CgkJCQkJCQkJJHV0ZjggLj0gJHRoaXMtPnV0ZjE2MnV0ZjgoJHV0ZjE2KTsKCQkJCQkJCQkkYyArPSA1OwoJCQkJCQkJCWJyZWFrOwoKCQkJCQkJCWNhc2UgKCRvcmRfY2hyc19jID49IDB4MjApICYmICgkb3JkX2NocnNfYyA8PSAweDdGKToKCQkJCQkJCQkkdXRmOCAuPSAkY2hyc1skY107CgkJCQkJCQkJYnJlYWs7CgoJCQkJCQkJY2FzZSAoJG9yZF9jaHJzX2MgJiAweEUwKSA9PSAweEMwOgoJCQkJCQkJCS8vIGNoYXJhY3RlcnMgVS0wMDAwMDA4MCAtIFUtMDAwMDA3RkYsIG1hc2sgMTEwWFhYWFgKCQkJCQkJCQkvL3NlZSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQkJCQkJJHV0ZjggLj0gc3Vic3RyKCRjaHJzLCAkYywgMik7CgkJCQkJCQkJKyskYzsKCQkJCQkJCQlicmVhazsKCgkJCQkJCQljYXNlICgkb3JkX2NocnNfYyAmIDB4RjApID09IDB4RTA6CgkJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTAwMDAwODAwIC0gVS0wMDAwRkZGRiwgbWFzayAxMTEwWFhYWAoJCQkJCQkJCS8vIHNlZSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQkJCQkJJHV0ZjggLj0gc3Vic3RyKCRjaHJzLCAkYywgMyk7CgkJCQkJCQkJJGMgKz0gMjsKCQkJCQkJCQlicmVhazsKCgkJCQkJCQljYXNlICgkb3JkX2NocnNfYyAmIDB4RjgpID09IDB4RjA6CgkJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTAwMDEwMDAwIC0gVS0wMDFGRkZGRiwgbWFzayAxMTExMFhYWAoJCQkJCQkJCS8vIHNlZSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQkJCQkJJHV0ZjggLj0gc3Vic3RyKCRjaHJzLCAkYywgNCk7CgkJCQkJCQkJJGMgKz0gMzsKCQkJCQkJCQlicmVhazsKCgkJCQkJCQljYXNlICgkb3JkX2NocnNfYyAmIDB4RkMpID09IDB4Rjg6CgkJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTAwMjAwMDAwIC0gVS0wM0ZGRkZGRiwgbWFzayAxMTExMTBYWAoJCQkJCQkJCS8vIHNlZSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQkJCQkJJHV0ZjggLj0gc3Vic3RyKCRjaHJzLCAkYywgNSk7CgkJCQkJCQkJJGMgKz0gNDsKCQkJCQkJCQlicmVhazsKCgkJCQkJCQljYXNlICgkb3JkX2NocnNfYyAmIDB4RkUpID09IDB4RkM6CgkJCQkJCQkJLy8gY2hhcmFjdGVycyBVLTA0MDAwMDAwIC0gVS03RkZGRkZGRiwgbWFzayAxMTExMTEwWAoJCQkJCQkJCS8vIHNlZSBodHRwOi8vd3d3LmNsLmNhbS5hYy51ay9+bWdrMjUvdW5pY29kZS5odG1sI3V0Zi04CgkJCQkJCQkJJHV0ZjggLj0gc3Vic3RyKCRjaHJzLCAkYywgNik7CgkJCQkJCQkJJGMgKz0gNTsKCQkJCQkJCQlicmVhazsKCgkJCQkJCX0KCgkJCQkJfQoKCQkJCQlyZXR1cm4gJHV0Zjg7CgoJCQkJfSBlbHNlaWYgKHByZWdfbWF0Y2goJy9eXFsuKlxdJC9zJywgJHN0cikgfHwgcHJlZ19tYXRjaCgnL15cey4qXH0kL3MnLCAkc3RyKSkgewoJCQkJCS8vIGFycmF5LCBvciBvYmplY3Qgbm90YXRpb24KCgkJCQkJaWYgKCRzdHJbMF0gPT0gJ1snKSB7CgkJCQkJCSRzdGsgPSBhcnJheShTRVJWSUNFU19KU09OX0lOX0FSUik7CgkJCQkJCSRhcnIgPSBhcnJheSgpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWlmICgkdGhpcy0+dXNlICYgU0VSVklDRVNfSlNPTl9MT09TRV9UWVBFKSB7CgkJCQkJCQkkc3RrID0gYXJyYXkoU0VSVklDRVNfSlNPTl9JTl9PQkopOwoJCQkJCQkJJG9iaiA9IGFycmF5KCk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQkkc3RrID0gYXJyYXkoU0VSVklDRVNfSlNPTl9JTl9PQkopOwoJCQkJCQkJJG9iaiA9IG5ldyBzdGRDbGFzcygpOwoJCQkJCQl9CgkJCQkJfQoKCQkJCQlhcnJheV9wdXNoKCRzdGssIGFycmF5KCd3aGF0JyAgPT4gU0VSVklDRVNfSlNPTl9TTElDRSwKCQkJCQkJCQkJCSd3aGVyZScgPT4gMCwKCQkJCQkJCQkJCSdkZWxpbScgPT4gZmFsc2UpKTsKCgkJCQkJJGNocnMgPSBzdWJzdHIoJHN0ciwgMSwgLTEpOwoJCQkJCSRjaHJzID0gJHRoaXMtPnJlZHVjZV9zdHJpbmcoJGNocnMpOwoKCQkJCQlpZiAoJGNocnMgPT0gJycpIHsKCQkJCQkJaWYgKHJlc2V0KCRzdGspID09IFNFUlZJQ0VTX0pTT05fSU5fQVJSKSB7CgkJCQkJCQlyZXR1cm4gJGFycjsKCgkJCQkJCX0gZWxzZSB7CgkJCQkJCQlyZXR1cm4gJG9iajsKCgkJCQkJCX0KCQkJCQl9CgoJCQkJCS8vcHJpbnQoIlxucGFyc2luZyB7JGNocnN9XG4iKTsKCgkJCQkJJHN0cmxlbl9jaHJzID0gc3RybGVuKCRjaHJzKTsKCgkJCQkJZm9yICgkYyA9IDA7ICRjIDw9ICRzdHJsZW5fY2hyczsgKyskYykgewoKCQkJCQkJJHRvcCA9IGVuZCgkc3RrKTsKCQkJCQkJJHN1YnN0cl9jaHJzX2NfMiA9IHN1YnN0cigkY2hycywgJGMsIDIpOwoKCQkJCQkJaWYgKCgkYyA9PSAkc3RybGVuX2NocnMpIHx8ICgoJGNocnNbJGNdID09ICcsJykgJiYgKCR0b3BbJ3doYXQnXSA9PSBTRVJWSUNFU19KU09OX1NMSUNFKSkpIHsKCQkJCQkJCS8vIGZvdW5kIGEgY29tbWEgdGhhdCBpcyBub3QgaW5zaWRlIGEgc3RyaW5nLCBhcnJheSwgZXRjLiwKCQkJCQkJCS8vIE9SIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgY2hhcmFjdGVyIGxpc3QKCQkJCQkJCSRzbGljZSA9IHN1YnN0cigkY2hycywgJHRvcFsnd2hlcmUnXSwgKCRjIC0gJHRvcFsnd2hlcmUnXSkpOwoJCQkJCQkJYXJyYXlfcHVzaCgkc3RrLCBhcnJheSgnd2hhdCcgPT4gU0VSVklDRVNfSlNPTl9TTElDRSwgJ3doZXJlJyA9PiAoJGMgKyAxKSwgJ2RlbGltJyA9PiBmYWxzZSkpOwoJCQkJCQkJLy9wcmludCgiRm91bmQgc3BsaXQgYXQgeyRjfTogIi5zdWJzdHIoJGNocnMsICR0b3BbJ3doZXJlJ10sICgxICsgJGMgLSAkdG9wWyd3aGVyZSddKSkuIlxuIik7CgoJCQkJCQkJaWYgKHJlc2V0KCRzdGspID09IFNFUlZJQ0VTX0pTT05fSU5fQVJSKSB7CgkJCQkJCQkJLy8gd2UgYXJlIGluIGFuIGFycmF5LCBzbyBqdXN0IHB1c2ggYW4gZWxlbWVudCBvbnRvIHRoZSBzdGFjawoJCQkJCQkJCWFycmF5X3B1c2goJGFyciwgJHRoaXMtPmRlY29kZSgkc2xpY2UpKTsKCgkJCQkJCQl9IGVsc2VpZiAocmVzZXQoJHN0aykgPT0gU0VSVklDRVNfSlNPTl9JTl9PQkopIHsKCQkJCQkJCQkvLyB3ZSBhcmUgaW4gYW4gb2JqZWN0LCBzbyBmaWd1cmUKCQkJCQkJCQkvLyBvdXQgdGhlIHByb3BlcnR5IG5hbWUgYW5kIHNldCBhbgoJCQkJCQkJCS8vIGVsZW1lbnQgaW4gYW4gYXNzb2NpYXRpdmUgYXJyYXksCgkJCQkJCQkJLy8gZm9yIG5vdwoJCQkJCQkJCSRwYXJ0cyA9IGFycmF5KCk7CgoJCQkJCQkJCWlmIChwcmVnX21hdGNoKCcvXlxzKihbIlwnXS4qW15cXFxdWyJcJ10pXHMqOlxzKihcUy4qKSw/JC9VaXMnLCAkc2xpY2UsICRwYXJ0cykpIHsKCQkJCQkJCQkJLy8gIm5hbWUiOnZhbHVlIHBhaXIKCQkJCQkJCQkJJGtleSA9ICR0aGlzLT5kZWNvZGUoJHBhcnRzWzFdKTsKCQkJCQkJCQkJJHZhbCA9ICR0aGlzLT5kZWNvZGUoJHBhcnRzWzJdKTsKCgkJCQkJCQkJCWlmICgkdGhpcy0+dXNlICYgU0VSVklDRVNfSlNPTl9MT09TRV9UWVBFKSB7CgkJCQkJCQkJCQkkb2JqWyRrZXldID0gJHZhbDsKCQkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJCSRvYmotPiRrZXkgPSAkdmFsOwoJCQkJCQkJCQl9CgkJCQkJCQkJfSBlbHNlaWYgKHByZWdfbWF0Y2goJy9eXHMqKFx3Kylccyo6XHMqKFxTLiopLD8kL1VpcycsICRzbGljZSwgJHBhcnRzKSkgewoJCQkJCQkJCQkvLyBuYW1lOnZhbHVlIHBhaXIsIHdoZXJlIG5hbWUgaXMgdW5xdW90ZWQKCQkJCQkJCQkJJGtleSA9ICRwYXJ0c1sxXTsKCQkJCQkJCQkJJHZhbCA9ICR0aGlzLT5kZWNvZGUoJHBhcnRzWzJdKTsKCgkJCQkJCQkJCWlmICgkdGhpcy0+dXNlICYgU0VSVklDRVNfSlNPTl9MT09TRV9UWVBFKSB7CgkJCQkJCQkJCQkkb2JqWyRrZXldID0gJHZhbDsKCQkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJCSRvYmotPiRrZXkgPSAkdmFsOwoJCQkJCQkJCQl9CgkJCQkJCQkJfQoKCQkJCQkJCX0KCgkJCQkJCX0gZWxzZWlmICgoKCRjaHJzWyRjXSA9PSAnIicpIHx8ICgkY2hyc1skY10gPT0gIiciKSkgJiYgKCR0b3BbJ3doYXQnXSAhPSBTRVJWSUNFU19KU09OX0lOX1NUUikpIHsKCQkJCQkJCS8vIGZvdW5kIGEgcXVvdGUsIGFuZCB3ZSBhcmUgbm90IGluc2lkZSBhIHN0cmluZwoJCQkJCQkJYXJyYXlfcHVzaCgkc3RrLCBhcnJheSgnd2hhdCcgPT4gU0VSVklDRVNfSlNPTl9JTl9TVFIsICd3aGVyZScgPT4gJGMsICdkZWxpbScgPT4gJGNocnNbJGNdKSk7CgkJCQkJCQkvL3ByaW50KCJGb3VuZCBzdGFydCBvZiBzdHJpbmcgYXQgeyRjfVxuIik7CgoJCQkJCQl9IGVsc2VpZiAoKCRjaHJzWyRjXSA9PSAkdG9wWydkZWxpbSddKSAmJgoJCQkJCQkJCSgkdG9wWyd3aGF0J10gPT0gU0VSVklDRVNfSlNPTl9JTl9TVFIpICYmCgkJCQkJCQkJKChzdHJsZW4oc3Vic3RyKCRjaHJzLCAwLCAkYykpIC0gc3RybGVuKHJ0cmltKHN1YnN0cigkY2hycywgMCwgJGMpLCAnXFwnKSkpICUgMiAhPSAxKSkgewoJCQkJCQkJLy8gZm91bmQgYSBxdW90ZSwgd2UncmUgaW4gYSBzdHJpbmcsIGFuZCBpdCdzIG5vdCBlc2NhcGVkCgkJCQkJCQkvLyB3ZSBrbm93IHRoYXQgaXQncyBub3QgZXNjYXBlZCBiZWNhc2UgdGhlcmUgaXMgX25vdF8gYW4KCQkJCQkJCS8vIG9kZCBudW1iZXIgb2YgYmFja3NsYXNoZXMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nIHNvIGZhcgoJCQkJCQkJYXJyYXlfcG9wKCRzdGspOwoJCQkJCQkJLy9wcmludCgiRm91bmQgZW5kIG9mIHN0cmluZyBhdCB7JGN9OiAiLnN1YnN0cigkY2hycywgJHRvcFsnd2hlcmUnXSwgKDEgKyAxICsgJGMgLSAkdG9wWyd3aGVyZSddKSkuIlxuIik7CgoJCQkJCQl9IGVsc2VpZiAoKCRjaHJzWyRjXSA9PSAnWycpICYmCgkJCQkJCQkJaW5fYXJyYXkoJHRvcFsnd2hhdCddLCBhcnJheShTRVJWSUNFU19KU09OX1NMSUNFLCBTRVJWSUNFU19KU09OX0lOX0FSUiwgU0VSVklDRVNfSlNPTl9JTl9PQkopKSkgewoJCQkJCQkJLy8gZm91bmQgYSBsZWZ0LWJyYWNrZXQsIGFuZCB3ZSBhcmUgaW4gYW4gYXJyYXksIG9iamVjdCwgb3Igc2xpY2UKCQkJCQkJCWFycmF5X3B1c2goJHN0aywgYXJyYXkoJ3doYXQnID0+IFNFUlZJQ0VTX0pTT05fSU5fQVJSLCAnd2hlcmUnID0+ICRjLCAnZGVsaW0nID0+IGZhbHNlKSk7CgkJCQkJCQkvL3ByaW50KCJGb3VuZCBzdGFydCBvZiBhcnJheSBhdCB7JGN9XG4iKTsKCgkJCQkJCX0gZWxzZWlmICgoJGNocnNbJGNdID09ICddJykgJiYgKCR0b3BbJ3doYXQnXSA9PSBTRVJWSUNFU19KU09OX0lOX0FSUikpIHsKCQkJCQkJCS8vIGZvdW5kIGEgcmlnaHQtYnJhY2tldCwgYW5kIHdlJ3JlIGluIGFuIGFycmF5CgkJCQkJCQlhcnJheV9wb3AoJHN0ayk7CgkJCQkJCQkvL3ByaW50KCJGb3VuZCBlbmQgb2YgYXJyYXkgYXQgeyRjfTogIi5zdWJzdHIoJGNocnMsICR0b3BbJ3doZXJlJ10sICgxICsgJGMgLSAkdG9wWyd3aGVyZSddKSkuIlxuIik7CgoJCQkJCQl9IGVsc2VpZiAoKCRjaHJzWyRjXSA9PSAneycpICYmCgkJCQkJCQkJaW5fYXJyYXkoJHRvcFsnd2hhdCddLCBhcnJheShTRVJWSUNFU19KU09OX1NMSUNFLCBTRVJWSUNFU19KU09OX0lOX0FSUiwgU0VSVklDRVNfSlNPTl9JTl9PQkopKSkgewoJCQkJCQkJLy8gZm91bmQgYSBsZWZ0LWJyYWNlLCBhbmQgd2UgYXJlIGluIGFuIGFycmF5LCBvYmplY3QsIG9yIHNsaWNlCgkJCQkJCQlhcnJheV9wdXNoKCRzdGssIGFycmF5KCd3aGF0JyA9PiBTRVJWSUNFU19KU09OX0lOX09CSiwgJ3doZXJlJyA9PiAkYywgJ2RlbGltJyA9PiBmYWxzZSkpOwoJCQkJCQkJLy9wcmludCgiRm91bmQgc3RhcnQgb2Ygb2JqZWN0IGF0IHskY31cbiIpOwoKCQkJCQkJfSBlbHNlaWYgKCgkY2hyc1skY10gPT0gJ30nKSAmJiAoJHRvcFsnd2hhdCddID09IFNFUlZJQ0VTX0pTT05fSU5fT0JKKSkgewoJCQkJCQkJLy8gZm91bmQgYSByaWdodC1icmFjZSwgYW5kIHdlJ3JlIGluIGFuIG9iamVjdAoJCQkJCQkJYXJyYXlfcG9wKCRzdGspOwoJCQkJCQkJLy9wcmludCgiRm91bmQgZW5kIG9mIG9iamVjdCBhdCB7JGN9OiAiLnN1YnN0cigkY2hycywgJHRvcFsnd2hlcmUnXSwgKDEgKyAkYyAtICR0b3BbJ3doZXJlJ10pKS4iXG4iKTsKCgkJCQkJCX0gZWxzZWlmICgoJHN1YnN0cl9jaHJzX2NfMiA9PSAnLyonKSAmJgoJCQkJCQkJCWluX2FycmF5KCR0b3BbJ3doYXQnXSwgYXJyYXkoU0VSVklDRVNfSlNPTl9TTElDRSwgU0VSVklDRVNfSlNPTl9JTl9BUlIsIFNFUlZJQ0VTX0pTT05fSU5fT0JKKSkpIHsKCQkJCQkJCS8vIGZvdW5kIGEgY29tbWVudCBzdGFydCwgYW5kIHdlIGFyZSBpbiBhbiBhcnJheSwgb2JqZWN0LCBvciBzbGljZQoJCQkJCQkJYXJyYXlfcHVzaCgkc3RrLCBhcnJheSgnd2hhdCcgPT4gU0VSVklDRVNfSlNPTl9JTl9DTVQsICd3aGVyZScgPT4gJGMsICdkZWxpbScgPT4gZmFsc2UpKTsKCQkJCQkJCSRjKys7CgkJCQkJCQkvL3ByaW50KCJGb3VuZCBzdGFydCBvZiBjb21tZW50IGF0IHskY31cbiIpOwoKCQkJCQkJfSBlbHNlaWYgKCgkc3Vic3RyX2NocnNfY18yID09ICcqLycpICYmICgkdG9wWyd3aGF0J10gPT0gU0VSVklDRVNfSlNPTl9JTl9DTVQpKSB7CgkJCQkJCQkvLyBmb3VuZCBhIGNvbW1lbnQgZW5kLCBhbmQgd2UncmUgaW4gb25lIG5vdwoJCQkJCQkJYXJyYXlfcG9wKCRzdGspOwoJCQkJCQkJJGMrKzsKCgkJCQkJCQlmb3IgKCRpID0gJHRvcFsnd2hlcmUnXTsgJGkgPD0gJGM7ICsrJGkpCgkJCQkJCQkJJGNocnMgPSBzdWJzdHJfcmVwbGFjZSgkY2hycywgJyAnLCAkaSwgMSk7CgoJCQkJCQkJLy9wcmludCgiRm91bmQgZW5kIG9mIGNvbW1lbnQgYXQgeyRjfTogIi5zdWJzdHIoJGNocnMsICR0b3BbJ3doZXJlJ10sICgxICsgJGMgLSAkdG9wWyd3aGVyZSddKSkuIlxuIik7CgoJCQkJCQl9CgoJCQkJCX0KCgkJCQkJaWYgKHJlc2V0KCRzdGspID09IFNFUlZJQ0VTX0pTT05fSU5fQVJSKSB7CgkJCQkJCXJldHVybiAkYXJyOwoKCQkJCQl9IGVsc2VpZiAocmVzZXQoJHN0aykgPT0gU0VSVklDRVNfSlNPTl9JTl9PQkopIHsKCQkJCQkJcmV0dXJuICRvYmo7CgoJCQkJCX0KCgkJCQl9CgkJfQoJfQoKCS8qKgoJKiBAdG9kbyBVbHRpbWF0ZWx5LCB0aGlzIHNob3VsZCBqdXN0IGNhbGwgUEVBUjo6aXNFcnJvcigpCgkqLwoJZnVuY3Rpb24gaXNFcnJvcigkZGF0YSwgJGNvZGUgPSBudWxsKQoJewoJCWlmIChjbGFzc19leGlzdHMoJ3BlYXInKSkgewoJCQlyZXR1cm4gUEVBUjo6aXNFcnJvcigkZGF0YSwgJGNvZGUpOwoJCX0gZWxzZWlmIChpc19vYmplY3QoJGRhdGEpICYmIChnZXRfY2xhc3MoJGRhdGEpID09ICdzZXJ2aWNlc19qc29uX2Vycm9yJyB8fAoJCQkJCQkJCWlzX3N1YmNsYXNzX29mKCRkYXRhLCAnc2VydmljZXNfanNvbl9lcnJvcicpKSkgewoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgoJCXJldHVybiBmYWxzZTsKCX0KfQoKaWYgKGNsYXNzX2V4aXN0cygnUEVBUl9FcnJvcicpKSB7CgoJY2xhc3MgU2VydmljZXNfSlNPTl9FcnJvciBleHRlbmRzIFBFQVJfRXJyb3IKCXsKCQlmdW5jdGlvbiBTZXJ2aWNlc19KU09OX0Vycm9yKCRtZXNzYWdlID0gJ3Vua25vd24gZXJyb3InLCAkY29kZSA9IG51bGwsCgkJCQkJCQkJCSRtb2RlID0gbnVsbCwgJG9wdGlvbnMgPSBudWxsLCAkdXNlcmluZm8gPSBudWxsKQoJCXsKCQkJcGFyZW50OjpQRUFSX0Vycm9yKCRtZXNzYWdlLCAkY29kZSwgJG1vZGUsICRvcHRpb25zLCAkdXNlcmluZm8pOwoJCX0KCX0KCn0gZWxzZSB7CgoJLyoqCgkqIEB0b2RvIFVsdGltYXRlbHksIHRoaXMgY2xhc3Mgc2hhbGwgYmUgZGVzY2VuZGVkIGZyb20gUEVBUl9FcnJvcgoJKi8KCWNsYXNzIFNlcnZpY2VzX0pTT05fRXJyb3IKCXsKCQlmdW5jdGlvbiBTZXJ2aWNlc19KU09OX0Vycm9yKCRtZXNzYWdlID0gJ3Vua25vd24gZXJyb3InLCAkY29kZSA9IG51bGwsCgkJCQkJCQkJCSRtb2RlID0gbnVsbCwgJG9wdGlvbnMgPSBudWxsLCAkdXNlcmluZm8gPSBudWxsKQoJCXsKCgkJfQoJfQoKfQplbmRpZjsKCgovKioKICog5Li65LqG5YW85a655L2O54mI5pys55qEcGhw6ICM5aKe5Yqg55qE5Ye95pWw6ZuGCiAqIGpzb27ku441LjIuMOW8gOWni+aUr+aMge+8jHdvcmRwcmVzcyAyLjnlvIDlp4vmj5Dkvptqc29u5Ye95pWw55qE5YW85a655oCn5Luj56CBCiAqLwppZiAoICFmdW5jdGlvbl9leGlzdHMoJ2pzb25fZW5jb2RlJykgKSB7CglmdW5jdGlvbiBqc29uX2VuY29kZSggJHN0cmluZyApIHsKCQlnbG9iYWwgJHdwX2pzb247CgoJCWlmICggIWlzX2EoJHdwX2pzb24sICdTZXJ2aWNlc19KU09OJykgKSB7CgkJCSR3cF9qc29uID0gbmV3IFNlcnZpY2VzX0pTT04oKTsKCQl9CgoJCXJldHVybiAkd3BfanNvbi0+ZW5jb2RlVW5zYWZlKCAkc3RyaW5nICk7Cgl9Cn0KCmlmICggIWZ1bmN0aW9uX2V4aXN0cygnanNvbl9kZWNvZGUnKSApIHsKCWZ1bmN0aW9uIGpzb25fZGVjb2RlKCAkc3RyaW5nLCAkYXNzb2NfYXJyYXkgPSBmYWxzZSApIHsKCQlnbG9iYWwgJHdwX2pzb247CgoJCWlmICggIWlzX2EoJHdwX2pzb24sICdTZXJ2aWNlc19KU09OJykgKSB7CgkJCSR3cF9qc29uID0gbmV3IFNlcnZpY2VzX0pTT04oKTsKCQl9CgoJCSRyZXMgPSAkd3BfanNvbi0+ZGVjb2RlKCAkc3RyaW5nICk7CgkJaWYgKCAkYXNzb2NfYXJyYXkgKQoJCQkkcmVzID0gX2pzb25fZGVjb2RlX29iamVjdF9oZWxwZXIoICRyZXMgKTsKCQlyZXR1cm4gJHJlczsKCX0KCWZ1bmN0aW9uIF9qc29uX2RlY29kZV9vYmplY3RfaGVscGVyKCRkYXRhKSB7CgkJaWYgKCBpc19vYmplY3QoJGRhdGEpICkKCQkJJGRhdGEgPSBnZXRfb2JqZWN0X3ZhcnMoJGRhdGEpOwoJCXJldHVybiBpc19hcnJheSgkZGF0YSkgPyBhcnJheV9tYXAoX19GVU5DVElPTl9fLCAkZGF0YSkgOiAkZGF0YTsKCX0KfQo=
</file>
<file type='file' name='../plus/duoshuo/Client.php'>
PD9waHAKLyoqCiAqIAogKiBAbGluayBodHRwOi8vZHVvc2h1by5jb20vCiAqIEBhdXRob3Igc2hlbjIKICoKICovCmNsYXNzIER1b3NodW9fQ2xpZW50ewoJdmFyICRlbmRfcG9pbnQgPSAnaHR0cDovL2FwaS5kdW9zaHVvLmNvbS8nOwoJLyoqCgkgKiDov5Tlm57lgLzmoLzlvI8KCSAqIEB2YXIgc3RyaW5nCgkgKi8KCXZhciAkZm9ybWF0ID0gJ2pzb24nOwoJCgl2YXIgJHVzZXJBZ2VudCA9ICdEdW9zaHVvUGhwU2RrLzAuMi4wJzsKCQoJdmFyICRjb25uZWN0dGltZW91dCA9IDMwOwoJdmFyICR0aW1lb3V0ID0gMzA7Cgl2YXIgJHNob3J0TmFtZTsKCXZhciAkc2VjcmV0OwoJdmFyICRhY2Nlc3NUb2tlbjsKCXZhciAkaHR0cDsKCQoJZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHNob3J0TmFtZSA9IG51bGwsICRzZWNyZXQgPSBudWxsLCAkcmVtb3RlQXV0aCA9IG51bGwsICRhY2Nlc3NUb2tlbiA9IG51bGwpewoJCSR0aGlzLT5zaG9ydE5hbWUgPSAkc2hvcnROYW1lOwoJCSR0aGlzLT5zZWNyZXQgPSAkc2VjcmV0OwoJCSR0aGlzLT5yZW1vdGVBdXRoID0gJHJlbW90ZUF1dGg7CgkJJHRoaXMtPmFjY2Vzc1Rva2VuID0gJGFjY2Vzc1Rva2VuOwoJfQoJCglmdW5jdGlvbiBnZXRMb2dMaXN0KCRwYXJhbXMpewoJCXJldHVybiAkdGhpcy0+cmVxdWVzdCgnR0VUJywgJ2xvZy9saXN0JywgJHBhcmFtcyk7Cgl9CgkKCS8qKgoJICogCgkgKiBAcGFyYW0gJG1ldGhvZAoJICogQHBhcmFtICRwYXRoCgkgKiBAcGFyYW0gJHBhcmFtcwoJICogQHRocm93cyBEdW9zaHVvX0V4Y2VwdGlvbgoJICogQHJldHVybiBhcnJheQoJICovCglmdW5jdGlvbiByZXF1ZXN0KCRtZXRob2QsICRwYXRoLCAkcGFyYW1zID0gYXJyYXkoKSl7CgkJJHBhcmFtc1snc2hvcnRfbmFtZSddID0gJHRoaXMtPnNob3J0TmFtZTsKCQkkcGFyYW1zWydzZWNyZXQnXSA9ICR0aGlzLT5zZWNyZXQ7CgkJJHBhcmFtc1sncmVtb3RlX2F1dGgnXSA9ICR0aGlzLT5yZW1vdGVBdXRoOwoJCQoJCWlmICgkdGhpcy0+YWNjZXNzVG9rZW4pCgkJCSRwYXJhbXNbJ2FjY2Vzc190b2tlbiddID0gJHRoaXMtPmFjY2Vzc1Rva2VuOwoJCQoJCSR1cmwgPSAkdGhpcy0+ZW5kX3BvaW50IC4gJHBhdGguICcuJyAuICR0aGlzLT5mb3JtYXQ7CgkJCgkJcmV0dXJuICR0aGlzLT5odHRwUmVxdWVzdCgkdXJsLCAkbWV0aG9kLCAkcGFyYW1zKTsKCX0KCQoJZnVuY3Rpb24gaHR0cFJlcXVlc3QoJHVybCwgJG1ldGhvZCwgJHBhcmFtcyl7CgkJJGJvZHkgPSBOVUxMOwoJCXN3aXRjaCgkbWV0aG9kKXsKCQkJY2FzZSAnR0VUJzoKCQkJCSR1cmwgLj0gJz8nIC4gaHR0cF9idWlsZF9xdWVyeSgkcGFyYW1zLCBudWxsLCAnJicpOwkvLyBvdmVyd3JpdGUgYXJnX3NlcGFyYXRvci5vdXRwdXQKCQkJCWJyZWFrOwoJCQljYXNlICdQT1NUJzoKCQkJCSRoZWFkZXJzID0gYXJyYXkoKTsKCQkJCSRib2R5ID0gaHR0cF9idWlsZF9xdWVyeSgkcGFyYW1zKTsJLy/mnKrmlK/mjIFtdWx0aQoJCQkJYnJlYWs7CgkJCWRlZmF1bHQ6CgkJfQoJCSRyZXNwb25zZSA9ICR0aGlzLT5odHRwKCR1cmwsJGJvZHksICRtZXRob2QpOwoJCQkKCQlpZiAoaXNzZXQoJHJlc3BvbnNlLT5jdXJsRXJyKSl7CgkJCXRocm93IG5ldyBEdW9zaHVvX0V4Y2VwdGlvbignQ3VybOmUmeivr++8micuJHJlc3BvbnNlLT5jdXJsRXJyLCBEdW9zaHVvX0V4Y2VwdGlvbjo6Q0FOTk9UX0FDQ0VTUyk7CgkJfQoKCQkkanNvbiA9IGpzb25fZGVjb2RlKCRyZXNwb25zZSwgdHJ1ZSk7CgkJCgkJcmV0dXJuICRqc29uID09PSBudWxsID8gJHJlc3BvbnNlIDogJGpzb247Cgl9CgkKCS8qKgoJICogCgkgKiBAcGFyYW0gc3RyaW5nICR0eXBlCgkgKiBAcGFyYW0gYXJyYXkgJGtleXMKCSAqLwoJZnVuY3Rpb24gZ2V0QWNjZXNzVG9rZW4oICR0eXBlLCAka2V5cyApIHsKCQkkcGFyYW1zID0gYXJyYXkoCgkJCSdjbGllbnRfaWQnCT0+CSR0aGlzLT5zaG9ydE5hbWUsCgkJCSdjbGllbnRfc2VjcmV0JyA9PiAkdGhpcy0+c2VjcmV0LAoJCSk7CgkJCgkJc3dpdGNoKCR0eXBlKXsKCQljYXNlICd0b2tlbic6CgkJCSRwYXJhbXNbJ2dyYW50X3R5cGUnXSA9ICdyZWZyZXNoX3Rva2VuJzsKCQkJJHBhcmFtc1sncmVmcmVzaF90b2tlbiddID0gJGtleXNbJ3JlZnJlc2hfdG9rZW4nXTsKCQkJYnJlYWs7CgkJY2FzZSAnY29kZSc6CgkJCSRwYXJhbXNbJ2dyYW50X3R5cGUnXSA9ICdhdXRob3JpemF0aW9uX2NvZGUnOwoJCQkkcGFyYW1zWydjb2RlJ10gPSAka2V5c1snY29kZSddOwoJCQkkcGFyYW1zWydyZWRpcmVjdF91cmknXSA9ICRrZXlzWydyZWRpcmVjdF91cmknXTsKCQkJYnJlYWs7CgkJY2FzZSAncGFzc3dvcmQnOgoJCQkkcGFyYW1zWydncmFudF90eXBlJ10gPSAncGFzc3dvcmQnOwoJCQkkcGFyYW1zWyd1c2VybmFtZSddID0gJGtleXNbJ3VzZXJuYW1lJ107CgkJCSRwYXJhbXNbJ3Bhc3N3b3JkJ10gPSAka2V5c1sncGFzc3dvcmQnXTsKCQkJYnJlYWs7CgkJZGVmYXVsdDoKCQkJdGhyb3cgbmV3IER1b3NodW9fRXhjZXB0aW9uKCJ3cm9uZyBhdXRoIHR5cGUiKTsKCQl9CgoJCSRhY2Nlc3NUb2tlblVybCA9ICdodHRwOi8vYXBpLmR1b3NodW8uY29tL29hdXRoMi9hY2Nlc3NfdG9rZW4nOwoJCSRyZXNwb25zZSA9ICR0aGlzLT5odHRwUmVxdWVzdCgkYWNjZXNzVG9rZW5VcmwsICdQT1NUJywgJHBhcmFtcyk7CgkJCgkJJHRva2VuID0gJHJlc3BvbnNlOwoJCWlmICggaXNfYXJyYXkoJHRva2VuKSAmJiAhaXNzZXQoJHRva2VuWydlcnJvciddKSApIHsKCQkJJHRoaXMtPmFjY2Vzc190b2tlbiA9ICR0b2tlblsnYWNjZXNzX3Rva2VuJ107CgkJCWlmIChpc3NldCgkdG9rZW5bJ3JlZnJlc2hfdG9rZW4nXSkpIC8vCeWPr+iDveayoeaciXJlZnJlc2hfdG9rZW4KCQkJCSR0aGlzLT5yZWZyZXNoX3Rva2VuID0gJHRva2VuWydyZWZyZXNoX3Rva2VuJ107CgkJfSBlbHNlIHsKCQkJdGhyb3cgbmV3IER1b3NodW9fRXhjZXB0aW9uKCJnZXQgYWNjZXNzIHRva2VuIGZhaWxlZC4iIC4gJHRva2VuWydlcnJvciddKTsKCQl9CgkJCgkJcmV0dXJuICR0b2tlbjsKCX0KCQoJZnVuY3Rpb24gaHR0cCgkdXJsLCAkcG9zdGZpZWxkcywgJG1ldGhvZCA9ICdQT1NUJyl7CgkJJGNpID0gY3VybF9pbml0KCk7CgkJLyogQ3VybCBzZXR0aW5ncyAqLwoJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9IVFRQX1ZFUlNJT04sIENVUkxfSFRUUF9WRVJTSU9OXzFfMCk7CgkJY3VybF9zZXRvcHQoJGNpLCBDVVJMT1BUX1VTRVJBR0VOVCwkdGhpcy0+dXNlckFnZW50KTsKCQljdXJsX3NldG9wdCgkY2ksIENVUkxPUFRfQ09OTkVDVFRJTUVPVVQsICR0aGlzLT5jb25uZWN0dGltZW91dCk7CgkJY3VybF9zZXRvcHQoJGNpLCBDVVJMT1BUX1RJTUVPVVQsICR0aGlzLT50aW1lb3V0KTsKCQljdXJsX3NldG9wdCgkY2ksIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIFRSVUUpOwoJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9FTkNPRElORywgIiIpOwoJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9TU0xfVkVSSUZZUEVFUiwgRkFMU0UpOwoJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9IRUFERVIsIEZBTFNFKTsKCQoJCXN3aXRjaCAoJG1ldGhvZCkgewoJCQljYXNlICdQT1NUJzoKCQkJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9QT1NULCBUUlVFKTsKCQkJCWlmICghZW1wdHkoJHBvc3RmaWVsZHMpKSB7CgkJCQkJY3VybF9zZXRvcHQoJGNpLCBDVVJMT1BUX1BPU1RGSUVMRFMsICRwb3N0ZmllbGRzKTsKCQkJCQkkdGhpcy0+cG9zdGRhdGEgPSAkcG9zdGZpZWxkczsKCQkJCX0KCQkJCWJyZWFrOwoJCQljYXNlICdERUxFVEUnOgoJCQkJY3VybF9zZXRvcHQoJGNpLCBDVVJMT1BUX0NVU1RPTVJFUVVFU1QsICdERUxFVEUnKTsKCQkJCWlmICghZW1wdHkoJHBvc3RmaWVsZHMpKSB7CgkJCQkJJHVybCA9ICJ7JHVybH0/eyRwb3N0ZmllbGRzfSI7CgkJCQl9CgkJfQoJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9VUkwsICR1cmwgKTsKCQoJCWN1cmxfc2V0b3B0KCRjaSwgQ1VSTElORk9fSEVBREVSX09VVCwgRkFMU0UgKTsKCQoJCSRyZXNwb25zZSA9IGN1cmxfZXhlYygkY2kpOwoJCQoJCWlmKCRyZXNwb25zZSA9PT0gZmFsc2UpewoJCQkkcmVzcG9uc2UtPmN1cmxFcnIgPSBjdXJsX2Vycm9yKCRjaSk7CgkJfQoJCQoJCXJldHVybiAkcmVzcG9uc2U7Cgl9CgkKCS8qKgoJICogCgkgKiBAcGFyYW0gYXJyYXkgJHVzZXJfZGF0YQoJICovCglmdW5jdGlvbiByZW1vdGVBdXRoKCR1c2VyX2RhdGEpewoJICAgICRtZXNzYWdlID0gYmFzZTY0X2VuY29kZShqc29uX2VuY29kZSgkdXNlcl9kYXRhKSk7CgkgICAgJHRpbWUgPSB0aW1lKCk7CgkgICAgcmV0dXJuICRtZXNzYWdlIC4gJyAnIC4gc2VsZjo6aG1hY3NoYTEoJG1lc3NhZ2UgLiAnICcgLiAkdGltZSwgJHRoaXMtPnNlY3JldCkgLiAnICcgLiAkdGltZTsKCX0KCQoJLy8gZnJvbTogaHR0cDovL3d3dy5waHAubmV0L21hbnVhbC9lbi9mdW5jdGlvbi5zaGExLnBocCMzOTQ5MgoJLy8gQ2FsY3VsYXRlIEhNQUMtU0hBMSBhY2NvcmRpbmcgdG8gUkZDMjEwNAoJLy8gaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMjEwNC50eHQKCXN0YXRpYyBmdW5jdGlvbiBobWFjc2hhMSgkZGF0YSwgJGtleSkgewoJCWlmIChmdW5jdGlvbl9leGlzdHMoJ2hhc2hfaG1hYycpKQoJCQlyZXR1cm4gaGFzaF9obWFjKCdzaGExJywgJGRhdGEsICRrZXkpOwoJCQoJICAgICRibG9ja3NpemU9NjQ7CgkgICAgJGhhc2hmdW5jPSdzaGExJzsKCSAgICBpZiAoc3RybGVuKCRrZXkpPiRibG9ja3NpemUpCgkgICAgICAgICRrZXk9cGFjaygnSConLCAkaGFzaGZ1bmMoJGtleSkpOwoJICAgICRrZXk9c3RyX3BhZCgka2V5LCRibG9ja3NpemUsY2hyKDB4MDApKTsKCSAgICAkaXBhZD1zdHJfcmVwZWF0KGNocigweDM2KSwkYmxvY2tzaXplKTsKCSAgICAkb3BhZD1zdHJfcmVwZWF0KGNocigweDVjKSwkYmxvY2tzaXplKTsKCSAgICAkaG1hYyA9IHBhY2soCgkgICAgICAgICAgICAgICAgJ0gqJywkaGFzaGZ1bmMoCgkgICAgICAgICAgICAgICAgICAgICgka2V5XiRvcGFkKS5wYWNrKAoJICAgICAgICAgICAgICAgICAgICAgICAgJ0gqJywkaGFzaGZ1bmMoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCRrZXleJGlwYWQpLiRkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICApCgkgICAgICAgICAgICAgICAgICAgICkKCSAgICAgICAgICAgICAgICApCgkgICAgICAgICAgICApOwoJICAgIHJldHVybiBiaW4yaGV4KCRobWFjKTsKCX0KfQo=
</file>
<file type='file' name='../plus/duoshuo/Dedecms.php'>
PD9waHAKCmNsYXNzIER1b3NodW9fRGVkZWNtcyBleHRlbmRzIER1b3NodW9fQWJzdHJhY3R7CgkKCWNvbnN0IFZFUlNJT04gPSAnMC4yLjAnOwoJCglwdWJsaWMgc3RhdGljICRjb21tZW50VGFnID0gJ3tkZWRlOmR1b3NodW8vfSc7CgkKCXB1YmxpYyBzdGF0aWMgJGFwcHJvdmVkTWFwID0gYXJyYXkoCgkJJ3BlbmRpbmcnID0+ICcwJywKCQknYXBwcm92ZWQnID0+ICcxJywKCQknZGVsZXRlZCcgPT4gJzInLAoJCSdzcGFtJyA9PiAnMycsCgkJJ3RocmVhZC1kZWxldGVkJz0+JzQnLAoJKTsKCXB1YmxpYyBzdGF0aWMgJGFjdGlvbk1hcCA9IGFycmF5KAoJCSdjcmVhdGUnID0+ICcwJywKCQkndXBkYXRlJyA9PiAnMCcsCgkJJ2FwcHJvdmUnID0+ICcxJywKCQknZGVsZXRlJyA9PiAnMicsCgkJJ3NwYW0nID0+ICczJywKCQknZGVsZXRlLWZvcmV2ZXInID0+ICc0JywKCSk7CgkvKioKCSAqCgkgKiBAdmFyIGFycmF5CgkgKi8KCXB1YmxpYyBzdGF0aWMgJGVycm9yTWVzc2FnZXMgPSBhcnJheSgpOwoJCglwdWJsaWMgc3RhdGljICRFTUJFRCA9IGZhbHNlOwoJCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEluc3RhbmNlKCl7CgkJaWYgKHNlbGY6OiRfaW5zdGFuY2UgPT09IG51bGwpCgkJCXNlbGY6OiRfaW5zdGFuY2UgPSBuZXcgc2VsZigpOwoJCXJldHVybiBzZWxmOjokX2luc3RhbmNlOwoJfQoJCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHRpbWV6b25lKCl7CgkJZ2xvYmFsICRjZmdfY2xpX3RpbWU7CgkJcmV0dXJuICRjZmdfY2xpX3RpbWU7Cgl9CgkKCS8qKgoJICog5L+d5a2Y5aSa6K+06K6+572uCgkgKiBAcGFyYW0g6ZSuICRrZXkKCSAqIEBwYXJhbSDlgLwgJHZhbHVlCgkgKiBAcGFyYW0g6ZSu5ZCNICRpbmZvCgkgKiBAcGFyYW0g57G75Z6LICR0eXBlCgkgKiBAcGFyYW0g57uE5YirICRncm91cGlkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiB1cGRhdGVPcHRpb24oJGtleSwgJHZhbHVlLCAkaW5mbyA9IE5VTEwsJHR5cGUgPSBOVUxMLCRncm91cGlkID0gTlVMTCl7CgkJZ2xvYmFsICRkc3FsOwoJCSRvbGR2YWx1ZSA9ICR0aGlzLT5nZXRPcHRpb24oJGtleSk7CgkJaWYoJG9sZHZhbHVlPT09TlVMTCl7CgkJCSRpbmZvID0gaXNzZXQoJGluZm8pID8gJGluZm8gOiAn5aSa6K+06K6+572u6aG5JzsgLy/pu5jorqTlgLwKCQkJJHR5cGUgPSBpc3NldCgkdHlwZSkgPyAkdHlwZSA6ICdzdHJpbmcnOwkvL+m7mOiupOWAvAoJCQkkZ3JvdXBpZCA9IGlzc2V0KCRncm91cGlkKSA/ICRncm91cGlkIDogODsJLy/pu5jorqTlgLwKCQkJCgkJCSRzcWwgPSAiSU5TRVJUIGludG8gI0BfX3N5c2NvbmZpZyAodmFybmFtZSwgdmFsdWUsIGluZm8sIHR5cGUsIGdyb3VwaWQpIHZhbHVlcyAoJ2R1b3NodW9fJGtleScsJyR2YWx1ZScsJyRpbmZvJywnJHR5cGUnLCRncm91cGlkKSI7CgkJfQoJCWVsc2V7CgkJCSRzcWwgPSAiVVBEQVRFICNAX19zeXNjb25maWcgU0VUICIKCQkJLigiIHZhbHVlID0gJyR2YWx1ZSciKQoJCQkuKGlzc2V0KCRpbmZvKSA/ICIsaW5mbyA9ICckaW5mbycsIjogIiIpCgkJCS4oaXNzZXQoJHR5cGUpID8gIix0eXBlID0gJyR0eXBlJywiOiAiIikKCQkJLihpc3NldCgkZ3JvdXBpZCkgPyAiLGdyb3VwaWQgPSAnJGdyb3VwaWQnICI6ICIiKQoJCQkuIiBXSEVSRSB2YXJuYW1lID0gJ2R1b3NodW9fJGtleSciOwoJCX0KCQkkb3B0aW9uID0gJGRzcWwtPkV4ZWN1dGVOb25lUXVlcnkoJHNxbCk7CgkJJHRoaXMtPm9wdGlvbnNbJGtleV0gPSAkdmFsdWU7CgkJcmV0dXJuICRvcHRpb247Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBnZXRPcHRpb24oJGtleSl7CgkJaWYoaXNzZXQoJHRoaXMtPm9wdGlvbnNbJGtleV0pKXsKCQkJcmV0dXJuICR0aGlzLT5vcHRpb25zWyRrZXldOwoJCX1lbHNlewoJCQlnbG9iYWwgJGRzcWw7CgkJCSRzcWwgPSAiU0VMRUNUIHZhbHVlIEZST00gI0BfX3N5c2NvbmZpZyBXSEVSRSB2YXJuYW1lID0gJ2R1b3NodW9fJGtleSciOwoJCQkkdmFsdWUgPSAkZHNxbC0+R2V0T25lKCRzcWwpOwoJCQlpZihpc19hcnJheSgkdmFsdWUpKXsKCQkJCSR0aGlzLT5vcHRpb25zWyRrZXldID0gJHZhbHVlWyd2YWx1ZSddOwoJCQkJcmV0dXJuICR2YWx1ZVsndmFsdWUnXTsKCQkJfQoJCQllbHNlewoJCQkJcmV0dXJuIE5VTEw7CgkJCX0KCQl9Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBjaGVja0RlZmF1bHRTZXR0aW5ncygpewoJCSRkdW9zaHVvRGVmYXVsdFNldHRpbmdzID0gYXJyYXkoCgkJCSdzaG9ydF9uYW1lJwk9PglhcnJheSgKCQkJCSd2YWx1ZScgPT4JJycsCgkJCQknaW5mbycJPT4JJ+WkmuivtOS6jOe6p+Wfn+WQjScsCgkJCQkndHlwZScJPT4JJ3N0cmluZycsCgkJCSksCgkJCSdzZWNyZXQnCT0+CWFycmF5KAoJCQkJJ3ZhbHVlJyA9PgknJywKCQkJCSdpbmZvJwk9Pgkn5aSa6K+056uZ54K55a+G6ZKlJywKCQkJCSd0eXBlJwk9Pgknc3RyaW5nJywKCQkJKSwKCQkJJ3N5bmNfbG9jaycJCT0+CWFycmF5KAoJCQkJJ3ZhbHVlJwk9PgkwLAoJCQkJJ2luZm8nCT0+CSflpJror7TmraPlnKjlkIzmraXml7bpl7QoMOihqOekuuWQjOatpeato+W4uOWujOaIkCknLAoJCQkJJ3R5cGUnCT0+CSdpbnQnLAoJCQkpLAoJCQknbGFzdF9zeW5jJwk9PglhcnJheSgKCQkJCSd2YWx1ZScJPT4JMCwKCQkJCSdpbmZvJwk9Pgkn5bey5a6M5oiQ55qE5pyA5ZCO5ZCM5q2l5pe26Ze05oizJywKCQkJCSd0eXBlJwk9PgknaW50JywKCQkJKSwKCQkJJ3Nlb19lbmFibGVkJwk9PglhcnJheSgKCQkJCSd2YWx1ZScJPT4JMCwKCQkJCSdpbmZvJwk9Pgkn5byA5ZCvU0VP5LyY5YyWJywKCQkJCSd0eXBlJwk9PgknaW50JywKCQkJKSwKCQkpOwoJCQoJCS8vc3luY190b19sb2NhbAoJCQoJCWZvcmVhY2ggKCRkdW9zaHVvRGVmYXVsdFNldHRpbmdzIGFzICRrZXkgPT4gJGRlZmF1bHRTZXR0aW5nKXsKCQkJJHNldHRpbmcgPSAkdGhpcy0+Z2V0T3B0aW9uKCRrZXkpOwoJCQlpZighaXNzZXQoJHNldHRpbmcpIHx8ICRzZXR0aW5nID09PSBOVUxMKXsKCQkJCSR0aGlzLT51cGRhdGVPcHRpb24oJGtleSwgJGRlZmF1bHRTZXR0aW5nWyd2YWx1ZSddLAoJCQkJJGRlZmF1bHRTZXR0aW5nWydpbmZvJ10sICRkZWZhdWx0U2V0dGluZ1sndHlwZSddKTsKCQkJfQoJCX0KCX0KCQoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjdXJyZW50VXJsKCl7CgkJJHN5c19wcm90b2NhbCA9IGlzc2V0KCRfU0VSVkVSWydTRVJWRVJfUE9SVCddKSAmJiAkX1NFUlZFUlsnU0VSVkVSX1BPUlQnXSA9PSAnNDQzJyA/ICdodHRwczovLycgOiAnaHR0cDovLyc7CgkJJHBocF9zZWxmCSA9ICRfU0VSVkVSWydQSFBfU0VMRiddID8gJF9TRVJWRVJbJ1BIUF9TRUxGJ10gOiAkX1NFUlZFUlsnU0NSSVBUX05BTUUnXTsKCQkkcGF0aF9pbmZvCT0gaXNzZXQoJF9TRVJWRVJbJ1BBVEhfSU5GTyddKSA/ICRfU0VSVkVSWydQQVRIX0lORk8nXSA6ICcnOwoJCSRyZWxhdGVfdXJsICAgPSBpc3NldCgkX1NFUlZFUlsnUkVRVUVTVF9VUkknXSkgPyAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXSA6ICRwaHBfc2VsZiAuIChpc3NldCgkX1NFUlZFUlsnUVVFUllfU1RSSU5HJ10pID8gJz8nIC4gJF9TRVJWRVJbJ1FVRVJZX1NUUklORyddIDogJHBhdGhfaW5mbyk7CgkJcmV0dXJuICRzeXNfcHJvdG9jYWwgLiAoaXNzZXQoJF9TRVJWRVJbJ0hUVFBfSE9TVCddKSA/ICRfU0VSVkVSWydIVFRQX0hPU1QnXSA6ICcnKSAuICRyZWxhdGVfdXJsOwoJfQoJCgkvKioKCSAqICDmiZPljIXpgInpobnkv6Hmga8KCSAqICDkvovlpoLvvJpwYWdlY2thZ2VPcHRpb25zKCk7CgkgKgoJICogQGFjY2VzcwlwdWJsaWMKCSAqIEByZXR1cm4JYXJyYXkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHBhY2thZ2VPcHRpb25zKCkKCXsKCQlnbG9iYWwgJGNmZ193ZWJuYW1lLCRjZmdfZGVzY3JpcHRpb24sJGNmZ19iYXNlaG9zdCwkY2ZnX2luZGV4dXJsLCRjZmdfYWRtaW5lbWFpbCwkY3VyX3VybCwkY2ZnX2NsaV90aW1lOwoJCSRwYXJhbXMgPSBhcnJheSgKCQkJJ25hbWUnCQkJPT4JaHRtbHNwZWNpYWxjaGFyc19kZWNvZGUoJGNmZ193ZWJuYW1lKSwKCQkJJ3Nob3J0X25hbWUnCT0+CSR0aGlzLT5vcHRpb25zWydzaG9ydF9uYW1lJ10sCgkJCSdzeXN0ZW0nCQk9PgknZGVkZWNtcycsCgkJCSdjYWxsYmFjaycJCT0+CXNlbGY6OmN1cnJlbnRVcmwoKSwKCQkJJ2xvY2FsX2FwaV91cmwnID0+ICRjZmdfYmFzZWhvc3QuJy9wbHVzL2R1b3NodW8vYXBpLnBocCcsCgkJCSdwbHVnaW5fdmVyc2lvbicgPT4gc2VsZjo6VkVSU0lPTiwKCQkJJ3VybCcJCQk9PgkkY2ZnX2Jhc2Vob3N0LiRjZmdfaW5kZXh1cmwsCgkJCSdzaXRldXJsJwkJPT4JJGNmZ19iYXNlaG9zdCwKCQkJJ2FkbWluX2VtYWlsJwk9PgkkY2ZnX2FkbWluZW1haWwsCgkJCSd0aW1lem9uZScJCT0+CSdVVEMnIC4gKCRjZmdfY2xpX3RpbWU+PTAgPyAnKycgOiAnJykgLiAkY2ZnX2NsaV90aW1lLAoJCSk7CgkJcmV0dXJuICRwYXJhbXM7Cgl9CgkKCXN0YXRpYyBmdW5jdGlvbiBzZW5kRXhjZXB0aW9uKCRlKXsKCQkkcmVzcG9uc2UgPSBhcnJheSgKCQkJJ2NvZGUnCT0+CSRlLT5nZXRDb2RlKCksCgkJCSdlcnJvck1lc3NhZ2UnPT4kZS0+Z2V0TWVzc2FnZSgpLAoJCSk7CgkJZWNobyBqc29uX2VuY29kZSgkcmVzcG9uc2UpOwoJCWV4aXQ7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBjcmVhdGVQb3N0KCRtZXRhKXsKCQlnbG9iYWwgJGRzcWw7CgkJLy/mn6Xmib7lkIzmraXorrDlvZUKCQkkcG9zdElkID0gJG1ldGFbJ3Bvc3RfaWQnXTsKCQkkc3FsID0gIlNFTEVDVCAqIEZST00gZHVvc2h1b19jb21tZW50bWV0YSBXSEVSRSBwb3N0X2lkID0gJHBvc3RJZCI7CgkJJHN5bmNlZCA9ICRkc3FsLT5HZXRPbmUoJHNxbCk7CgkJaWYoaXNfYXJyYXkoJHN5bmNlZCkpey8vY3JlYXRl5pON5L2c55qE6K+E6K6677yM5rKh5ZCM5q2l6L+H5omN5aSE55CGCgkJCXJldHVybiBudWxsOwoJCX0KCQlpZighZW1wdHkoJG1ldGFbJ3NvdXJjZV90aHJlYWRfaWQnXSkpewoJCQkkYWlkID0gJG1ldGFbJ3NvdXJjZV90aHJlYWRfaWQnXTsKCQkJJHNxbCA9ICJTRUxFQ1QgdGl0bGUgRlJPTSAjQF9fYXJjaGl2ZXMgV0hFUkUgaWQgPSAkYWlkIjsKCQkJJHRocmVhZCA9ICRkc3FsLT5HZXRPbmUoJHNxbCk7CgkJCWlmKGlzX2FycmF5KCR0aHJlYWQpKXsKCQkJCS8v5rOo5oSP6Ziy5q2ic3Fs5rOo5YWlIHRpdGxlLGF1dGhvcl9uYW1lLG1lc3NhZ2UKCQkJCSR0aXRsZSA9IGFkZHNsYXNoZXMoJHRocmVhZFsndGl0bGUnXSk7CgkJCQkkc291cmNlVGhyZWFkSWQgPSAkbWV0YVsnc291cmNlX3RocmVhZF9pZCddOwoJCQkJJGF1dGhvcl9uYW1lID0gYWRkc2xhc2hlcyh0cmltKHN0cmlwX3RhZ3MoJG1ldGFbJ2F1dGhvcl9uYW1lJ10pKSk7CgkJCQkkaXAgPSAkbWV0YVsnaXAnXTsKCQkJCSRpc2NoZWNrID0gc2VsZjo6JGFwcHJvdmVkTWFwWyRtZXRhWydzdGF0dXMnXV07CgkJCQkkZHRpbWUgPSBzdHJ0b3RpbWUoJG1ldGFbJ2NyZWF0ZWRfYXQnXSk7CgkJCQkkbWVzc2FnZSA9IGFkZHNsYXNoZXMoJG1ldGFbJ21lc3NhZ2UnXSk7CgkJCQkkc3FsID0gIklOU0VSVCBJTlRPICNAX19mZWVkYmFjayAoYWlkLHR5cGVpZCx1c2VybmFtZSxhcmN0aXRsZSxpcCxpc2NoZWNrLGR0aW1lLG1pZCxiYWQsZ29vZCxmdHlwZSxmYWNlLG1zZykgVkFMVUVTICgiCgkJCQkuIiRzb3VyY2VUaHJlYWRJZCwxLCckYXV0aG9yX25hbWUnLCckdGl0bGUnLCckaXAnLCRpc2NoZWNrLCckZHRpbWUnLDEsMCwwLCdmZWVkYmFjaycsMSwnJG1lc3NhZ2UnKSI7CgkJCQkkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgkc3FsKTsKCQkJCSRsYXN0X2lkID0gJGRzcWwtPkdldExhc3RJRCgpOwoJCQkJJHNxbCA9ICJJTlNFUlQgSU5UTyBkdW9zaHVvX2NvbW1lbnRtZXRhIChwb3N0X2lkLGNpZCkgVkFMVUVTICgkcG9zdElkLCRsYXN0X2lkKSI7CgkJCQkkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgkc3FsKTsKCQkJCXJldHVybiAkYWlkOwoJCQl9Ly/msqHmnInmlofnq6Dnm7TmjqXnlaXljrvor4TorroKCQl9CgkJcmV0dXJuIG51bGw7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBtb2RlcmF0ZVBvc3QoJGFjdGlvbiwgJHBvc3RJZEFycmF5KXsKCQlnbG9iYWwgJGRzcWw7CgkJJGFpZExpc3QgPSBhcnJheSgpOwoJCWZvcmVhY2goJHBvc3RJZEFycmF5IGFzICRwb3N0SWQpewoJCQkkc3FsID0gIlNFTEVDVCAqIEZST00gZHVvc2h1b19jb21tZW50bWV0YSBXSEVSRSBwb3N0X2lkID0gJHBvc3RJZCI7CgkJCSRzeW5jZWQgPSAkZHNxbC0+R2V0T25lKCRzcWwpOwoJCQlpZighaXNfYXJyYXkoJHN5bmNlZCkpey8v6Z2eY3JlYXRl5pON5L2c55qE6K+E6K6677yM5ZCM5q2l6L+H5omN5aSE55CGCgkJCQljb250aW51ZTsKCQkJfQoJCQkkY2lkID0gJHN5bmNlZFsnY2lkJ107CgkJCSRzcWwgPSAiU0VMRUNUICogRlJPTSAjQF9fZmVlZGJhY2sgV0hFUkUgaWQgPSAkY2lkIjsKCQkJJGNvbW1lbnQgPSAkZHNxbC0+R2V0T25lKCRzcWwpOwoJCQlpZighaXNfYXJyYXkoJGNvbW1lbnQpKXsKCQkJCWNvbnRpbnVlOwoJCQl9CgkJCSRpc2NoZWNrID0gc2VsZjo6JGFjdGlvbk1hcFskYWN0aW9uXTsKCQkJJHNxbCA9ICJVUERBVEUgI0BfX2ZlZWRiYWNrIFNFVCBpc2NoZWNrID0gJGlzY2hlY2sgV0hFUkUgaWQgPSAkY2lkIjsKCQkJJGRzcWwtPkV4ZWN1dGVOb25lUXVlcnkoJHNxbCk7CgkJCSRhaWRMaXN0W10gPSAkY29tbWVudFsnYWlkJ107CgkJfQoJCXJldHVybiAkYWlkTGlzdDsKCX0KCQoJcHVibGljIGZ1bmN0aW9uIGRlbGV0ZUZvcmV2ZXJQb3N0KCRwb3N0SWRBcnJheSl7CgkJZ2xvYmFsICRkc3FsOwoJCSRhaWRMaXN0ID0gYXJyYXkoKTsKCQlmb3JlYWNoKCRwb3N0SWRBcnJheSBhcyAkcG9zdElkKXsKCQkJJHNxbCA9ICJTRUxFQ1QgKiBGUk9NIGR1b3NodW9fY29tbWVudG1ldGEgV0hFUkUgcG9zdF9pZCA9ICIuJHBvc3RJZDsKCQkJJHN5bmNlZCA9ICRkc3FsLT5HZXRPbmUoJHNxbCk7CgkJCWlmKCFpc19hcnJheSgkc3luY2VkKSl7Ly/pnZ5jcmVhdGXmk43kvZznmoTor4TorrrvvIzlkIzmraXov4fmiY3lpITnkIYKCQkJCWNvbnRpbnVlOwoJCQl9CgkJCSRjaWQgPSAkc3luY2VkWydjaWQnXTsKCQkJJHNxbCA9ICJTRUxFQ1QgKiBGUk9NICNAX19mZWVkYmFjayBXSEVSRSBpZCA9ICRjaWQiOwoJCQkkY29tbWVudCA9ICRkc3FsLT5HZXRPbmUoJHNxbCk7CgkJCWlmKCFpc19hcnJheSgkY29tbWVudCkpewoJCQkJY29udGludWU7CgkJCX0KCQkJJHNxbCA9ICJERUxFVEUgRlJPTSAjQF9fZmVlZGJhY2sgV0hFUkUgaWQgPSAkY2lkIjsKCQkJJGRzcWwtPkV4ZWN1dGVOb25lUXVlcnkoJHNxbCk7CgkJCSRyZXN1bHRbXSA9ICRjb21tZW50WydhaWQnXTsKCQl9CgkJcmV0dXJuICRhaWRMaXN0OwoJfQoJCglwdWJsaWMgZnVuY3Rpb24gcmVmcmVzaFRocmVhZHMoJGFpZExpc3QpewoJCWZvcmVhY2goJGFpZExpc3QgYXMgJGFpZCl7CgkJCSRhcmMgPSBuZXcgQXJjaGl2ZXMoJGFpZCk7CgkJCSRhcmMtPk1ha2VIdG1sKCk7CgkJfQoJfQoJCglwdWJsaWMgZnVuY3Rpb24gdXNlckRhdGEoJHVzZXJJZCl7CS8vIG51bGwg5Luj6KGo5b2T5YmN55m75b2V55So5oi377yMMOS7o+ihqOa4uOWuogoJCWlmICgkdXNlcklkID09PSBudWxsKQoJCQkkY3VycmVudF91c2VyID0gd3BfZ2V0X2N1cnJlbnRfdXNlcigpOwoJCWVsc2VpZigkdXNlcklkICE9IDApCgkJCSRjdXJyZW50X3VzZXIgPSBnZXRfdXNlcl9ieSggJ2lkJywgJHVzZXJJZCk7CgkJCgkJaWYgKGlzc2V0KCRjdXJyZW50X3VzZXIpICYmICRjdXJyZW50X3VzZXItPklEKSB7CgkJCSRhdmF0YXJfdGFnID0gZ2V0X2F2YXRhcigkY3VycmVudF91c2VyLT5JRCk7CgkJCSRhdmF0YXJfZGF0YSA9IGFycmF5KCk7CgkJCXByZWdfbWF0Y2goJy8oc3JjKT0oKFwnfCIpW14oXCd8IildKihcJ3wiKSkvaScsICRhdmF0YXJfdGFnLCAkYXZhdGFyX2RhdGEpOwoJCQkkYXZhdGFyID0gc3RyX3JlcGxhY2UoYXJyYXkoJyInLCAiJyIpLCAnJywgJGF2YXRhcl9kYXRhWzJdKTsKCQkJCgkJCXJldHVybiBhcnJheSgKCQkJCSdpZCcgPT4gJGN1cnJlbnRfdXNlci0+SUQsCgkJCQknbmFtZScgPT4gJGN1cnJlbnRfdXNlci0+ZGlzcGxheV9uYW1lLAoJCQkJJ2F2YXRhcicgPT4gJGF2YXRhciwKCQkJCSdlbWFpbCcgPT4gJGN1cnJlbnRfdXNlci0+dXNlcl9lbWFpbCwKCQkJKTsKCQl9CgkJZWxzZXsKCQkJcmV0dXJuIGFycmF5KCk7CgkJfQoJfQp9
</file>
<file type='file' name='../plus/duoshuo/Exception.php'>
PD9waHAKLyoqCiAqIOWkmuivtOaPkuS7tiDnsbvlrprkuYkKICoKICogQHZlcnNpb24JCSRJZDogZHVvc2h1by5waHAgMCAxMDoxNyAyMDEyLTQtMjcgCiAqIEBhdXRob3IgCQlhbGxlbiAKICogQGNvcHlyaWdodAlDb3B5cmlnaHQgKGMpIDIwMTIgLSAsIER1b3NodW8sIEluYy4KICogQGxpbmsJCWh0dHA6Ly9kZXYuZHVvc2h1by5jb20KICovCmNsYXNzIER1b3NodW9fRXhjZXB0aW9uIGV4dGVuZHMgRXhjZXB0aW9uewoJY29uc3QgU1VDQ0VTUwkJPSAwOwoJY29uc3QgRU5EUE9JTlRfTk9UX1ZBTElEID0gMTsKCWNvbnN0IE1JU1NJTkdfT1JfSU5WQUxJRF9BUkdVTUVOVCA9IDI7Cgljb25zdCBFTkRQT0lOVF9SRVNPVVJDRV9OT1RfVkFMSUQgPSAzOwoJY29uc3QgTk9fQVVUSEVOVElDQVRFRCA9IDQ7Cgljb25zdCBJTlZBTElEX0FQSV9LRVkgPSA1OwoJY29uc3QgSU5WQUxJRF9BUElfVkVSU0lPTiA9IDY7Cgljb25zdCBDQU5OT1RfQUNDRVNTID0gNzsKCWNvbnN0IE9CSkVDVF9OT1RfRk9VTkQgPSA4OwoJY29uc3QgQVBJX05PX1BSSVZJTEVHRSA9IDk7Cgljb25zdCBPUEVSQVRJT05fTk9UX1NVUFBPUlRFRCA9IDEwOwoJY29uc3QgQVBJX0tFWV9JTlZBTElEID0gMTE7Cgljb25zdCBOT19QUklWSUxFR0UgPSAxMjsKCWNvbnN0IFJFU09VUkNFX1JBVEVfTElNSVRfRVhDRUVERUQgPSAxMzsKCWNvbnN0IEFDQ09VTlRfUkFURV9MSU1JVF9FWENFRURFRCA9IDE0OwoJY29uc3QgSU5URVJOQUxfU0VSVkVSX0VSUk9SID0gMTU7Cgljb25zdCBSRVFVRVNUX1RJTUVEX09VVCA9IDE2OwoJY29uc3QgTk9fQUNDRVNTX1RPX1RISVNfRkVBVFVSRSA9IDE3OwoJY29uc3QgSU5WQUxJRF9TSUdOQVRVUkUgPSAxODsKCgljb25zdCBVU0VSX0RFTklFRF9ZT1VSX1JFUVVFU1QgPSAyMTsKCWNvbnN0IEVYUElSRURfVE9LRU4gPSAyMjsKCWNvbnN0IFJFRElSRUNUX1VSSV9NSVNNQVRDSCA9IDIzOwoJY29uc3QgRFVQTElDQVRFX0NPTk5FQ1RFRF9BQ0NPVU5UID0gMjQ7CgoJY29uc3QgUExVR0lOX0RFQUNUSVZBVEVEID0gMzA7Cn0K
</file>
<file type='file' name='../plus/duoshuo/LocalServer.php'>
PD9waHAKY2xhc3MgRHVvc2h1b19Mb2NhbFNlcnZlcnsKCQoJcHJvdGVjdGVkICRyZXNwb25zZSA9IGFycmF5KCk7CgkKCXByb3RlY3RlZCAkcGx1Z2luOwoJCglwcm90ZWN0ZWQgJGxpbWl0ID0gNTA7CgkKCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkcGx1Z2luKXsKCQkkdGhpcy0+cGx1Z2luID0gJHBsdWdpbjsKCX0KCQoJLyoqCgkgKiDku47mnI3liqHlmahwdWxs6K+E6K665Yiw5pys5ZywCgkgKiAKCSAqIEBwYXJhbSBhcnJheSAkaW5wdXQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHN5bmNfbG9nKCRpbnB1dCA9IGFycmF5KCkpewoJCSRzeW5jTG9jayA9ICR0aGlzLT5wbHVnaW4tPmdldE9wdGlvbignc3luY19sb2NrJyk7Ly/mo4Dmn6XmmK/lkKbmraPlnKjlkIzmraXor4Torrog5ZCM5q2l5a6M5oiQ5ZCO6K+l5YC85Lya572uMAoJCWlmKCFpc3NldCgkc3luY0xvY2spIHx8ICRzeW5jTG9jayA+IHRpbWUoKS0gOTAwKXsvL+ato+WcqOaIljE15YiG6ZKf5YaF5Y+R55Sf6L+H5YaZ5Zue5L2G5rKh572uMAoJCQkkcmVzcG9uc2UgPSBhcnJheSgKCQkJCQknY29kZScJPT4JRHVvc2h1b19FeGNlcHRpb246OlNVQ0NFU1MsCgkJCQkJJ3Jlc3BvbnNlJz0+ICflkIzmraXkuK3vvIzor7fnqI3lgJknLAoJCQkpOwoJCQlyZXR1cm47CgkJfQoJCQoJCXRyeXsKCQkJJHRoaXMtPnBsdWdpbi0+dXBkYXRlT3B0aW9uKCdzeW5jX2xvY2snLCAgdGltZSgpKTsKCQkJCgkJCSRsYXN0X3N5bmMgPSAkdGhpcy0+cGx1Z2luLT5nZXRPcHRpb24oJ2xhc3Rfc3luYycpOwoJCQkKCQkJJHBhcmFtcyA9IGFycmF5KAoJCQkJJ3NpbmNlJyA9PiAkbGFzdF9zeW5jLAoJCQkJJ2xpbWl0JyA9PiAkdGhpcy0+bGltaXQsCgkJCQknb3JkZXInID0+ICdhc2MnLAoJCQkpOwoJCQkKCQkJJGNsaWVudCA9ICR0aGlzLT5wbHVnaW4tPmdldENsaWVudCgpOwoJCQkKCQkJJHBvc3RzID0gYXJyYXkoKTsKCQkJJGFmZmVjdGVkVGhyZWFkcyA9IGFycmF5KCk7CgkJCSRtYXhfc3luY19kYXRlID0gMDsKCQkJCgkJCWRvewoJCQkJJHJlc3BvbnNlID0gJGNsaWVudC0+Z2V0TG9nTGlzdCgkcGFyYW1zKTsKCQkJCgkJCQkkY291bnQgPSBjb3VudCgkcmVzcG9uc2VbJ3Jlc3BvbnNlJ10pOwoJCQkJCgkJCQlmb3JlYWNoKCRyZXNwb25zZVsncmVzcG9uc2UnXSBhcyAkbG9nKXsKCQkJCQlzd2l0Y2goJGxvZ1snYWN0aW9uJ10pewoJCQkJCQljYXNlICdjcmVhdGUnOgoJCQkJCQkJJGFmZmVjdGVkID0gJHRoaXMtPnBsdWdpbi0+Y3JlYXRlUG9zdCgkbG9nWydtZXRhJ10pOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgJ2FwcHJvdmUnOgoJCQkJCQljYXNlICdzcGFtJzoKCQkJCQkJY2FzZSAnZGVsZXRlJzoKCQkJCQkJCSRhZmZlY3RlZCA9ICR0aGlzLT5wbHVnaW4tPm1vZGVyYXRlUG9zdCgkbG9nWydhY3Rpb24nXSwgJGxvZ1snbWV0YSddKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICdkZWxldGUtZm9yZXZlcic6CgkJCQkJCQkkYWZmZWN0ZWQgPSAkdGhpcy0+cGx1Z2luLT5kZWxldGVGb3JldmVyUG9zdCgkbG9nWydtZXRhJ10pOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgJ3VwZGF0ZSc6Ly/njrDlnKjlubbmsqHmnIl1cGRhdGXmk43kvZznmoTpgLvovpEKCQkJCQkJZGVmYXVsdDoKCQkJCQkJCSRhZmZlY3RlZCA9IGFycmF5KCk7CgkJCQkJfQoJCQkJCS8v5ZCI5bm2CgkJCQkJCgkJCQkJJGFmZmVjdGVkVGhyZWFkcyA9IGFycmF5X21lcmdlKCRhZmZlY3RlZFRocmVhZHMsICRhZmZlY3RlZCk7CgkJCQkKCQkJCQlpZiAoJGxvZ1snZGF0ZSddID4gJG1heF9zeW5jX2RhdGUpCgkJCQkJCSRtYXhfc3luY19kYXRlID0gJGxvZ1snZGF0ZSddOwoJCQkJfQoJCQkJCgkJCQkkcGFyYW1zWydzaW5jZSddID0gJG1heF9zeW5jX2RhdGU7CgkJCQkJCgkJCX0gd2hpbGUgKCRjb3VudCA9PSAkdGhpcy0+bGltaXQpOy8v5aaC5p6c6L+U5Zue5ZKM5pyA5aSn6K+35rGC5p2h5pWw5LiA6Ie077yM5YiZ5YaN5Y+W5LiA5qyhCgkJCQoJCQkvL+WUr+S4gOWMlgoJCQkkYWlkTGlzdCA9IGFycmF5X3VuaXF1ZSgkYWZmZWN0ZWRUaHJlYWRzKTsKCQkJCQkKCQkJaWYgKCRtYXhfc3luY19kYXRlID4gJGxhc3Rfc3luYykKCQkJCSR0aGlzLT5wbHVnaW4tPnVwZGF0ZU9wdGlvbignbGFzdF9zeW5jJywgJG1heF9zeW5jX2RhdGUpOwoJCQkKCQkJJHRoaXMtPnBsdWdpbi0+dXBkYXRlT3B0aW9uKCdzeW5jX2xvY2snLCAgMCk7CgkJCQoJCQkvL+abtOaWsOmdmeaAgeaWh+S7tgoJCQlpZiAoJHRoaXMtPnBsdWdpbi0+Z2V0T3B0aW9uKCdzeW5jX3RvX2xvY2FsJykgJiYgJHRoaXMtPnBsdWdpbi0+Z2V0T3B0aW9uKCdzZW9fZW5hYmxlZCcpKQoJCQkJJHRoaXMtPnBsdWdpbi0+cmVmcmVzaFRocmVhZHMoJGFpZExpc3QpOwoJCQkKCQkJJHRoaXMtPnBsdWdpbi0+dXBkYXRlT3B0aW9uKCdzeW5jX2xvY2snLCAxKTsKCQl9CgkJY2F0Y2goRXhjZXB0aW9uICRleCl7CgkJCSR0aGlzLT5wbHVnaW4tPnVwZGF0ZU9wdGlvbignc3luY19sb2NrJywgJGV4LT5nZXRMaW5lKCkpOwoJCQkvL1Nob3dtc2coJGUtPmdldE1lc3NhZ2UoKSk7CgkJfQoJCQoJCS8vJHRoaXMtPnJlc3BvbnNlWydyZXNwb25zZSddCgkJJHRoaXMtPnJlc3BvbnNlWydjb2RlJ10gPSBEdW9zaHVvX0V4Y2VwdGlvbjo6U1VDQ0VTUzsKCX0KCQoJcHVibGljIGZ1bmN0aW9uIHVwZGF0ZV9vcHRpb24oJGlucHV0ID0gYXJyYXkoKSl7CgkJLy9kdW9zaHVvX3Nob3J0X25hbWUKCQkvL2R1b3NodW9fc2VjcmV0CgkJLy9kdW9zaHVvX25vdGljZQoJCWZvcmVhY2goJGlucHV0IGFzICRvcHRpb25OYW1lID0+ICRvcHRpb25WYWx1ZSkKCQkJaWYgKHN1YnN0cigkb3B0aW9uTmFtZSwgMCwgOCkgPT09ICdkdW9zaHVvXycpewoJCQkJJHRoaXMtPnBsdWdpbi0+dXBkYXRlT3B0aW9uKHN1YnN0cigkb3B0aW9uTmFtZSwgOCksICRvcHRpb25WYWx1ZSk7CgkJCX0KCQkkdGhpcy0+cmVzcG9uc2VbJ2NvZGUnXSA9IDA7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBzZW5kUmVzcG9uc2UoKXsKCQllY2hvIGpzb25fZW5jb2RlKCR0aGlzLT5yZXNwb25zZSk7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBkaXNwYXRjaCgkaW5wdXQpewoJCWlmICghaXNzZXQoJGlucHV0WydzaWduYXR1cmUnXSkpCgkJCXRocm93IG5ldyBEdW9zaHVvX0V4Y2VwdGlvbignSW52YWxpZCBzaWduYXR1cmUuJywgRHVvc2h1b19FeGNlcHRpb246OklOVkFMSURfU0lHTkFUVVJFKTsKCQkKCQkkc2lnbmF0dXJlID0gJGlucHV0WydzaWduYXR1cmUnXTsKCQl1bnNldCgkaW5wdXRbJ3NpZ25hdHVyZSddKTsKCQkKCQlrc29ydCgkaW5wdXQpOwoJCSRiYXNlU3RyaW5nID0gaHR0cF9idWlsZF9xdWVyeSgkaW5wdXQsIG51bGwsICcmJyk7CgkJCgkJJGV4cGVjdFNpZ25hdHVyZSA9IGJhc2U2NF9lbmNvZGUoaGFzaF9obWFjKCdzaGExJywgJGJhc2VTdHJpbmcsICR0aGlzLT5wbHVnaW4tPmdldE9wdGlvbignc2VjcmV0JyksIHRydWUpKTsKCQlpZiAoJHNpZ25hdHVyZSAhPT0gJGV4cGVjdFNpZ25hdHVyZSkKCQkJdGhyb3cgbmV3IER1b3NodW9fRXhjZXB0aW9uKCdJbnZhbGlkIHNpZ25hdHVyZSwgZXhwZWN0OiAnIC4gJGV4cGVjdFNpZ25hdHVyZSAuICcuICgnIC4gJGJhc2VTdHJpbmcgLiAnKScsIER1b3NodW9fRXhjZXB0aW9uOjpJTlZBTElEX1NJR05BVFVSRSk7CgkJCgkJJG1ldGhvZCA9ICRpbnB1dFsnYWN0aW9uJ107CgkJCgkJaWYgKCFtZXRob2RfZXhpc3RzKCR0aGlzLCAkbWV0aG9kKSkKCQkJdGhyb3cgbmV3IER1b3NodW9fRXhjZXB0aW9uKCdVbmtub3duIGFjdGlvbi4nLCBEdW9zaHVvX0V4Y2VwdGlvbjo6T1BFUkFUSU9OX05PVF9TVVBQT1JURUQpOwoJCQoJCSR0aGlzLT4kbWV0aG9kKCRpbnB1dCk7CgkJJHRoaXMtPnNlbmRSZXNwb25zZSgpOwoJfQoJCglzdGF0aWMgZnVuY3Rpb24gc2VuZEV4Y2VwdGlvbigkZSl7CgkJJHJlc3BvbnNlID0gYXJyYXkoCgkJCSdjb2RlJwk9PgkkZS0+Z2V0Q29kZSgpLAoJCQknZXJyb3JNZXNzYWdlJz0+JGUtPmdldE1lc3NhZ2UoKSwKCQkpOwoJCWVjaG8ganNvbl9lbmNvZGUoJHJlc3BvbnNlKTsKCX0KfQo=
</file>
</modulefiles>
</module>
